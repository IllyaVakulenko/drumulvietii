(()=>{var e,t={646:(e,t,n)=>{"use strict";var s=n(196);const a=window.wp.element,r={setAutoConnect:e=>({type:"SET_AUTO_CONNECT",autoConnect:e}),setAPIKey:e=>({type:"SET_API_KEY",apiKey:e}),setAvailableApps:e=>({type:"SET_AVAILABLE_APPS",availableApps:e}),setIsConnected:e=>({type:"SET_IS_CONNECTED",isConnected:e}),setIsConnecting:e=>({type:"SET_IS_CONNECTING",isConnecting:e}),setIsLoading:e=>({type:"SET_IS_LOADING",isLoading:e}),sethasDashboardLoaded:e=>({type:"SET_HAS_DASHBOARD_LOADED",hasDashboardLoaded:e}),setHasRestError:e=>({type:"SET_HAS_REST_ERROR",hasRestError:e}),setHasValidKey:e=>({type:"SET_HAS_VALID_KEY",hasValidKey:e}),setHasApplication:e=>({type:"SET_HAS_APPLICATION",hasApplication:e}),setUserData:e=>({type:"SET_USER_DATA",data:e}),setUserStatus:e=>({type:"SET_USER_STATUS",status:e}),setShowDisconnect:e=>({type:"SET_SHOW_DISCONNECT",showDisconnect:e}),setConflicts:e=>({type:"SET_CONFLICTS",conflicts:e}),setOptimizedImages:e=>({type:"SET_OPTIMIZED_IMAGES",optimizedImages:e}),setSiteSettings:e=>({type:"SET_SITE_SETTINGS",siteSettings:e}),setExtraVisits:e=>({type:"SET_EXTRA_VISITS",extraVisitsStatus:e}),setSampleRate:e=>({type:"SET_SAMPLE_RATE",sampleRate:e}),setTotalNumberOfImages:e=>({type:"SET_TOTAL_NUMBER_OF_IMAGES",totalNumberOfImages:e}),setProcessedImages:e=>({type:"SET_PROCESSED_IMAGES",processedImages:e}),setOffloadLibraryLink:e=>({type:"SET_OFFLOAD_LIBRARY_LINK",offloadLibraryLink:e}),setRollbackLibraryLink:e=>({type:"SET_ROLLBACK_LIBRARY_LINK",rollbackLibraryLink:e}),setLoadingRollback:e=>({type:"SET_LOADING_ROLLBACK",loadingRollback:e}),setLoadingSync:e=>({type:"SET_LOADING_SYNC",loadingSync:e}),setQueryArgs:e=>({type:"SET_QUERY_ARGS",queryArgs:e}),setErrorMedia:e=>({type:"SET_ERROR_MEDIA",errorMedia:e}),setEstimatedTime:e=>({type:"SET_ESTIMATED_TIME",estimatedTime:e}),setCheckedOffloadConflicts:e=>({type:"SET_CHECKED_OFFLOAD_CONFLICTS",checkedOffloadConflicts:e}),setOffloadConflicts:e=>({type:"SET_OFFLOAD_CONFLICTS",offloadConflicts:e}),setLogs:(e,t)=>({type:"SET_LOGS",logsType:e,logs:t}),setShowFinishNotice:e=>({type:"SET_SITE_SETTINGS",siteSettings:{show_offload_finish_notice:e}}),setOffloadLimitReached:e=>({type:"SET_SITE_SETTINGS",siteSettings:{offload_limit_reached:e}}),ensureOffloadingRollbackDisabled:()=>({type:"SET_SITE_SETTINGS",siteSettings:{offloading_status:"disabled",rollback_status:"disabled"}}),setOffloadLimit:e=>({type:"SET_OFFLOAD_LIMIT",offloadLimit:e})},o={autoConnect:optimoleDashboardApp.auto_connect,isConnected:"yes"===optimoleDashboardApp.connection_status,isConnecting:!1,isLoading:!1,hasRestError:!1,hasValidKey:!0,hasApplication:"yes"===optimoleDashboardApp.has_application,apiKey:optimoleDashboardApp.api_key?optimoleDashboardApp.api_key:"",userStatus:optimoleDashboardApp.user_status?optimoleDashboardApp.user_status:"inactive",userData:optimoleDashboardApp.user_data?optimoleDashboardApp.user_data:null,availableApps:optimoleDashboardApp.available_apps?optimoleDashboardApp.available_apps:null,hasDashboardLoaded:"yes"===optimoleDashboardApp.connection_status,showDisconnect:!1,conflicts:[],optimizedImages:[],siteSettings:optimoleDashboardApp.site_settings,sampleRate:{},totalNumberOfImages:0,processedImages:0,offloadLibraryLink:!1,rollbackLibraryLink:!1,loadingRollback:!1,loadingSync:!1,queryArgs:[],errorMedia:!1,checkedOffloadConflicts:!1,offloadConflicts:[],offloadLimit:optimoleDashboardApp.offload_limit||5e4,logs:{offload:"",rollback:""}},i=(e=o,t)=>{switch(t.type){case"SET_AUTO_CONNECT":return{...e,autoConnect:t.autoConnect};case"SET_HAS_REST_ERROR":case"SET_HAS_REST_ERROR":return{...e,hasRestError:t.hasRestError};case"SET_API_KEY":return{...e,apiKey:t.apiKey};case"SET_AVAILABLE_APPS":return{...e,availableApps:t.availableApps};case"SET_IS_CONNECTED":return{...e,isConnected:t.isConnected};case"SET_IS_CONNECTING":return{...e,isConnecting:t.isConnecting};case"SET_IS_LOADING":return{...e,isLoading:t.isLoading};case"SET_HAS_DASHBOARD_LOADED":return{...e,hasDashboardLoaded:t.hasDashboardLoaded};case"SET_HAS_VALID_KEY":return{...e,hasValidKey:t.hasValidKey};case"SET_HAS_APPLICATION":return{...e,hasApplication:t.hasApplication};case"SET_USER_DATA":let n="inactive";const{data:s}=t;if(s&&s.app_count&&1<=s.app_count&&s.cdn_key)for(let e of s.available_apps)e.key&&e.key===s.cdn_key&&e.status&&"active"===e.status&&(n="active");return{...e,userData:t.data,userStatus:n};case"SET_USER_STATUS":return{...e,userStatus:t.status};case"SET_SHOW_DISCONNECT":return{...e,showDisconnect:t.showDisconnect};case"SET_CONFLICTS":return{...e,conflicts:t.conflicts};case"SET_OPTIMIZED_IMAGES":return{...e,optimizedImages:t.optimizedImages};case"SET_SITE_SETTINGS":let{siteSettings:a}=e;for(let e in t.siteSettings)a[e]=t.siteSettings[e];return{...e,siteSettings:a};case"SET_EXTRA_VISITS":{let{siteSettings:n}=e;return n.banner_frontend=t.extraVisitsStatus?"enabled":"disabled",{...e,siteSettings:n}}case"SET_SAMPLE_RATE":return{...e,sampleRate:t.sampleRate};case"SET_TOTAL_NUMBER_OF_IMAGES":return{...e,totalNumberOfImages:t.totalNumberOfImages};case"SET_PROCESSED_IMAGES":return{...e,processedImages:t.processedImages};case"SET_OFFLOAD_LIBRARY_LINK":return{...e,offloadLibraryLink:t.offloadLibraryLink};case"SET_ROLLBACK_LIBRARY_LINK":return{...e,rollbackLibraryLink:t.rollbackLibraryLink};case"SET_LOADING_ROLLBACK":return Object.prototype.hasOwnProperty.call(e.queryArgs,"optimole_action")&&(e.rollbackLibraryLink=!t.loadingSync),{...e,loadingRollback:t.loadingRollback};case"SET_LOADING_SYNC":return Object.prototype.hasOwnProperty.call(e.queryArgs,"optimole_action")&&(e.offloadLibraryLink=!t.loadingSync),{...e,loadingSync:t.loadingSync};case"SET_QUERY_ARGS":return{...e,queryArgs:t.queryArgs};case"SET_ERROR_MEDIA":return{...e,errorMedia:t.errorMedia};case"SET_CHECKED_OFFLOAD_CONFLICTS":return{...e,checkedOffloadConflicts:t.checkedOffloadConflicts};case"SET_OFFLOAD_CONFLICTS":return{...e,offloadConflicts:t.offloadConflicts};case"SET_LOGS":let{logs:r}=e;return r[t.logsType]=t.logs,{...e,logs:r};case"SET_OFFLOAD_LIMIT":return{...e,offloadLimit:t.offloadLimit};default:return e}},l={getAutoConnect:e=>e.autoConnect,getAPIKey:e=>e.apiKey,getAvailableApps:e=>e.availableApps,hasRestError:e=>e.hasRestError,hasValidKey:e=>e.hasValidKey,hasApplication:e=>e.hasApplication,hasDashboardLoaded:e=>e.hasDashboardLoaded,getUserData:e=>e.userData,getUserStatus:e=>e.userStatus,isConnected:e=>e.isConnected,isConnecting:e=>e.isConnecting,isLoading:e=>e.isLoading,showDisconnect:e=>e.showDisconnect,getConflicts:e=>e.conflicts,getOptimizedImages:e=>e.optimizedImages,getSiteSettings:(e,t=void 0)=>t?void 0!==e.siteSettings[t]?e.siteSettings[t]:void 0:e.siteSettings,getSampleRate:e=>e.sampleRate,getTotalNumberOfImages:e=>e.totalNumberOfImages,getProcessedImages:e=>e.processedImages,getOffloadLibraryLink:e=>e.offloadLibraryLink,getRollbackLibraryLink:e=>e.rollbackLibraryLink,getLoadingRollback:e=>e.loadingRollback,getLoadingSync:e=>e.loadingSync,getQueryArgs:e=>e.queryArgs,getErrorMedia:e=>e.errorMedia,getCheckedOffloadConflicts:e=>e.checkedOffloadConflicts,getOffloadConflicts:e=>e.offloadConflicts,getOffloadLimit:e=>e.offloadLimit,getLogs:(e,t=void 0)=>t?void 0!==e.logs[t]?e.logs[t]:void 0:e.logs};if(void 0!==wp.data.createReduxStore){const e=wp.data.createReduxStore("optimole",{reducer:i,actions:r,selectors:l});wp.data.register(e)}else wp.data.registerStore("optimole",{reducer:i,actions:r,selectors:l});const d=window.wp.data;var c=n(184),u=n.n(c);const p=window.wp.primitives,m=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),h=window.wp.components,f=()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none"},(0,s.createElement)("path",{d:"M17.357 2.92894C16.9664 2.53842 16.3333 2.53842 15.9427 2.92894C15.5522 3.31946 15.5522 3.95263 15.9427 4.34315L17.357 2.92894ZM16.6499 16.364L15.9427 17.0711H15.9427L16.6499 16.364ZM14.5285 5.75737C14.138 5.36684 13.5048 5.36684 13.1143 5.75737C12.7238 6.14789 12.7238 6.78106 13.1143 7.17158L14.5285 5.75737ZM13.8214 13.5355L13.1143 14.2426L13.1143 14.2427L13.8214 13.5355ZM6.04325 14.2427C6.43377 14.6332 7.06694 14.6332 7.45746 14.2427C7.84799 13.8521 7.84799 13.219 7.45746 12.8284L6.04325 14.2427ZM6.32586 10.5662C6.24822 10.0194 5.74201 9.63905 5.19521 9.71669C4.64841 9.79434 4.26808 10.3005 4.34573 10.8473L6.32586 10.5662ZM3.21482 17.0711C3.60535 17.4616 4.23851 17.4616 4.62903 17.0711C5.01956 16.6806 5.01956 16.0474 4.62903 15.6569L3.21482 17.0711ZM2.70292 7.44452C2.87885 6.921 2.59707 6.354 2.07355 6.17807C1.55004 6.00215 0.98303 6.28393 0.807105 6.80744L2.70292 7.44452ZM1.993 0.292893C1.60247 -0.0976311 0.969306 -0.0976311 0.578782 0.292893C0.188258 0.683417 0.188258 1.31658 0.578782 1.70711L1.993 0.292893ZM18.5788 19.7071C18.9693 20.0976 19.6025 20.0976 19.993 19.7071C20.3835 19.3166 20.3835 18.6834 19.993 18.2929L18.5788 19.7071ZM15.9427 4.34315C19.0669 7.46735 19.0669 12.5327 15.9427 15.6569L17.357 17.0711C21.2622 13.1658 21.2622 6.83418 17.357 2.92894L15.9427 4.34315ZM13.1143 7.17158C14.6764 8.73368 14.6764 11.2663 13.1143 12.8284L14.5285 14.2427C16.8717 11.8995 16.8717 8.10051 14.5285 5.75737L13.1143 7.17158ZM10.2859 10H12.2859C12.2859 8.89544 11.3905 8.00001 10.2859 8.00001V10ZM7.45746 12.8284C6.81978 12.1908 6.44341 11.394 6.32586 10.5662L4.34573 10.8473C4.52209 12.0894 5.08876 13.2882 6.04325 14.2427L7.45746 12.8284ZM4.62903 15.6569C2.40899 13.4368 1.76507 10.2354 2.70292 7.44452L0.807105 6.80744C-0.363267 10.2902 0.43743 14.2937 3.21482 17.0711L4.62903 15.6569ZM10.2859 10L10.2859 10V8.00001C9.73388 8.00001 9.23252 8.22496 8.87168 8.58578L10.2859 10ZM0.578782 1.70711L8.87168 10L10.2859 8.58579L1.993 0.292893L0.578782 1.70711ZM8.87168 10L10.2859 11.4142L11.7001 10L10.2859 8.58579L8.87168 10ZM10.2859 11.4142L13.1143 14.2426L14.5285 12.8284L11.7001 10L10.2859 11.4142ZM13.1143 14.2427L15.9427 17.0711L17.357 15.6569L14.5285 12.8284L13.1143 14.2427ZM15.9427 17.0711L18.5788 19.7071L19.993 18.2929L17.357 15.6569L15.9427 17.0711ZM10.2859 10L10.2859 10L11.7001 11.4142C12.0609 11.0534 12.2859 10.552 12.2859 10H10.2859Z",fill:"#E77777"})),g=()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"16",viewBox:"0 0 21 16",fill:"none"},(0,s.createElement)("path",{d:"M4.00127 14.3639C0.486555 10.8492 0.486555 5.15071 4.00127 1.63599M16.7292 1.63599C20.2439 5.15071 20.2439 10.8492 16.7292 14.3639M6.8297 11.5355C4.87708 9.58286 4.87708 6.41704 6.8297 4.46441M13.9008 4.46441C15.8534 6.41704 15.8534 9.58286 13.9008 11.5355M11.3652 7.99995C11.3652 8.55223 10.9175 8.99995 10.3652 8.99995C9.81295 8.99995 9.36523 8.55223 9.36523 7.99995C9.36523 7.44766 9.81295 6.99995 10.3652 6.99995C10.9175 6.99995 11.3652 7.44766 11.3652 7.99995Z",stroke:"#6D955A","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),b=()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewBox:"0 0 55 55",fill:"none"},(0,s.createElement)("path",{d:"M46.6215 21.757C44.6278 22.9074 43.5209 25.0684 43.5415 27.3692C43.5415 27.4128 43.5415 27.4563 43.5415 27.4999C43.5415 27.5434 43.5415 27.5892 43.5415 27.6328C43.5209 29.9336 44.6278 32.0947 46.6215 33.2451L46.6399 33.2565C47.9943 34.038 49.7565 33.2657 50.043 31.728C50.5678 28.9047 50.5426 26.0378 50.0178 23.2717C49.7268 21.7386 47.9713 20.9778 46.6215 21.757V21.757Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M19.8137 13.4291C19.6052 13.5437 19.3989 13.6629 19.195 13.7866C17.2906 14.9462 14.8958 14.9256 12.9639 13.8096C11.621 13.035 11.385 11.1421 12.5583 10.1291C14.701 8.27747 17.1875 6.8131 19.9145 5.85518C21.3812 5.33955 22.912 6.48997 22.912 8.04372V8.06205C22.912 10.2781 21.7547 12.3635 19.8137 13.4291V13.4291Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M19.8137 13.4291C19.6052 13.5437 19.3989 13.6629 19.195 13.7866C17.2906 14.9462 14.8958 14.9256 12.9639 13.8096C11.621 13.035 11.385 11.1421 12.5583 10.1291C14.701 8.27747 17.1875 6.8131 19.9145 5.85518C21.3812 5.33955 22.912 6.48997 22.912 8.04372V8.06205C22.912 10.2781 21.7547 12.3635 19.8137 13.4291V13.4291Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M35.2025 41.5616C35.4065 41.4493 35.6081 41.3325 35.8075 41.211C37.7119 40.0514 40.1067 40.0721 42.0386 41.1881C43.3815 41.9627 43.6175 43.8556 42.4442 44.8685C40.3015 46.7202 37.815 48.1846 35.0879 49.1448C33.6213 49.6627 32.0881 48.5123 32.0881 46.9562C32.0881 44.731 33.2523 42.6364 35.2025 41.5616V41.5616Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M8.37836 33.243C7.02857 34.0221 5.27315 33.2613 4.98211 31.7305C4.45732 28.9644 4.43211 26.0953 4.9569 23.2719C5.24336 21.7342 7.00336 20.9619 8.35773 21.7434L8.37836 21.7548C10.3721 22.9053 11.479 25.0663 11.4584 27.3671C11.4584 27.4107 11.4584 27.4565 11.4584 27.5001C11.4584 27.5436 11.4584 27.5871 11.4584 27.6307C11.479 29.9315 10.3721 32.0926 8.37836 33.243V33.243Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M8.37836 33.243C7.02857 34.0221 5.27315 33.2613 4.98211 31.7305C4.45732 28.9644 4.43211 26.0953 4.9569 23.2719C5.24336 21.7342 7.00336 20.9619 8.35773 21.7434L8.37836 21.7548C10.3721 22.9053 11.479 25.0663 11.4584 27.3671C11.4584 27.4107 11.4584 27.4565 11.4584 27.5001C11.4584 27.5436 11.4584 27.5871 11.4584 27.6307C11.479 29.9315 10.3721 32.0926 8.37836 33.243V33.243Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M32.0881 8.06439C32.0881 6.50605 33.6258 5.36709 35.0948 5.88043C37.7531 6.80855 40.2511 8.22022 42.435 10.0902C43.6221 11.1077 43.4113 13.0167 42.0569 13.7981L42.0363 13.8096C40.1044 14.9233 37.7119 14.9463 35.8075 13.7867C35.6036 13.6629 35.3973 13.5415 35.1865 13.4269C33.2454 12.3636 32.0881 10.2781 32.0881 8.06439V8.06439Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M32.0881 8.06439C32.0881 6.50605 33.6258 5.36709 35.0948 5.88043C37.7531 6.80855 40.2511 8.22022 42.435 10.0902C43.6221 11.1077 43.4113 13.0167 42.0569 13.7981L42.0363 13.8096C40.1044 14.9233 37.7119 14.9463 35.8075 13.7867C35.6036 13.6629 35.3973 13.5415 35.1865 13.4269C33.2454 12.3636 32.0881 10.2781 32.0881 8.06439V8.06439Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M22.9122 46.9357C22.9122 48.494 21.3745 49.633 19.9055 49.1196C17.2472 48.1915 14.7493 46.7798 12.5653 44.9098C11.3782 43.8923 11.5891 41.9834 12.9434 41.2019C14.8868 40.079 17.2953 40.0607 19.2157 41.2248C19.4128 41.344 19.6122 41.4609 19.8161 41.5709C21.7549 42.6365 22.9122 44.7219 22.9122 46.9357V46.9357Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M27.5 20.6256L34.3755 27.5011L27.5 34.3766L20.6245 27.5011L27.5 20.6256Z",stroke:"#577BF9","stroke-width":"1.91406","stroke-linecap":"round","stroke-linejoin":"round"})),_=(0,s.createElement)("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.9581 0C13.5192 0 17.2136 3.58 17.2136 8C17.2136 12.42 13.5192 16 8.9581 16C4.39696 16 0.702637 12.42 0.702637 8C0.702637 3.58 4.39696 0 8.9581 0ZM10.6558 9L11.0219 3H7.92606L8.29211 9H10.6558ZM11.0219 11.5115C11.0219 11.9809 10.8811 12.3473 10.6213 12.6107C10.3507 12.874 9.97188 13 9.48478 13C8.99768 13 8.61882 12.874 8.33739 12.6107C8.06677 12.3473 7.92606 11.9809 7.92606 11.5115C7.92606 11.0305 8.05595 10.6641 8.32656 10.4008C8.59717 10.1374 8.97603 10 9.48478 10C9.99353 10 10.3724 10.1374 10.6322 10.4008C10.892 10.6641 11.0219 11.0305 11.0219 11.5115Z",fill:"#AF3535"})),v=(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M17.25 8.25H21V4.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M3 12C3 7.029 7.029 3 12 3C15.63 3 18.751 5.154 20.174 8.25",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M6.75 15.75H3V19.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M21 12C21 16.971 16.971 21 12 21C8.37 21 5.249 18.846 3.826 15.75",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),y=(0,s.createElement)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M35.8621 13.647L22.0095 27.4996L15.085 20.5733",fill:"none",stroke:"white","stroke-width":"2.75","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M38.5 22C38.5 31.1135 31.1135 38.5 22 38.5C12.8865 38.5 5.5 31.1135 5.5 22C5.5 12.8865 12.8865 5.5 22 5.5C24.6638 5.5 27.1718 6.14717 29.3993 7.26733",fill:"none",stroke:"white","stroke-width":"2.75","stroke-linecap":"round","stroke-linejoin":"round"})),w=(0,s.createElement)("svg",{width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M5 15C2.79086 15 1 13.2091 1 11C1 9.09295 2.33457 7.4976 4.12071 7.09695C4.04169 6.74395 4 6.37684 4 6C4 3.23858 6.23858 1 9 1C11.4193 1 13.4373 2.71825 13.9002 5.00098C13.9334 5.00033 13.9666 5 14 5C16.7614 5 19 7.23858 19 10C19 12.419 17.2822 14.4367 15 14.9M13 12L10 9M10 9L7 12M10 9L10 21",stroke:"#577BF9","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),k=(0,s.createElement)("svg",{width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M5 15C2.79086 15 1 13.2091 1 11C1 9.09295 2.33457 7.4976 4.12071 7.09695C4.04169 6.74395 4 6.37684 4 6C4 3.23858 6.23858 1 9 1C11.4193 1 13.4373 2.71825 13.9002 5.00098C13.9334 5.00033 13.9666 5 14 5C16.7614 5 19 7.23858 19 10C19 12.419 17.2822 14.4367 15 14.9M7 18L10 21M10 21L13 18M10 21V9",stroke:"#577BF9","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),x=(0,s.createElement)("svg",{width:"20",height:"18",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M10.0015 8V10M10.0015 14H10.0115M3.0733 18H16.9297C18.4693 18 19.4316 16.3333 18.6618 15L11.7336 3C10.9637 1.66667 9.03925 1.66667 8.26945 3L1.34125 15C0.571445 16.3333 1.5337 18 3.0733 18Z",stroke:"#DE9F0C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),E=window.wp.apiFetch;var C=n.n(E);const S=window.wp.url,j=window.wp.notices,N=window.optimoleDashboardApp.submenu_links,A=(e=!0)=>{const t=document.querySelector("li#toplevel_page_optimole");let n=document.querySelector("li#toplevel_page_optimole .wp-submenu");n||(n=document.createElement("ul"),n.classList.add("wp-submenu","wp-submenu-wrap"),t.classList.add("wp-has-submenu","wp-has-current-submenu","wp-menu-open"),t.appendChild(n)),e?(N.forEach((e=>{if(document.querySelector(`li#toplevel_page_optimole a[href="${e.href}"]`))return;const t=document.createElement("li"),s=document.createElement("a");s.href=e.href,s.innerHTML=e.text,t.appendChild(s),e.hash&&e.hash===window.location.hash&&(t.classList.add("current"),s.classList.add("current")),n.appendChild(t)})),n.style.display="block"):n.style.display="none"},{setIsConnected:L,setIsConnecting:I,setIsLoading:D,setHasRestError:T,setHasValidKey:M,setHasApplication:O,setAPIKey:F,setUserData:B,setAvailableApps:P,sethasDashboardLoaded:R,setShowDisconnect:z,setConflicts:q,setOptimizedImages:Z,setSiteSettings:U,setSampleRate:H,setCheckedOffloadConflicts:$,setOffloadConflicts:V,setLoadingSync:W,setLoadingRollback:K,setTotalNumberOfImages:Q,setProcessedImages:G,setErrorMedia:Y,setOffloadLibraryLink:X,setRollbackLibraryLink:J,setExtraVisits:ee,setLogs:te,setShowFinishNotice:ne,setOffloadLimitReached:se,ensureOffloadingRollbackDisabled:ae,setOffloadLimit:re}=(0,d.dispatch)("optimole"),{getOptimizedImages:oe,getQueryArgs:ie,getTotalNumberOfImages:le,getSiteSettings:de}=(0,d.select)("optimole"),{createNotice:ce}=(0,d.dispatch)(j.store),ue=(e={})=>{e.offset=void 0!==e.offset?e.offset:0,C()({path:optimoleDashboardApp.routes.upload_onboard_images,method:"POST",data:e}).then((t=>{!1===t.data&&1e3>e.offset&&ue({offset:e.offset+100}),"success"===t.code&&console.log("%c Images Crawled.","color: #59B278")})).catch((e=>(console.log("Error while crawling images",e),e.data)))},pe=(e,t=(()=>{}))=>{I(!0),D(!0),T(!1),C()({path:optimoleDashboardApp.routes.register_service,method:"POST",data:e,parse:!1}).then((e=>e.json())).then((e=>(I(!1),D(!1),"success"===e.code&&(L(!0),M(!0),O(!0),F(e.data.api_key),B(e.data),P(e.data),ue(),A(!0)),t&&t(e),e.data))).catch((e=>(I(!1),D(!1),T(!0),e.data)))},me=()=>{D(!0),C()({path:optimoleDashboardApp.routes.disconnect,method:"GET",parse:!1}).then((e=>{D(!1),O(!1),F(""),B(null),P(null),e.ok?(L(!1),R(!1),z(!1),A(!1),console.log("%c Disconnected from OptiMole API.","color: #59B278")):console.error(e)}))},he=()=>{D(!0),C()({path:optimoleDashboardApp.routes.request_update,method:"GET",parse:!1}).then((e=>200<=e.status&&300>e.status?e.json():(console.log(`%c Request failed with status ${e.status}`,"color: #E7602A"),Promise.resolve()))).then((e=>{D(!1),e&&(B(e.data),void 0!==e?.data?.extra_visits&&ee(e.data.extra_visits),"disconnected"===e.code&&(L(!1),R(!1),console.log("%c Disconnected from OptiMole API.","color: #59B278")))}))},fe=(e=(()=>{}))=>{if(0<oe().length)return console.log("%c Images already exist.","color: #59B278"),e&&e(),!1;C()({path:optimoleDashboardApp.routes.poll_optimized_images,method:"GET"}).then((t=>{"success"===t.code?(Z(t.data),console.log("%c Images Fetched.","color: #59B278")):console.log("%c No images available.","color: #E7602A"),e&&e(t)})).catch((e=>(console.log("Error while polling images",e),e.data)))},ge=(e,t=!1,n=!1,s=(()=>{}))=>{D(!0),C()({path:optimoleDashboardApp.routes.update_option,method:"POST",data:{settings:e}}).then((e=>{D(!1),"success"===e.code&&(U(e.data),n||we(optimoleDashboardApp.strings.options_strings.settings_saved),console.log("%c Settings Saved.","color: #59B278"))})).then((()=>{t&&he()})).then((()=>{s()})).catch((e=>(D(!1),we(optimoleDashboardApp.strings.options_strings.settings_saved_error),console.log("Error while saving settings",e),e.data)))},be=e=>{D(!0),C()({path:optimoleDashboardApp.routes.clear_cache_request,method:"POST",data:{type:e},parse:!1}).then((e=>(D(!1),200<=e.status&&300>e.status?(we(optimoleDashboardApp.strings.options_strings.cache_cleared),void console.log("%c New cache token generated.","color: #59B278")):(we(optimoleDashboardApp.strings.options_strings.cache_cleared_error),void console.log("%c Could not generate cache token.","color: #E7602A")))))},_e=(e,t=(()=>{}))=>{C()({path:(0,S.addQueryArgs)(optimoleDashboardApp.routes.get_sample_rate,{quality:e.quality,force:e?.force||"no"}),method:"POST"}).then((e=>{"success"===e.code&&H(e.data),t&&t(e)}))},ve=(e=(()=>{}))=>{C()({path:optimoleDashboardApp.routes.get_offload_conflicts,method:"GET"}).then((t=>{$(!0),0!==t.data.length&&V(t.data),e&&e(t)}))},ye=e=>{const t=ie();"offload_images"===e.action&&(Object.prototype.hasOwnProperty.call(t,"optimole_action")&&X(!1),W(!0)),"rollback_images"===e.action&&(Object.prototype.hasOwnProperty.call(t,"optimole_action")&&J(!1),K(!0)),D(!0);const n=void 0!==e.images?e.images:[];C()({path:optimoleDashboardApp.routes.number_of_images_and_pages,method:"POST",data:{action:e.action,refresh:e.refresh||!1,images:n},parse:!1}).then((t=>{if(200<=t.status&&300>t.status)return t.json();"offload_images"===e.action&&(W(!1),D(!1)),"rollback_images"===e.action&&(K(!1),D(!1))})).then((s=>{if(!s.data.count||0===s.data.count||!1===s.data.status)return console.log("%c No images available.","color: #E7602A"),W(!1),K(!1),D(!1),0===s.data.count&&(se("disabled"),ne(s.data.action)),s.data.reached_limit&&se(s.data.reached_limit?"enabled":"disabled"),s.data.offload_limit&&re(s.data.offload_limit),ae(),ge(de(),!1),"offload_images"===e.action&&Object.prototype.hasOwnProperty.call(t,"optimole_action")&&X(!0),void("rollback_images"===e.action&&Object.prototype.hasOwnProperty.call(t,"optimole_action")&&J(!0));let a=le();e.refresh?(G(0!==a?Math.abs(a-s.data.count):0),0!==s.data.count&&0===a&&Q(s.data.count)):Q(s.data.count),setTimeout((()=>{ye({action:e.action,refresh:!0,images:n})}),1e4)})).finally((()=>{var t;t="offload_images"===e.action?"offload":"rollback",jQuery.ajax({type:"POST",url:window.ajaxurl,data:{action:"optml_fetch_logs",nonce:optimoleDashboardApp.nonce,type:t},success:e=>{te(t,e)}})})).catch((t=>{Y(e.action),W(!1),K(!1)}))},we=e=>{ce("info",e,{isDismissible:!0,type:"snackbar"})},ke=({tab:e,setTab:t})=>{const[n,r]=(0,a.useState)(!1),{setShowDisconnect:o}=(0,d.useDispatch)("optimole"),{isConnected:i,isLoading:l,hasApplication:c,hasDashboardLoaded:p,hasConflicts:b}=(0,d.useSelect)((e=>{const{isConnected:t,isLoading:n,hasApplication:s,hasDashboardLoaded:a,getConflicts:r}=e("optimole"),o=r();return{isConnected:t(),isLoading:n(),hasApplication:s(),hasDashboardLoaded:a(),hasConflicts:0<o.count||0}}));(0,a.useEffect)((()=>{b&&r(!0)}),[b]);const _=[{label:optimoleDashboardApp.strings.dashboard_menu_item,value:"dashboard"},{label:optimoleDashboardApp.strings.conflicts_menu_item,value:"conflicts",isDisabled:!n},{label:optimoleDashboardApp.strings.settings_menu_item,value:"settings"},{label:optimoleDashboardApp.strings.help_menu_item,value:"help"}],v=i&&c&&!p;return(0,s.createElement)("header",{className:"bg-white shadow-sm px-2.5 py-5 pb-0"},(0,s.createElement)("div",{className:"flex flex-col sm:flex-row justify-between items-center max-w-screen-xl mx-auto my-0 pb-5"},(0,s.createElement)("div",{className:"items-center flex justify-start cursor-default"},(0,s.createElement)("img",{className:"max-width-64 w-16 h-16 mr-3",src:`${optimoleDashboardApp.assets_url}/img/logo.png`,alt:optimoleDashboardApp.strings.optimole+" "+optimoleDashboardApp.strings.service_details,title:optimoleDashboardApp.strings.optimole+" "+optimoleDashboardApp.strings.service_details}),(0,s.createElement)("h3",{className:"text-gray-800 text-2 font-serif font-bold"},optimoleDashboardApp.strings.optimole)),(0,s.createElement)("div",{className:"flex items-center"},i?(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.DropdownMenu,{icon:l||v?(0,s.createElement)(h.Icon,{icon:m,className:"animate-spin fill-success"}):(0,s.createElement)(h.Icon,{icon:g}),toggleProps:{className:"optml-header__dropdown uppercase font-bold text-xs text-success hover:text-success active:text-success focus:text-success mr-3 border border-gray-300 rounded-md border-solid gap-2",iconPosition:"right"},popoverProps:{className:"optml-header__dropdown__popover"},text:v?optimoleDashboardApp.strings.connecting:optimoleDashboardApp.strings.connected,controls:[{title:optimoleDashboardApp.strings.optimole+" "+optimoleDashboardApp.strings.dashboard_menu_item,onClick:()=>window.open("https://dashboard.optimole.com/","_blank")},{title:optimoleDashboardApp.strings.refresh_stats_cta,onClick:he,isDisabled:v},{title:optimoleDashboardApp.strings.disconnect_btn,onClick:()=>o(!0),isDisabled:v}]})):(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"uppercase font-bold text-xs text-danger mr-3"},optimoleDashboardApp.strings.not_connected),(0,s.createElement)(h.Icon,{icon:f})))),i&&c&&p&&(0,s.createElement)("ul",{className:"flex gap-8 items-center max-w-screen-xl mx-auto my-0 justify-center sm:justify-normal"},_.filter((e=>!e?.isDisabled)).map((({label:n,value:a})=>(0,s.createElement)("li",{key:a,className:u()("cursor-pointer text-purple-gray font-bold text-lg m-0 py-2 px-3 transition-colors duration-200 ease-in-out border-0 border-b-4 border-b-white border-solid",{"text-black !border-b-info":e===a}),onClick:()=>t(a)},n)))))},xe=()=>{const{setShowDisconnect:e}=(0,d.useDispatch)("optimole"),{isLoading:t}=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}}));return(0,s.createElement)(h.Modal,{title:optimoleDashboardApp.strings.disconnect_title,className:"optml__modal",onRequestClose:()=>e(!1)},(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.disconnect_desc}}),(0,s.createElement)("div",{className:"flex gap-2"},(0,s.createElement)(h.Button,{variant:"default",className:"optml__button flex w-full justify-center rounded font-bold mt-4 min-h-40",onClick:()=>e(!1)},optimoleDashboardApp.strings.keep_connected),(0,s.createElement)(h.Button,{isDestructive:!0,className:"optml__button flex w-full justify-center rounded font-bold mt-4 min-h-40",isBusy:t,disabled:t,onClick:me},optimoleDashboardApp.strings.disconnect_btn)))},Ee=({setMethod:e})=>{const[t,n]=(0,a.useState)(""),[r,o]=(0,a.useState)({}),[i,l]=(0,a.useState)(0),{setShowDisconnect:c}=(0,d.useDispatch)("optimole"),{availableApps:u,hasValidKey:p,isConnected:m,isConnecting:f,isLoading:g}=(0,d.useSelect)((e=>{const{getAvailableApps:t,hasValidKey:n,isConnected:s,isConnecting:a,isLoading:r}=e("optimole");return{availableApps:t(),hasValidKey:n(),isConnected:s(),isConnecting:a(),isLoading:r()}}));return(0,s.createElement)("div",{className:"text-2 font-bold m-0 text-gray-700"},(0,s.createElement)("div",{className:"text-gray-800 font-serif leading-7"},optimoleDashboardApp.strings.connect_btn),(0,s.createElement)("p",{className:"text-xl font-normal text-gray-800",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.steps_connect_api_desc}}),(0,s.createElement)("div",{className:"flex flex-col gap-8 p-8 bg-light-blue border border-blue-300 rounded-md"},(0,s.createElement)("div",{className:"flex flex-col sm:flex-row gap-8 items-stretch sm:items-end"},(0,s.createElement)(h.TextControl,{label:m?optimoleDashboardApp.strings.your_api_key:optimoleDashboardApp.strings.add_api,placeholder:optimoleDashboardApp.strings.email,disabled:m,value:t,onChange:n,className:"optml__input basis-4/5"}),m?(0,s.createElement)(h.Button,{variant:"default",isBusy:g,disabled:g,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:c},optimoleDashboardApp.strings.disconnect_btn):(0,s.createElement)(h.Button,{variant:"primary",isBusy:f,disabled:f||0===t.length,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:()=>{o({}),((e,t=(()=>{}))=>{I(!0),D(!0),T(!1),C()({path:optimoleDashboardApp.routes.connect,method:"POST",data:e,parse:!1}).then((e=>e.json())).then((e=>(I(!1),D(!1),"success"===e.code?(L(!0),M(!0),F(e.data.api_key),void 0!==e.data.app_count&&1<e.data.app_count?P(e.data):(O(!0),B(e.data)),ue(),A(!0),console.log("%c OptiMole API connection successful.","color: #59B278")):(M(!1),console.log("%c Invalid API Key.","color: #E7602A")),t&&t(e),e.data))).catch((e=>(I(!1),D(!1),T(!0),e.data)))})({api_key:t},(e=>{"success"!==e.code&&o({error_connect:e.data})}))}},optimoleDashboardApp.strings.connect_btn)),u&&(0,s.createElement)("div",{className:"flex flex-col sm:flex-row gap-8 items-stretch sm:items-end"},(0,s.createElement)("div",{className:"basis-4/5"},(0,s.createElement)(h.SelectControl,{label:optimoleDashboardApp.strings.select+" "+optimoleDashboardApp.strings.your_domain,value:i,options:u.available_apps.map(((e,t)=>({label:e.domain,value:t}))),onChange:l,className:"optml__select has_large_title",__nextHasNoMarginBottom:!0})),(0,s.createElement)(h.Button,{variant:"primary",isBusy:f,disabled:f,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:()=>{((e,t=(()=>{}))=>{I(!0),T(!1),C()({path:optimoleDashboardApp.routes.select_application,method:"POST",data:e}).then((e=>{I(!1),D(!1),"success"===e.code?(M(!0),O(!0),F(e.data.api_key),B(e.data),P(e.data),console.log("%c OptiMole API connection successful.","color: #59B278")):(M(!1),console.log("%c Invalid API Key.","color: #E7602A")),t&&t(e)})).catch((e=>(I(!1),T(!0),e.data)))})({api_key:t,application:null!=u&&void 0!==u.available_apps?u.available_apps[i].key:""},(e=>{"success"!==e.code&&o({error_connect:e.data})}))}},optimoleDashboardApp.strings.select))),!p&&void 0!==r.error_connect&&(0,s.createElement)("p",{className:"block text-xs mt-1 text-danger",dangerouslySetInnerHTML:{__html:r.error_connect}}),(0,s.createElement)("div",{className:"text-center py-3"},(0,s.createElement)(h.Button,{variant:"link",onClick:()=>e("email")},optimoleDashboardApp.strings.back_to_connect)))},Ce="optml-connect flex flex-col justify-between max-w-screen-xl mt-8 mb-5 mx-auto p-0 transition-all ease-in-out duration-700 relative bg-white text-gray-700 border-0 rounded-lg shadow-md",Se="flex gap-8 p-8 flex-col md:flex-row",je=()=>(0,s.createElement)("div",{className:"bg-danger text-white rounded relative px-6 py-5 mb-0 m-12",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.notice_api_not_working}}),Ne=()=>{const[e,t]=(0,a.useState)(optimoleDashboardApp.current_user.email),[n,r]=(0,a.useState)("email"),[o,i]=(0,a.useState)({}),{setAutoConnect:l}=(0,d.useDispatch)("optimole"),{autoConnect:c,hasRestError:u,isConnecting:p}=(0,d.useSelect)((e=>{const{getAutoConnect:t,hasRestError:n,isConnecting:s}=e("optimole");return{autoConnect:t(),hasRestError:n(),isConnecting:s()}}));return(0,a.useEffect)((()=>{"no"!==c&&pe({email:c,auto_connect:!0},(e=>{l("no"),"email_registered"!==e.code?"site_exists"!==e.code?"success"!==e.code&&e.message&&i({error_autoconnect:e.message}):i({site_exists:e.message}):i({email_registered:e.message})}))}),[]),(0,a.useEffect)((()=>{(0===e.length||(0,S.isEmail)(e))&&o.invalid_email&&(delete o.invalid_email,i(o))}),[e]),"key"===n?(0,s.createElement)("div",{className:Ce},u&&(0,s.createElement)(je,null),(0,s.createElement)("div",{className:Se},(0,s.createElement)(Ee,{setMethod:r}))):(0,s.createElement)("div",{className:Ce},u&&(0,s.createElement)(je,null),(0,s.createElement)("div",{className:Se},(0,s.createElement)("div",{className:"optml-connect__content basis-8/12"},(0,s.createElement)("div",{className:"text-gray-700 font-serif text-2 font-bold leading-7 m-0"},optimoleDashboardApp.strings.account_needed_heading),(0,s.createElement)("p",{className:"text-xl font-normal text-gray-800",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.account_needed_title}}),(0,s.createElement)("div",{className:"flex py-3"},(0,s.createElement)(h.Icon,{icon:"yes-alt"}),(0,s.createElement)("p",{className:"text-base ml-3 m-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.account_needed_subtitle_1}})),(0,s.createElement)("div",{className:"flex py-3"},(0,s.createElement)(h.Icon,{icon:"yes-alt"}),(0,s.createElement)("p",{className:"text-base ml-3 m-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.account_needed_subtitle_2}}))),(0,s.createElement)("div",{className:"optml-connect__form basis-4/12 p-8 bg-light-blue border border-blue-300 rounded-md"},(0,s.createElement)(h.TextControl,{label:optimoleDashboardApp.strings.email_address_label,placeholder:optimoleDashboardApp.strings.email,value:e,onChange:t,className:"optml__input",onBlur:()=>{0===e.length||(0,S.isEmail)(e)||i({invalid_email:optimoleDashboardApp.strings.invalid_email})}}),0<Object.keys(o).length&&Object.keys(o).map((e=>(0,s.createElement)("p",{key:e,className:"block text-xs mt-1 text-danger",dangerouslySetInnerHTML:{__html:o[e]}})))||(0,s.createElement)("br",null),(0,s.createElement)(h.Button,{variant:"primary",isBusy:p,disabled:p||0===e.length||!(0,S.isEmail)(e),className:"optml__button flex w-full justify-center rounded font-bold min-h-40",onClick:()=>{i({}),pe({email:e},(e=>{"email_registered"!==e.code?"site_exists"!==e.code?"domain_not_accessible"!==e.code?"success"!==e.code&&i({error_register:optimoleDashboardApp.strings.error_register}):i({domain_not_accessible:e.message}):i({site_exists:e.message}):i({email_registered:e.message})}))}},optimoleDashboardApp.strings.register_btn),(0,s.createElement)("br",null),(0,s.createElement)("br",null),(0,s.createElement)("div",{className:"base-control-label"},optimoleDashboardApp.strings.existing_user),(0,s.createElement)(h.Button,{variant:"secondary",className:"optml__button flex w-full justify-center rounded font-bold mt-4 min-h-40",onClick:()=>r("key")},optimoleDashboardApp.strings.api_exists),(0,s.createElement)("p",{className:"mb-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.signup_terms}}))),(0,s.createElement)("div",{className:"bg-grayish-blue text-gray-800 text-center font-bold uppercase p-2.5 rounded-b-lg"},(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.account_needed_footer}})))},Ae=({value:e,max:t=100,className:n,...a})=>{const r=Math.round(e/t*100),o=(a.background,u()("w-full h-2.5 border rounded-md border-solid bg-white border-light-gray relative overflow-hidden",n));return(0,s.createElement)("div",{className:o,role:"progressbar","aria-valuemin":"0","aria-valuemax":t,"aria-valuenow":e,...a},(0,s.createElement)("div",{className:"absolute left-0 h-full bg-info",style:{width:`${r}%`}}))},Le=[optimoleDashboardApp.strings.options_strings.connect_step_0,optimoleDashboardApp.strings.options_strings.connect_step_1,optimoleDashboardApp.strings.options_strings.connect_step_2,optimoleDashboardApp.strings.options_strings.connect_step_3],Ie=()=>{const[e,t]=(0,a.useState)(0),[n,r]=(0,a.useState)(0),[o,i]=(0,a.useState)(0),{sethasDashboardLoaded:l}=(0,d.useDispatch)("optimole");(0,a.useEffect)((()=>{o<=25&&setTimeout((()=>{c()}),1e3)}),[o]);const c=()=>{if(i(o+1),o>=25)return l(!0),i(0),r(0),void t(0);t(Math.floor(o/25*100)),e>30*(n+1)&&r(n+1)};return(0,s.createElement)("div",{className:"optml-connecting flex flex-col justify-between max-w-screen-xl mt-8 mb-5 mx-auto p-0 transition-all ease-in-out duration-700 relative bg-white text-gray-700 border-0 rounded-lg shadow-md"},(0,s.createElement)("div",{className:"flex flex-col md:flex-row items-center justify-center gap-5 px-8 sm:px-0 py-24"},(0,s.createElement)("img",{className:"max-w-full",src:optimoleDashboardApp.assets_url+"img/connecting.png"}),(0,s.createElement)("div",{className:"text-center md:text-left"},(0,s.createElement)("div",{className:"font-bold text-2xl"},optimoleDashboardApp.strings.account_connecting_title),(0,s.createElement)("div",{className:"text-base"},optimoleDashboardApp.strings.account_connecting_subtitle),(0,s.createElement)(Ae,{className:"mt-2.5 mb-1.5 mx-0 h-5 border-gray-200",value:o,max:25,background:"#e6e6e6"}),(0,s.createElement)("div",{className:"text-xs"},Le[n]+" ("+e+"%)"))))},De=function(){const[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)({width:0,height:0}),r=(0,s.useCallback)((()=>{a({width:(null==e?void 0:e.offsetWidth)||0,height:(null==e?void 0:e.offsetHeight)||0})}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]);return Te("resize",r),Me((()=>{r()}),[null==e?void 0:e.offsetHeight,null==e?void 0:e.offsetWidth]),[t,n]},Te=function(e,t,n,a){const r=(0,s.useRef)(t);Me((()=>{r.current=t}),[t]),(0,s.useEffect)((()=>{var t;const s=null!==(t=null==n?void 0:n.current)&&void 0!==t?t:window;if(!s||!s.addEventListener)return;const o=e=>r.current(e);return s.addEventListener(e,o,a),()=>{s.removeEventListener(e,o,a)}}),[e,n,a])},Me="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Oe="yes"!==optimoleDashboardApp.connection_status,Fe=({src:e,oldSize:t,newSize:n})=>{const[a,{width:r}]=De();return(0,s.createElement)("div",{className:"basis-1/4"},(0,s.createElement)("img",{src:e,className:"w-full border border-slate-200 rounded-md border-solid",style:{height:r},ref:a}),(0,s.createElement)("p",{className:"optml__bullet w-full h-4"},(()=>{let e=(100*(1-n/t)).toFixed(1);return 1>e?"1":100<e?(Math.floor(e/10+10)/10).toFixed(1).toString():e.toString()})(),"% ",optimoleDashboardApp.strings.latest_images.saved," "))},Be=()=>{const[e,{width:t}]=De();return(0,s.createElement)("div",{className:"basis-1/4"},(0,s.createElement)("div",{className:"optml__loader w-full rounded-md",style:{height:t},ref:e}),(0,s.createElement)("p",{className:"optml__loader w-full h-4"}))},Pe=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(0),[o,i]=(0,a.useState)(0),[l,c]=(0,a.useState)(0);(0,a.useEffect)((()=>{l<=20&&setTimeout((()=>{p()}),1e3)}),[l]);const{images:u}=(0,d.useSelect)((e=>{const{getOptimizedImages:t}=e("optimole");return{images:t()||[]}}));(0,a.useEffect)((()=>{8<=u.length?t(!0):e||Oe||fe((()=>{t(!0)}))}),[]);const p=()=>{c(l+1),l>=20?fe((()=>{t(!0),c(0),i(0),r(0),he()})):(r(Math.floor(l/20*100)),n>30*(o+1)&&i(o+1))};return(0,s.createElement)("div",{className:"hidden lg:block pt-5 border-grayish-blue border-0 border-t-2 border-solid"},(0,s.createElement)("h3",{className:"text-base m-0"},optimoleDashboardApp.strings.latest_images.last," ",optimoleDashboardApp.strings.latest_images.optimized_images),Oe&&!e&&(0,s.createElement)("div",{className:"flex items-center flex-col py-2"},(0,s.createElement)("p",{className:"font-semibold"},optimoleDashboardApp.strings.latest_images.loading_latest_images),(0,s.createElement)(Ae,{max:20,value:l})),!Oe&&!e&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"flex justify-between mt-5 gap-5"},[...Array(4)].map((()=>(0,s.createElement)(Be,null)))),(0,s.createElement)("div",{className:"flex justify-between mt-5 gap-5"},[...Array(4)].map((()=>(0,s.createElement)(Be,null))))),e&&4>u?.length&&(0,s.createElement)("div",{className:"text-center py-12"},(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.latest_images.no_images_found}})),e&&4<=u?.length&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"flex justify-between mt-5 gap-5"},[...Array(4)].map(((e,t)=>(0,s.createElement)(Fe,{src:u[t].url,oldSize:u[t].ex_size_raw,newSize:u[t].new_size_raw})))),8<=u?.length&&(0,s.createElement)("div",{className:"flex justify-between mt-5 gap-5"},[...Array(4)].map(((e,t)=>(t+=4,(0,s.createElement)(Fe,{src:u[t].url,oldSize:u[t].ex_size_raw,newSize:u[t].new_size_raw})))))))},Re="flex p-6 bg-light-blue border border-blue-300 rounded-md",ze=[{label:optimoleDashboardApp.strings.metrics.metricsTitle1,description:optimoleDashboardApp.strings.metrics.metricsSubtitle1,value:"images_number",icon:()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewBox:"0 0 55 55",fill:"none"},(0,s.createElement)("path",{d:"M42.0235 45.3568L45.0279 46.6928C46.5427 47.3666 48.25 46.2574 48.25 44.5982V10.402C48.25 8.74281 46.5427 7.63364 45.0279 8.30739L42.0235 9.64343C32.8569 13.718 22.3931 13.718 13.2265 9.64343L10.2221 8.30739C8.70729 7.63364 7 8.74281 7 10.402V44.5982C7 46.2574 8.70729 47.3666 10.2221 46.6928L13.2265 45.3568C22.3931 41.2845 32.8569 41.2845 42.0235 45.3568Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M34.5002 35.5209H20.7502C19.4852 35.5209 18.4585 34.4942 18.4585 33.2292V21.7709C18.4585 20.5059 19.4852 19.4792 20.7502 19.4792H34.5002C35.7652 19.4792 36.7918 20.5059 36.7918 21.7709V33.2292C36.7918 34.4942 35.7652 35.5209 34.5002 35.5209Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M30.9707 25.0939L36.7915 29.8376",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M30.9711 25.0939L26.0669 30.2043",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M26.0665 30.2043L23.3853 28.4167",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M23.3856 28.4167L18.4585 32.5647",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}))},{label:optimoleDashboardApp.strings.metrics.metricsTitle2,description:optimoleDashboardApp.strings.metrics.metricsSubtitle2,value:"saved_size",icon:()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"55",viewBox:"0 0 56 55",fill:"none"},(0,s.createElement)("path",{d:"M36.681 6.875H13.7643C8.70203 6.875 4.59766 10.9794 4.59766 16.0417C4.59766 21.104 8.70203 25.2083 13.7643 25.2083H36.681C41.7433 25.2083 45.8477 21.104 45.8477 16.0417C45.8477 10.9794 41.7433 6.875 36.681 6.875Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M13.7643 25.2084C8.70203 25.2084 4.59766 29.3127 4.59766 34.375C4.59766 39.4373 8.70203 43.5417 13.7643 43.5417H29.806",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M22.9307 16.0416H36.6807",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M13.845 15.9606C13.8898 16.0053 13.8898 16.0779 13.845 16.1226C13.8003 16.1674 13.7277 16.1674 13.683 16.1226C13.6382 16.0779 13.6382 16.0053 13.683 15.9606C13.7277 15.9158 13.8003 15.9158 13.845 15.9606Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M22.9307 34.375H27.7432",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M13.845 34.2938C13.8898 34.3386 13.8898 34.4111 13.845 34.4559C13.8003 34.5006 13.7277 34.5006 13.683 34.4559C13.6382 34.4111 13.6382 34.3386 13.683 34.2938C13.7277 34.2491 13.8003 34.2491 13.845 34.2938Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M38.9725 48.125C32.6452 48.125 27.5142 42.994 27.5142 36.6667C27.5142 30.3394 32.6452 25.2084 38.9725 25.2084C45.3021 25.2084 50.4308 30.3394 50.4308 36.6667C50.4308 42.994 45.3021 48.125 38.9725 48.125Z",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M40.2465 31.5745L36.4263 35.3924L41.5184 37.9407L37.6981 41.7586",stroke:"#577BF9","stroke-width":"1.875","stroke-linecap":"round","stroke-linejoin":"round"}))},{label:optimoleDashboardApp.strings.metrics.metricsTitle3,description:optimoleDashboardApp.strings.metrics.metricsSubtitle3,value:"compression_percentage",icon:()=>(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"55",height:"55",viewBox:"0 0 55 55",fill:"none"},(0,s.createElement)("path",{d:"M43.5418 32.0833C41.0095 32.0833 38.9585 30.0323 38.9585 27.5C38.9585 24.9677 41.0095 22.9166 43.5418 22.9166C46.0741 22.9166 48.1252 24.9677 48.1252 27.5C48.1252 30.0323 46.0741 32.0833 43.5418 32.0833Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M32.0832 43.5417C32.0832 46.074 30.0321 48.1251 27.4998 48.1251C24.9675 48.1251 22.9165 46.074 22.9165 43.5417C22.9165 41.0094 24.9675 38.9584 27.4998 38.9584C30.0321 38.9584 32.0832 41.0094 32.0832 43.5417Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M43.5418 48.1251C41.0095 48.1251 38.9585 46.074 38.9585 43.5417C38.9585 41.0094 41.0095 38.9584 43.5418 38.9584C46.0741 38.9584 48.1252 41.0094 48.1252 43.5417C48.1252 46.074 46.0741 48.1251 43.5418 48.1251Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M27.4998 16.0417C24.9675 16.0417 22.9165 13.9906 22.9165 11.4583C22.9165 8.92604 24.9675 6.875 27.4998 6.875C30.0321 6.875 32.0832 8.92604 32.0832 11.4583C32.0832 13.9906 30.0321 16.0417 27.4998 16.0417Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M38.9585 11.4583C38.9585 8.92604 41.0095 6.875 43.5418 6.875C46.0741 6.875 48.1252 8.92604 48.1252 11.4583C48.1252 13.9906 46.0741 16.0417 43.5418 16.0417C41.0095 16.0417 38.9585 13.9906 38.9585 11.4583Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M30.7314 40.3104L40.3106 30.7312",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M14.6895 40.3104L24.2686 30.7312",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M30.7314 24.2687L40.3106 14.6896",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M22.9165 27.5C22.9165 24.9677 24.9675 22.9166 27.4998 22.9166C30.0321 22.9166 32.0832 24.9677 32.0832 27.5C32.0832 30.0323 30.0321 32.0833 27.4998 32.0833C24.9675 32.0833 22.9165 30.0323 22.9165 27.5Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M14.6895 24.2687L24.2686 14.6896",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M11.4583 32.0833C8.92604 32.0833 6.875 30.0323 6.875 27.5C6.875 24.9677 8.92604 22.9166 11.4583 22.9166C13.9906 22.9166 16.0417 24.9677 16.0417 27.5C16.0417 30.0323 13.9906 32.0833 11.4583 32.0833Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M16.0417 43.5417C16.0417 46.074 13.9906 48.1251 11.4583 48.1251C8.92604 48.1251 6.875 46.074 6.875 43.5417C6.875 41.0094 8.92604 38.9584 11.4583 38.9584C13.9906 38.9584 16.0417 41.0094 16.0417 43.5417Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{d:"M11.4583 16.0417C8.92604 16.0417 6.875 13.9906 6.875 11.4583C6.875 8.92604 8.92604 6.875 11.4583 6.875C13.9906 6.875 16.0417 8.92604 16.0417 11.4583C16.0417 13.9906 13.9906 16.0417 11.4583 16.0417Z",stroke:"#577BF9","stroke-width":"1.97917","stroke-linecap":"round","stroke-linejoin":"round"}))},{label:optimoleDashboardApp.strings.metrics.metricsTitle4,description:optimoleDashboardApp.strings.metrics.metricsSubtitle4,value:"traffic",icon:()=>(0,s.createElement)("svg",{width:"55",height:"55",viewBox:"0 0 64 64",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false"},(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 28c0 2.947-4.178 5.333-9.333 5.333S5.334 30.944 5.334 28",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 28c0 2.947-4.178 5.333-9.333 5.333S5.334 30.944 5.334 28",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 28c0 2.947-4.178 5.333-9.333 5.333S5.334 30.944 5.334 28",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M23.997 36c0 2.947-4.178 5.333-9.333 5.333S5.334 38.944 5.334 36",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M50.667 56H40a5.332 5.332 0 01-5.333-5.333V13.333A5.332 5.332 0 0140 8h10.667A5.332 5.332 0 0156 13.333v37.334A5.332 5.332 0 0150.667 56z",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M50.667 56H40a5.332 5.332 0 01-5.333-5.333V13.333A5.332 5.332 0 0140 8h10.667A5.332 5.332 0 0156 13.333v37.334A5.332 5.332 0 0150.667 56z",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M50.667 56H40a5.332 5.332 0 01-5.333-5.333V13.333A5.332 5.332 0 0140 8h10.667A5.332 5.332 0 0156 13.333v37.334A5.332 5.332 0 0150.667 56z",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M24 32h10.667M24 32h10.667",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M24 32h10.667",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 16H48M42.667 16H48",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 16H48",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 26.667H48M42.667 26.667H48",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 26.667H48",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 37.333H48M42.667 37.333H48",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 37.333H48",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 48H48M42.667 48H48",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M42.667 48H48",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c0 2.947 4.179 5.333 9.334 5.333C19.82 25.333 24 22.947 24 20",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c0 2.947 4.179 5.333 9.334 5.333C19.82 25.333 24 22.947 24 20",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c0 2.947 4.179 5.333 9.334 5.333C19.82 25.333 24 22.947 24 20",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c.003-2.944 4.182-5.333 9.334-5.333 5.152 0 9.333 2.386 9.33 5.333v24c0 2.947-4.178 5.333-9.333 5.333S5.334 46.944 5.334 44V20v0z",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c.003-2.944 4.182-5.333 9.334-5.333 5.152 0 9.333 2.386 9.33 5.333v24c0 2.947-4.178 5.333-9.333 5.333S5.334 46.944 5.334 44V20v0z",stroke:"#EDF0FF","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.createElement)("path",{"data-v-767b24d4":"",d:"M5.333 20c.003-2.944 4.182-5.333 9.334-5.333 5.152 0 9.333 2.386 9.33 5.333v24c0 2.947-4.178 5.333-9.333 5.333S5.334 46.944 5.334 44V20v0z",stroke:"#577BF9","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}))}],qe=()=>(0,s.createElement)("div",{className:"flex gap-2 bg-warning text-danger border border-solid border-danger rounded relative px-6 py-5 mb-5"},(0,s.createElement)(h.Icon,{icon:_}),(0,s.createElement)("p",{className:"m-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.notice_disabled_account}})),Ze=()=>(0,s.createElement)("div",{className:"flex gap-2 bg-success text-white rounded relative px-6 py-5 mb-5"},(0,s.createElement)(h.Icon,{icon:"cloud-saved"}),(0,s.createElement)("p",{className:"m-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.notice_just_activated}})),Ue=()=>{const{userData:e,userStatus:t}=(0,d.useSelect)((e=>{const{getUserData:t,getUserStatus:n}=e("optimole");return{userData:t(),userStatus:n()}})),n=(e.visitors/e.visitors_limit*100).toFixed(0);return(0,s.createElement)("div",{className:"bg-white p-8 border-0 rounded-lg shadow-md"},0<optimoleDashboardApp.strings.notice_just_activated.length&&"active"===t&&(0,s.createElement)(Ze,null),"inactive"===t&&(0,s.createElement)(qe,null),(0,s.createElement)("div",{className:u()(Re,"gap-8 flex-col sm:flex-row items-start sm:items-center")},(0,s.createElement)(h.Icon,{icon:b}),(0,s.createElement)("div",{className:"flex w-full flex-col"},(0,s.createElement)("div",{className:"flex w-full justify-between"},(0,s.createElement)("div",{className:"text-gray-800 text-2xl font-bold"},e.visitors_pretty," / ",e.visitors_limit_pretty,(0,s.createElement)("span",{className:"text-gray-600 text-base font-normal ml-2"},optimoleDashboardApp.strings.quota)),70>n&&(0,s.createElement)(h.Button,{variant:"default",className:"optml__button rounded font-bold min-h-40",href:"https://dashboard.optimole.com/settings/billing",target:"_blank"},optimoleDashboardApp.strings.upgrade.title)),(0,s.createElement)("div",null,(0,s.createElement)(Ae,{className:"mt-2.5 mb-3 mx-0",value:e.visitors,max:e.visitors_limit}),(0,s.createElement)("div",{className:"optml__tooltip",style:{left:n+"%",marginLeft:15>n?"-15px":"-20px",display:100<n?"none":"block"}},(0,s.createElement)("span",null,n,"%"))))),(0,s.createElement)("div",{className:"flex py-5 gap-5 flex-col md:flex-row"},ze.map((t=>(0,s.createElement)("div",{key:t.value,className:u()(Re,"basis-1/4 flex-col items-start")},(0,s.createElement)(h.Icon,{icon:t.icon}),(0,s.createElement)("div",{className:"flex w-full flex-col"},(0,s.createElement)("div",{className:"not-italic font-bold text-xl py-2 text-gray-800"},(t=>{const n=(t=>void 0!==e[t]?e[t]:"saved_size"===t?Math.floor(2500*Math.random())+500:Math.floor(40*Math.random())+10)(t);return"saved_size"===t?(n/1e3).toFixed(2)+"MB":"compression_percentage"===t?n.toFixed(2)+"%":"traffic"===t?n.toFixed(2)+"MB":n})(t.value)),(0,s.createElement)("div",{className:"not-italic font-normal text-sm text-gray-800"},t.label),(0,s.createElement)("div",{className:"font-normal text-xs text-gray-600"},t.description)))))),"yes"!==optimoleDashboardApp.remove_latest_images&&(0,s.createElement)(Pe,null))},He=({conflict:e})=>{const[t,n]=(0,a.useState)(!1);return(0,s.createElement)("div",{className:u()("flex gap-2 text-white rounded relative px-6 py-5 mb-5",{"bg-danger":"high"===e.severity,"bg-info":"medium"===e.severity,"bg-success":"high"!==e.severity&&"medium"!==e.severity})},(0,s.createElement)("p",{className:"m-0 text-white",dangerouslySetInnerHTML:{__html:e.message}}),(0,s.createElement)(h.Button,{icon:t?m:"no-alt",label:optimoleDashboardApp.strings.conflicts.conflict_close,disabled:t,className:u()("text-white hover:text-white",{"animate-spin":t}),onClick:()=>{n(!0),((e,t=(()=>{}))=>{D(!0),C()({path:optimoleDashboardApp.routes.dismiss_conflict,method:"POST",data:{conflictID:e}}).then((e=>{D(!1),"success"===e.code&&q(e.data),t&&t(e)}))})(e.id,(()=>{n(!1)}))}}))},$e=()=>{const{conflicts:e}=(0,d.useSelect)((e=>{const{getConflicts:t}=e("optimole");return{conflicts:t().conflicts||[]}}));return(0,s.createElement)("div",{className:"bg-white p-8 border-0 rounded-lg shadow-md"},Boolean(e.length)&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("p",null,optimoleDashboardApp.strings.conflicts.title),e.map((e=>(0,s.createElement)(He,{key:e.id,conflict:e})))),!Boolean(e.length)&&(0,s.createElement)("div",{className:"text-center py-12"},(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.conflicts.no_conflicts_found}})))},Ve=(0,s.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)(p.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),We=(0,s.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)(p.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),{strings:Ke}=optimoleDashboardApp,Qe=[{label:Ke.general_settings_menu_item,value:"general"},{label:Ke.advanced_settings_menu_item,value:"compression",children:[{label:Ke.settings_compression_menu_item,value:"compression"},{label:Ke.settings_resize_menu_item,value:"resize"},{label:Ke.lazyload_settings_menu_item,value:"lazyload"},{label:Ke.settings_exclusions_menu_item,value:"exclusions"}]},{label:Ke.cloud_library,value:"cloud_library"},{label:Ke.image_storage,value:"offload_media"}],Ge=({children:e,tab:t,settings:n,setTab:a})=>(0,s.createElement)("ul",{className:"flex flex-col gap-1 m-0 mt-1"},e.map((e=>{const{value:r,label:o}=e;if("lazyload"===e.value&&"disabled"===n.lazyload)return;const i=u()({"bg-light-blue hover:text-purple-gray":t===r,"bg-transparent hover:text-info":t!==r},"w-full text-left border-0 font-normal text-base text-purple-gray cursor-pointer rounded px-4 py-2 m-0 hover:text-info");return(0,s.createElement)("li",{key:r},(0,s.createElement)("button",{className:i,onClick:()=>a(r)},o))}))),Ye=({tab:e,settings:t,setTab:n})=>(0,s.createElement)("div",{className:"basis-1/5"},(0,s.createElement)("ul",{className:"grid m-0 gap-1"},Qe.map((a=>{const r=e===a.value||a.children&&a.children.some((t=>t.value===e)),o=u()({"!text-info":r},"w-full bg-transparent border-0 flex items-center appearance-none not-italic font-semibold text-base text-purple-gray cursor-pointer hover:text-info py-2");return(0,s.createElement)("li",{key:a.value,className:"m-0"},(0,s.createElement)("button",{className:o,onClick:()=>n(a.value)},a.label,a.children&&(0,s.createElement)(h.Icon,{icon:r?Ve:We,className:"inline-block ml-2 fill-current"})),a.children&&r&&(0,s.createElement)(Ge,{children:a.children,tab:e,settings:t,setTab:n}))})))),Xe=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,s.createElement)(p.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),Je=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),et=(0,s.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)(p.Path,{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 12L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7626 15.8232 14.4697 15.5303L12 13.0607L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9393 12L8.46967 9.53033C8.17678 9.23744 8.17678 8.76256 8.46967 8.46967C8.76256 8.17678 9.23744 8.17678 9.53033 8.46967L12 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z"})),tt=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),nt=(0,a.forwardRef)((function({icon:e,size:t=24,...n},s){return(0,a.cloneElement)(e,{width:t,height:t,...n,ref:s})})),st=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function at({text:e,title:t,disableIcon:n=!1,type:a="info",className:r="",smallTitle:o=!1,children:i,onDismiss:l}){const d=u()({"bg-yellow-50 text-yellow-700":"warning"===a,"bg-green-50 text-green-700":"success"===a,"bg-red-50 text-red-700":"error"===a,"bg-blue-50 text-blue-700":"info"===a,"bg-info text-white":"primary"===a},`rounded-md my-5 text-sm p-4 om-notice om-notice-${a} relative`),c=u()({"fill-yellow-500":"warning"===a,"fill-green-500":"success"===a,"fill-red-500":"error"===a,"fill-blue-500":"info"===a,"fill-white":"primary"===a,"h-6 w-6":"primary"!==a,"h-12 w-12":"primary"===a}),p=u()({"ml-3 mt-0.5":!n&&!t,"mt-2 mx-1.5":t}),m=u()({"text-yellow-800":"warning"===a,"text-green-800":"success"===a,"text-red-800":"error"===a,"text-blue-800":"info"===a,"font-bold text-base":"primary"!==a,"text-white text-sm":"primary"===a,"text-s":o},"m-0"),h={warning:Xe,success:Je,error:et,info:tt,primary:y};return(0,s.createElement)("div",{className:d},l&&(0,s.createElement)("button",{className:"flex items-center justify-center absolute bg-transparent text-current right-1 top-1 border-0 rounded-full p-0 cursor-pointer hover:bg-white transition-all hover:text-info",onClick:l},(0,s.createElement)(nt,{className:"fill-current",icon:st})),(0,s.createElement)("div",{className:t?"grid":"flex"},(0,s.createElement)("div",{className:u()("flex-shrink-0 flex gap-2",{"items-center":t})},!n&&(0,s.createElement)(nt,{icon:h[a]||null,className:c}),t&&(0,s.createElement)("div",{className:m,dangerouslySetInnerHTML:{__html:t}})),i||e&&(0,s.createElement)("div",{className:p},e&&(0,s.createElement)("p",{className:"m-0",dangerouslySetInnerHTML:{__html:e}}),i)))}const rt=({settings:e,setSettings:t,setCanSave:n})=>{const{isLoading:a}=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}})),r="disabled"!==e.image_replacer,o="disabled"!==e.lazyload,i="disabled"!==e.report_script,l="disabled"!==e.cdn,c="disabled"!==e.banner_frontend,p=(s,a)=>{n(!0);const r={...e};r[s]=a?"enabled":"disabled",t(r)};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_image_replace,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.replacer_desc}}),checked:r,disabled:a,className:u()({"is-disabled":a}),onChange:e=>p("image_replacer",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.toggle_lazyload,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.lazyload_desc}}),checked:o,disabled:!r||a,className:u()({"is-disabled":!r||a}),onChange:e=>p("lazyload",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_report_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_report_desc}}),checked:i,disabled:a,className:u()({"is-disabled":a}),onChange:e=>p("report_script",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_badge_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_badge_description}}),checked:c,disabled:a,className:u()({"is-disabled":a}),onChange:e=>p("banner_frontend",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.BaseControl,{label:optimoleDashboardApp.strings.options_strings.cache_title,className:u()({"is-disabled":a||!r})},(0,s.createElement)("p",{className:"components-base-control__help m-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.cache_desc}}),(0,s.createElement)("div",{className:"flex my-4 gap-3"},(0,s.createElement)(h.Button,{variant:"default",isBusy:a,disabled:a||!r,className:"optml__button flex justify-center rounded font-bold min-h-40",onClick:()=>be()},optimoleDashboardApp.strings.options_strings.clear_cache_images),l&&(0,s.createElement)(h.Button,{variant:"default",isBusy:a,disabled:a||!r,className:"optml__button flex justify-center rounded font-bold min-h-40",onClick:()=>be("assets")},optimoleDashboardApp.strings.options_strings.clear_cache_assets))),(0,s.createElement)(at,{type:"warning",text:optimoleDashboardApp.strings.options_strings.clear_cache_notice,disableIcon:!0}))};var ot=n(864),it=n.n(ot);const lt=({settings:e,setSettings:t,setCanSave:n,showSample:a,isSampleLoading:r,setIsSampleLoading:o})=>{const{sampleImages:i,isLoading:l}=(0,d.useSelect)((e=>{const{getSampleRate:t,isLoading:n}=e("optimole");return{sampleImages:t(),isLoading:n()}})),c="disabled"!==e.network_optimization,p="disabled"!==e.cdn,f="disabled"!==e.img_to_video,g="disabled"!==e.avif,b="disabled"!==e.strip_metadata,_="disabled"!==e.autoquality,v="disabled"!==e.best_format,y=(s,a)=>{n(!0);const r={...e};r[s]=a?"enabled":"disabled",t(r)},w=()=>i.optimized_size>i.original_size?Math.floor(60*Math.random())+10:(100*parseFloat(i.optimized_size/i.original_size)).toFixed(0);return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.best_format_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.best_format_desc}}),checked:v,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("best_format",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_network_opt_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_network_opt_desc}}),checked:c,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("network_optimization",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.toggle_cdn,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.cdn_desc}}),checked:p,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("cdn",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_gif_replace_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.gif_replacer_desc}}),checked:f,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("img_to_video",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_avif_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_avif_desc}}),checked:g,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("avif",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.strip_meta_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.strip_meta_desc}}),checked:b,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("strip_metadata",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.BaseControl,{help:!_&&optimoleDashboardApp.strings.options_strings.quality_desc},(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.quality_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.ml_quality_desc}}),checked:_,disabled:l,className:u()({"is-disabled":l}),onChange:e=>y("autoquality",e)})),!_&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.RangeControl,{value:(k=e.quality,"number"==typeof k?k:"auto"===k||"high_c"===k?90:"medium_c"===k?75:"low_c"===k?55:90),min:50,max:100,step:1,withInputField:!1,marks:[{value:55,label:optimoleDashboardApp.strings.options_strings.low_q_title},{value:75,label:optimoleDashboardApp.strings.options_strings.medium_q_title},{value:90,label:optimoleDashboardApp.strings.options_strings.high_q_title}],onChange:s=>{n(!0);const a={...e};a.quality=s,t(a)}}),a&&(0,s.createElement)("div",{className:"flex justify-center w-full text-center"},r?(0,s.createElement)("div",{className:"flex items-center gap-5"},(0,s.createElement)("p",{className:"text-base"},optimoleDashboardApp.strings.options_strings.sample_image_loading),(0,s.createElement)(h.Icon,{icon:m,className:"animate-spin"})):(0,s.createElement)(s.Fragment,null,i.id&&0<i.original_size&&(0,s.createElement)("div",null,0<w()?(0,s.createElement)("p",{className:"text-base"},100-w(),"% ",optimoleDashboardApp.strings.latest_images.smaller):(0,s.createElement)("p",{className:"text-base"},optimoleDashboardApp.strings.latest_images.same_size),(0,s.createElement)(Ae,{max:100,value:100-w()}),(0,s.createElement)("hr",{className:"my-4 border-grayish-blue"}),(0,s.createElement)(it(),{leftImageLabel:optimoleDashboardApp.strings.options_strings.image_1_label,rightImageLabel:optimoleDashboardApp.strings.options_strings.image_2_label,leftImage:i.original,rightImage:i.optimized}),(0,s.createElement)(h.Button,{variant:"default",icon:m,className:"mt-2",onClick:()=>{o(!0),_e({quality:e.quality,force:"yes"},(()=>o(!1)))}}),(0,s.createElement)("p",{className:"text-base"},optimoleDashboardApp.strings.options_strings.quality_slider_desc)),!(i.id&&0<i.original_size)&&0>i.id&&(0,s.createElement)("div",{className:"flex items-center gap-5 text-center"},(0,s.createElement)("p",{className:"text-base"},optimoleDashboardApp.strings.options_strings.no_images_found))))));var k},dt=({settings:e,setSettings:t,setCanSave:n})=>{const{isLoading:r}=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}})),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),p="disabled"!==e.resize_smart,m="disabled"!==e.retina_images,f="disabled"!==e.limit_dimensions,g=(s,a)=>{n(!0);const r={...e};r[s]=a?"enabled":"disabled",t(r)},b=(s,a)=>{n(!0);const r={...e};r[s]=a,t(r)},_=Object.keys(e.defined_image_sizes).filter((t=>"object"==typeof e.defined_image_sizes[t]));return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_resize_smart_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_resize_smart_desc}}),checked:p,disabled:r,className:u()({"is-disabled":r}),onChange:e=>g("resize_smart",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),"disabled"!==e.lazyload&&(0,s.createElement)(s.Fragment,null," ",(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_retina_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_retina_desc}}),checked:m,disabled:r,className:u()({"is-disabled":r}),onChange:e=>g("retina_images",e)})," ",(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"})," "),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_limit_dimensions_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_limit_dimensions_desc}}),checked:f,disabled:r,className:u()({"is-disabled":r}),onChange:e=>g("limit_dimensions",e)}),f&&(0,s.createElement)(h.BaseControl,null,(0,s.createElement)("div",{className:"flex gap-8"},(0,s.createElement)(h.__experimentalNumberControl,{label:optimoleDashboardApp.strings.options_strings.width_field,labelPosition:"side",value:e.limit_width,type:"number",min:100,max:1e4,className:"basis-1/2 sm:basis-1/4",onChange:e=>b("limit_width",e)}),(0,s.createElement)(h.__experimentalNumberControl,{label:optimoleDashboardApp.strings.options_strings.height_field,labelPosition:"side",value:e.limit_height,type:"number",min:100,max:1e4,className:"basis-1/2 sm:basis-1/4",onChange:e=>b("limit_height",e)})),(0,s.createElement)(at,{disableIcon:!0,type:"warning",text:optimoleDashboardApp.strings.options_strings.enable_limit_dimensions_notice})),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.BaseControl,{label:optimoleDashboardApp.strings.options_strings.add_image_size_desc},(0,s.createElement)("p",{className:"components-base-control__help mt-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.image_size_notice}}),(0,s.createElement)("div",{className:"flex flex-col sm:flex-row p-6 bg-light-blue border border-blue-300 rounded-md items-stretch sm:items-center gap-8"},(0,s.createElement)(h.TextControl,{label:optimoleDashboardApp.strings.options_strings.width_field,placeholder:optimoleDashboardApp.strings.options_strings.width_field,hideLabelFromVision:!0,type:"number",min:1,value:o,onChange:i,className:"optml__input sm:basis-2/5"}),(0,s.createElement)(h.TextControl,{label:optimoleDashboardApp.strings.options_strings.height_field,placeholder:optimoleDashboardApp.strings.options_strings.height_field,value:l,onChange:c,hideLabelFromVision:!0,type:"number",min:1,className:"optml__input sm:basis-2/5"}),(0,s.createElement)(h.Button,{variant:"primary",isBusy:r,disabled:r,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:()=>{if(!o||!l||isNaN(o)||isNaN(l))return;const s="optimole_"+o+"_"+l+"_crop",a={...e.defined_image_sizes,[s]:{width:o,height:l}};n(!0);const r={...e};r.defined_image_sizes=a,t(r),i(""),c("")}},optimoleDashboardApp.strings.options_strings.add_image_size_button))),0<_.length&&(0,s.createElement)(h.BaseControl,{label:optimoleDashboardApp.strings.options_strings.image_sizes_title,className:"pt-4"},_.map((a=>(0,s.createElement)("div",{key:a,className:"flex p-3 my-3 bg-light-blue border border-blue-300 rounded-md items-center justify-between gap-8"},(0,s.createElement)("div",{className:"flex flex-wrap items-center gap-2"},(0,s.createElement)("div",null,(0,s.createElement)("p",{className:"m-0 inline-block",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.name}})," ",a),(0,s.createElement)("p",{className:"m-0"},(0,s.createElement)("b",null,optimoleDashboardApp.strings.options_strings.width_field),": ",e.defined_image_sizes[a].width),(0,s.createElement)("p",{className:"m-0"},(0,s.createElement)("b",null,optimoleDashboardApp.strings.options_strings.height_field),": ",e.defined_image_sizes[a].height)),(0,s.createElement)(h.Button,{variant:"default",icon:"trash",disabled:r,onClick:()=>(s=>{const a={...e.defined_image_sizes,[s]:"remove"};n(!0);const r={...e};r.defined_image_sizes=a,t(r)})(a)}))))))},ct=({settings:e,setSettings:t,setCanSave:n})=>{const{isLoading:r}=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}})),o="disabled"!==e.lazyload_placeholder,i="disabled"!==e.native_lazyload,l="disabled"===e.scale,c="disabled"!==e.bg_replacer,p="disabled"!==e.video_lazyload,m="disabled"!==e.no_script,f=e.placeholder_color,[g,b]=(0,a.useState)(!1),_=(s,a)=>{n(!0);const r={...e};r[s]=a?"enabled":"disabled",t(r)},v=(s,a)=>{n(!0);const r={...e};r[s]=a,t(r)},y=e=>{v("placeholder_color",e)};return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.BaseControl,null,(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_lazyload_placeholder_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_lazyload_placeholder_desc}}),checked:o,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("lazyload_placeholder",e)}),o&&(0,s.createElement)("div",{className:"relative inline-block"},(0,s.createElement)(h.Button,{disabled:r,className:"gap-3 mt-2 py-3 h-auto rounded text-inherit border-gray-400 border-2 border-solid font-medium",onClick:()=>{b(!g)}},(0,s.createElement)(h.ColorIndicator,{colorValue:f}),(0,s.createElement)("span",null,optimoleDashboardApp.strings.options_strings.lazyload_placeholder_color)),g&&(0,s.createElement)(h.Popover,{placement:"bottom",position:"middle center",variant:"unstyled",className:"shadow-md border-grayish-blue border border-solid rounded bg-white p-2",onFocusOutside:()=>b(!1)},(0,s.createElement)(h.ColorPicker,{color:f,onChange:y,enableAlpha:!0,defaultValue:""}),(0,s.createElement)(h.Button,{isDestructive:!0,className:"w-full text-center flex justify-center",variant:"secondary",onClick:()=>{y("")}},optimoleDashboardApp.strings.options_strings.clear)))),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.BaseControl,{label:optimoleDashboardApp.strings.options_strings.exclude_first_images_title},(0,s.createElement)("p",{className:"components-base-control__help mt-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.exclude_first_images_desc}}),(0,s.createElement)("div",{className:"flex gap-8"},(0,s.createElement)(h.__experimentalNumberControl,{label:optimoleDashboardApp.strings.options_strings.exclude_first,labelPosition:"side",value:e.skip_lazyload_images,type:"number",min:0,className:"basis-1/2 md:basis-1/3",onChange:e=>v("skip_lazyload_images",e)}))),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.toggle_native,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.native_desc}}),checked:i,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("native_lazyload",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.toggle_scale,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.scale_desc}}),checked:l,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("scale",!e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_video_lazyload_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_video_lazyload_desc}}),checked:p,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("video_lazyload",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_noscript_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_noscript_desc}}),checked:m,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("no_script",e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.ToggleControl,{label:optimoleDashboardApp.strings.options_strings.enable_bg_lazyload_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.enable_bg_lazyload_desc}}),checked:c,disabled:r,className:u()({"is-disabled":r}),onChange:e=>_("bg_replacer",e)}),c&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(h.BaseControl,{label:optimoleDashboardApp.strings.options_strings.watch_title_lazyload,id:"optml-css-watchers"},(0,s.createElement)("p",{className:"components-base-control__help mt-0",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.options_strings.watch_desc_lazyload}}),(0,s.createElement)(h.TextareaControl,{id:"optml-css-watchers",placeholder:optimoleDashboardApp.strings.options_strings.watch_placeholder_lazyload,value:e.watchers,onChange:e=>v("watchers",e)}))))},ut="extension",pt="page_url",mt="page_url_match",ht="filename",ft="class",gt=[{label:optimoleDashboardApp.strings.options_strings.filter_filename,value:ht},{label:optimoleDashboardApp.strings.options_strings.filter_ext,value:ut},{label:optimoleDashboardApp.strings.options_strings.filter_url,value:pt},{label:optimoleDashboardApp.strings.options_strings.filter_class,value:ft}],bt=[{label:optimoleDashboardApp.strings.options_strings.exclude_filename_desc,value:ht},{label:optimoleDashboardApp.strings.options_strings.exclude_ext_desc,value:ut},{label:optimoleDashboardApp.strings.options_strings.exclude_url_desc,value:pt},{label:optimoleDashboardApp.strings.options_strings.exclude_url_match_desc,value:mt},{label:optimoleDashboardApp.strings.options_strings.exclude_class_desc,value:ft}],_t=[{label:".SVG",value:"svg"},{label:".JPG",value:"jpg"},{label:".PNG",value:"png"},{label:".GIF",value:"gif"},{label:".WEBP",value:"webp"}],vt=({label:e,help:t,type:n,settings:r,setSettings:o,setCanSave:i})=>{const{isLoading:l}=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}})),[c,u]=(0,a.useState)(ht),[p,m]=(0,a.useState)(optimoleDashboardApp.strings.options_strings.filter_operator_contains),[f,g]=(0,a.useState)(""),[b,_]=(0,a.useState)(optimoleDashboardApp.strings.options_strings.filter_operator_contains),[v,y]=(0,a.useState)(!1),w=0<Object.keys(r.filters[n][ut]).length&&Object.values(r.filters[n][ut]).some((e=>!1!==e))||0<Object.keys(r.filters[n][ft]).length&&Object.values(r.filters[n][ft]).some((e=>!1!==e))||0<Object.keys(r.filters[n][pt]).length&&Object.values(r.filters[n][pt]).some((e=>!1!==e))||0<Object.keys(r.filters[n][mt]).length&&Object.values(r.filters[n][mt]).some((e=>!1!==e))||0<Object.keys(r.filters[n][ht]).length&&Object.values(r.filters[n][ht]).some((e=>!1!==e));return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.BaseControl,{label:e,help:c===pt&&optimoleDashboardApp.strings.options_strings.filter_helper},(0,s.createElement)("p",{className:"components-base-control__help mt-0",dangerouslySetInnerHTML:{__html:t}}),(0,s.createElement)("div",{className:"flex flex-col md:flex-row p-6 my-3 bg-light-blue border border-blue-300 rounded-md items-center justify-between gap-8"},(0,s.createElement)("div",{className:"flex justify-start items-center gap-4"},(0,s.createElement)(h.SelectControl,{value:c,options:gt,onChange:e=>{let t="";e===ut&&(t="svg",m(optimoleDashboardApp.strings.options_strings.filter_operator_is)),e===ht&&m(optimoleDashboardApp.strings.options_strings.filter_operator_contains),e===ft&&m(optimoleDashboardApp.strings.options_strings.filter_operator_contains),y(!1),g(t),u(e)},className:"optml__select",__nextHasNoMarginBottom:!0}),c===pt?(0,s.createElement)(h.SelectControl,{value:b,options:[{label:optimoleDashboardApp.strings.options_strings.filter_operator_contains,value:optimoleDashboardApp.strings.options_strings.filter_operator_contains},{label:optimoleDashboardApp.strings.options_strings.filter_operator_matches,value:optimoleDashboardApp.strings.options_strings.filter_operator_matches}],onChange:_,className:"optml__select",__nextHasNoMarginBottom:!0}):(0,s.createElement)("p",{className:"m-0"},p),c===ut?(0,s.createElement)(h.SelectControl,{value:f,options:_t,onChange:g,className:"optml__select",__nextHasNoMarginBottom:!0}):(0,s.createElement)(h.TextControl,{value:f,placeholder:"matches"===b?"path":"word",onChange:e=>{g(e),y(!1)},className:"optml__input"})),(0,s.createElement)(h.Button,{variant:"primary",isBusy:l,disabled:l,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:()=>{if(3>f.length)return void y(!0);const e={...r.filters};let t=c;c===pt&&"matches"===b&&(t=mt),e[n]&&"object"==typeof e[n]||(e[n]={}),e[n][t]&&!Array.isArray(e[n][t])||(e[n][t]={}),e[n][t][f]=!0,o({...r,filters:e}),c!==ut&&g(""),i(!0)}},optimoleDashboardApp.strings.options_strings.add_filter)),v&&(0,s.createElement)("p",{className:"text-red-500 bg-red-100 p-2 rounded-md border border-solid border-red-200"},optimoleDashboardApp.strings.options_strings.filter_length_error)),w&&(0,s.createElement)(h.BaseControl,{label:"optimize"===n?optimoleDashboardApp.strings.options_strings.active_optimize_exclusions:optimoleDashboardApp.strings.options_strings.active_lazyload_exclusions,className:"py-4"},bt.map((e=>Object.keys(r.filters[n][e.value]).filter((t=>!1!==r.filters[n][e.value][t])).map((t=>(0,s.createElement)("div",{key:t,className:"flex p-3 my-3 bg-light-blue border border-blue-300 rounded-md items-center justify-between gap-8"},(0,s.createElement)("div",{className:"flex items-center gap-1"},(0,s.createElement)("p",{className:"m-0 inline-block",dangerouslySetInnerHTML:{__html:e.label}}),(0,s.createElement)("b",null,t)),(0,s.createElement)(h.Button,{variant:"default",icon:"trash",disabled:l,onClick:()=>((e,t)=>{const s={...r.filters};s[n][e][t]=!1,o({...r,filters:s}),i(!0)})(e.value,t)}))))))))},yt=({settings:e,setSettings:t,setCanSave:n})=>{const a="disabled"!==e.lazyload;return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(vt,{label:optimoleDashboardApp.strings.options_strings.exclude_title_optimize,help:optimoleDashboardApp.strings.options_strings.exclude_desc_optimize,type:"optimize",settings:e,setSettings:t,setCanSave:n}),a&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)(vt,{label:optimoleDashboardApp.strings.options_strings.exclude_title_lazyload,help:optimoleDashboardApp.strings.options_strings.exclude_desc_lazyload,type:"lazyload",settings:e,setSettings:t,setCanSave:n})))};function wt({options:e,value:t,onChange:n,label:a,disabled:r=!1,className:o}){return u()({"opacity-50":r},"transition-all my-6 gap-6 grid opacity-100"),(0,s.createElement)("fieldset",{className:`my-6 gap-6 grid ${o}`,onChange:e=>{n(e.target.value)}},a&&(0,s.createElement)("legend",{className:"uppercase font-semibold text-s text-light-black mb-6"},a),e.map(((e,n)=>{const{title:a,value:o,description:i}=e,l=t===o,d=u()({"outline-info":l,"outline-transparent":!l},"flex gap-6 items-start bg-gray-50 rounded-md p-4 outline -outline-offset-3 outline-3 transition-all");return(0,s.createElement)("label",{htmlFor:o,key:o,className:d},(0,s.createElement)(kt,{isActive:l}),(0,s.createElement)("div",{className:"grid space-y-2"},a&&(0,s.createElement)("div",{className:"text-base font-medium text-gray-700"},a),i&&(0,s.createElement)("div",{className:"text-sm text-gray-500"},i)),(0,s.createElement)("input",{type:"radio",name:"label",value:o,id:o,className:"!opacity-0 !w-0 !h-0 !overflow-hidden !absolute !pointer-events-none",disabled:r}))})))}const kt=({isActive:e})=>{const t=u()({"bg-white outline-info":e,"bg-gray-200 outline-transparent":!e},"w-[24px] h-[24px] rounded-full flex items-center justify-center flex-shrink-0 outline outline-3 -outline-offset-3 transition-all"),n=u()({"bg-info":e},"w-[12px] h-[12px] rounded-full background-info transition-all");return(0,s.createElement)("div",{className:t},e&&(0,s.createElement)("div",{className:n}))};function xt({title:e,progress:t,description:n,onCancel:a,hideCancel:r=!1}){const{strings:o}=optimoleDashboardApp;return(0,s.createElement)("div",{className:"bg-gray-50 rounded-md p-4 space-y-4"},(0,s.createElement)("div",{className:"flex gap-3 items-center"},(0,s.createElement)(nt,{icon:v,className:"text-info animate-spin -scale-y-100"}),e&&(0,s.createElement)("p",{className:"uppercase text-s font-semibold text-light-black m-0"},e),!r&&(0,s.createElement)("button",{onClick:a,className:"appearance-none border border-info text-info bg-transparent rounded px-4 py-2 ml-auto text-s hover:border-red-500 hover:bg-red-500 hover:text-white cursor-pointer"},o.cancel)),(0,s.createElement)(Ae,{value:t}),n&&(0,s.createElement)("p",{className:"text-xs text-gray-500"},n))}const Et=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),Ct=window.wp.compose;function St({icon:e,labels:t={},onRequestClose:n=(()=>{}),onConfirm:a=(()=>{}),variant:r="default"}){const o=(0,Ct.useViewportMatch)("small","<"),i=u()({"bg-stale-yellow":"warning"===r,"bg-light-blue":"default"===r},"p-3 rounded-full"),l=u()({"bg-mango-yellow":"warning"===r},"optml__button flex justify-center px-5 py-3 rounded font-bold min-h-40 basis-1/5");return(0,s.createElement)(h.Modal,{__experimentalHideHeader:!0,className:"max-w-xl antialiased",onRequestClose:n,isFullScreen:o},(0,s.createElement)(h.Button,{icon:Et,onClick:n,label:optimoleDashboardApp.strings.csat.close,className:"fixed right-3 top-3 cursor-pointer"}),(0,s.createElement)("div",{className:"flex flex-col items-center"},(0,s.createElement)(h.Icon,{icon:e,size:24,className:i}),(0,s.createElement)("h2",{className:"mb-0",dangerouslySetInnerHTML:{__html:t.title}}),(0,s.createElement)("p",{className:"text-center mx-0 my-4 text-gray-700",dangerouslySetInnerHTML:{__html:t.description}}),(0,s.createElement)(h.Button,{variant:"primary",className:l,onClick:a},t.action)))}const jt=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M12.5 5L10 19h1.9l2.5-14z"})),Nt=({type:e})=>{const{logs:t}=(0,d.useSelect)((e=>{const{getLogs:t}=e("optimole");return{logs:t()}})),[n,r]=(0,a.useState)(!1),o=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const n=setInterval((()=>{o.current&&(o.current.innerHTML=t[e],o.current.scrollTop=o.current.scrollHeight)}),15e3);return()=>clearInterval(n)}),[]),(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"w-full flex justify-end text-info my-2"},(0,s.createElement)(h.Button,{variant:"tertiary",className:"py-2 px-0",target:"_blank",href:`${window.ajaxurl}?action=optml_fetch_logs&nonce=${optimoleDashboardApp.nonce}&type=${e}`},optimoleDashboardApp.strings.options_strings.view_logs),(0,s.createElement)(h.Icon,{icon:jt,className:"fill-info py-2"}),(0,s.createElement)(h.Button,{variant:"tertiary",className:"py-2 px-0",onClick:()=>r(!n)},n?optimoleDashboardApp.strings.options_strings.hide_logs:optimoleDashboardApp.strings.options_strings.show_logs)),n&&(0,s.createElement)("div",{className:"flex flex-col p-6 bg-light-blue border border-blue-300 rounded-md min-h-[200px] max-h-[200px] overflow-y-scroll",ref:o,dangerouslySetInnerHTML:{__html:t[e]}}))},At=({settings:e,canSave:t,setSettings:n,setCanSave:r})=>{const{strings:o,cron_disabled:i}=optimoleDashboardApp,{conflicts:l,options_strings:c}=o,p="offload",m="rollback",h="stopOffload",f="stopRollback",{offloadConflicts:g,errorMedia:b,offloadLibraryLink:_,isLoading:y,loadingSync:E,loadingRollback:C,rollbackLibraryLink:S,queryArgs:j,totalNumberOfImages:N,processedImages:A,offloadFinishNotice:L,offloadLimitReached:I,offloadLimit:D}=(0,d.useSelect)((e=>{const{getOffloadConflicts:t,getErrorMedia:n,getLoadingSync:s,getLoadingRollback:a,getOffloadLibraryLink:r,getRollbackLibraryLink:o,getTotalNumberOfImages:i,getProcessedImages:l,getQueryArgs:d,isLoading:c,getSiteSettings:u,getOffloadLimit:p}=e("optimole");return{offloadConflicts:t(),errorMedia:n(),offloadLibraryLink:r(),isLoading:c(),loadingSync:s(),loadingRollback:a(),rollbackLibraryLink:o(),queryArgs:d(),totalNumberOfImages:i(),processedImages:l(),offloadFinishNotice:u("show_offload_finish_notice"),offloadLimitReached:"enabled"===u("offload_limit_reached"),offloadLimit:p()}}),[]),{setErrorMedia:T,setCheckedOffloadConflicts:M,setOffloadConflicts:O,setProcessedImages:F,setOffloadLimitReached:B}=(0,d.useDispatch)("optimole"),[P,R]=(0,a.useState)(null),z="disabled"!==e.offloading_status,q="disabled"!==e.rollback_status;(0,a.useEffect)((()=>{j?.optimole_action&&j?.images&&("offload_images"===j.optimole_action&&Z(j.images),"rollback_images"===j.optimole_action&&U(j.images))}),[]),(0,a.useEffect)((()=>{z&&ye({action:"offload_images",refresh:!0}),q&&ye({action:"rollback_images",refresh:!0})}),[]);const Z=(t=[])=>{const s={...e};s.show_offload_finish_notice="",s.offloading_status="enabled",n(s),ge(s,!1,!0,(()=>{T(!1),F(0),B(!1),ye({action:"offload_images",images:t}),r(!1)}))},U=(t=[])=>{M(!1),O([]),ve((n=>{if(0===n.data.length){const n={...e};n.show_offload_finish_notice="",n.rollback_status="enabled",ge(n,!1,!0,(()=>{T(!1),F(0),ye({action:"rollback_images",images:t}),r(!1)}))}}))},H=[{title:c.offload_radio_option_rollback_title,description:c.offload_radio_option_rollback_desc,value:"rollback"},{title:c.offload_radio_option_offload_title,description:c.offload_radio_option_offload_desc,value:"offload"}],$="enabled"===e.offload_media?"offload":"rollback",V=E||C;return(0,s.createElement)("div",null,(0,s.createElement)("h1",{className:"text-xl font-bold"},c.enable_offload_media_title),(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:c.enable_offload_media_desc}}),L&&(0,s.createElement)(at,{title:"offload"===L?c.offloading_success:c.rollback_success,type:"primary",onDismiss:()=>{ge({show_offload_finish_notice:""},!1,!0)}}),i&&(0,s.createElement)(at,{type:"error",text:o.cron_error}),!V&&(0,s.createElement)(wt,{className:u()({"opacity-50 pointer-events-none":y||i}),label:c.offloading_radio_legend,options:H,value:$,onChange:t=>{const s="offload"===t,a={...e};a.offload_media=s?"enabled":"disabled",n(a),r(!0),R(s?p:m)}}),V&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)(xt,{title:E?c.sync_media_progress:c.rollback_media_progress,progress:Math.round(A/N*100),onCancel:()=>{E&&R(h),C&&R(f)},description:0===N?c.calculating_estimated_time:c.images_processing}),(0,s.createElement)(Nt,{type:E?"offload":"rollback"})),"offload_images"===b&&(0,s.createElement)(at,{type:"error",smallTitle:!0,title:c.sync_media_error,text:c.sync_media_error_desc}),"rollback_images"===b&&(0,s.createElement)(at,{type:"error",smallTitle:!0,title:c.rollback_media_error,text:c.rollback_media_error_desc}),0<g.length&&(0,s.createElement)(at,{type:"warning",title:c.offload_conflicts_part_1},(0,s.createElement)("div",{className:"list-disc grid gap-3 mt-2"},(0,s.createElement)("ul",{className:"grid gap-1"},g.map((e=>(0,s.createElement)("li",{key:e,className:"font-semibold text-base m-0"},e)))),(0,s.createElement)("p",{className:"m-0 text-sm"},c.offload_conflicts_part_2),(0,s.createElement)("button",{disabled:y,className:u()({"opacity-50 pointer-events-none":y},"justify-self-start font-semibold flex items-center appearance-none border border-info text-info bg-white rounded px-4 py-2 text-sm hover:text-white hover:bg-info cursor-pointer"),onClick:()=>O([])},l.conflict_close))),!V&&(0,s.createElement)("button",{onClick:e=>{e.preventDefault(),"offload"===$&&R(p),"rollback"===$&&R(m)},disabled:y||i,className:u()({"opacity-50 pointer-events-none":y||i},"font-semibold flex items-center gap-2 appearance-none border border-info text-info bg-transparent rounded px-4 py-2 ml-auto text-sm hover:text-white hover:bg-info cursor-pointer")},(0,s.createElement)(nt,{icon:v,className:"w-4 h-4"}),(0,s.createElement)("span",null,c.sync_media)),!V&&I&&(0,s.createElement)(at,{type:"warning",text:c.offload_limit_reached.replace("#offload_limit#",D)}),P&&(0,s.createElement)(St,{...(W=P,{onRequestClose:()=>R(null),...{[p]:{icon:w,onConfirm:()=>{Z(),R(null)},labels:{title:c.offloading_start_title,description:c.offloading_start_description,action:c.offloading_start_action}},[m]:{icon:k,onConfirm:()=>{U(),R(null)},labels:{title:c.rollback_start_title,description:c.rollback_start_description,action:c.rollback_start_action}},[h]:{variant:"warning",icon:x,onConfirm:()=>{R(null);const t=e;t.offloading_status="disabled",ge(t)},labels:{title:c.offloading_stop_title,description:c.offloading_stop_description,action:c.offloading_stop_action}},[f]:{variant:"warning",icon:x,onConfirm:()=>{R(null);const t=e;t.rollback_status="disabled",ge(t)},labels:{title:c.rollback_stop_title,description:c.rollback_stop_description,action:c.rollback_stop_action}}}[W]})}),_&&(0,s.createElement)("p",{className:"m-0"},c.sync_media_link," ",(0,s.createElement)("a",{href:j.url},c.here)),S&&(0,s.createElement)("p",{className:"m-0"},c.rollback_media_link," ",(0,s.createElement)("a",{href:j.url},optimoleDashboardApp.strings.options_strings.here)));var W};function Lt(e){const{user_data:t,strings:n}=optimoleDashboardApp,{options_strings:a}=n,{settings:r,setSettings:o,setCanSave:i}=e,l=(0,d.useSelect)((e=>{const{isLoading:t}=e("optimole");return{isLoading:t()}}),[]),{isLoading:c}=l,p="disabled"!==r.cloud_images,m=t.whitelist||[];return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(h.ToggleControl,{label:a.enable_cloud_images_title,help:()=>(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:a.enable_cloud_images_desc}}),checked:p,disabled:c,className:u()({"is-disabled":c}),onChange:e=>((e,t)=>{i(!0);const n={...r};n.cloud_images=t?"enabled":"disabled",o(n)})(0,e)}),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),p&&(0,s.createElement)(h.BaseControl,{label:a.cloud_site_title,help:a.cloud_site_desc},(0,s.createElement)("div",{className:"optml__token__base flex p-6 bg-light-blue border border-blue-300 rounded-md items-center gap-8"},(0,s.createElement)(h.FormTokenField,{value:Object.keys(r.cloud_sites).filter((e=>"all"!==e&&"false"!==r.cloud_sites[e])).map((e=>e))||[],suggestions:m,onChange:e=>{i(!0);const t={},n={...r};0===e.length?t.all="true":e.forEach((e=>{t[e]="true"})),Object.keys(n.cloud_sites).forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)||(t[e]="false")})),n.cloud_sites=t,o(n)},__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,__experimentalValidateInput:e=>m.includes(e),className:"optml__token"}))))}const It=({tab:e,setTab:t,canSave:n,setCanSave:r,settings:o,setSettings:i})=>{const{siteSettings:l,isLoading:c,damEnabled:u}=(0,d.useSelect)((e=>{const{getSiteSettings:t,getQueryArgs:n,isLoading:s}=e("optimole"),a=t();return{siteSettings:a,damEnabled:a.cloud_images,isLoading:s(),queryArgs:n()}}),[]),[p,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1);(0,a.useEffect)((()=>{((e=!0)=>{const{dam_url:t,strings:n}=window.optimoleDashboardApp,{cloud_library:s}=n,a=document.querySelector('a[href*="page=optimole-dam"]');if(!e&&!a)return;if(!e){if(!a)return;return void(a.style.display="none")}if(a)return void(a.style={});const r=document.createElement("li"),o=document.createElement("a");r.appendChild(o),o.href=t,o.innerHTML=s;const i=document.querySelector("#toplevel_page_optimole ul");i&&i.insertBefore(r,i.firstChild)})("enabled"===u)}),[u]),(0,a.useEffect)((()=>{const e=localStorage.getItem("optimole_settings_visits");3<e||localStorage.setItem("optimole_settings_visits",e?parseInt(e)+1:1)}),[e]);const b=()=>{ge(o,l.banner_frontend!==o.banner_frontend),r(!1)};return(0,s.createElement)("div",{className:"optml-settings flex flex-col sm:flex-row bg-white p-8 border-0 rounded-lg shadow-md gap-8"},(0,s.createElement)(Ye,{tab:e,setTab:t,settings:o}),(0,s.createElement)("div",{className:"basis-4/5"},"general"===e&&(0,s.createElement)(rt,{settings:o,setSettings:i,setCanSave:r}),"compression"===e&&(0,s.createElement)(lt,{settings:o,setSettings:i,setCanSave:r,showSample:p,isSampleLoading:f,setIsSampleLoading:g}),"resize"===e&&(0,s.createElement)(dt,{settings:o,setSettings:i,setCanSave:r}),"lazyload"===e&&(0,s.createElement)(ct,{settings:o,setSettings:i,setCanSave:r}),"exclusions"===e&&(0,s.createElement)(yt,{settings:o,setSettings:i,setCanSave:r}),"cloud_library"===e&&(0,s.createElement)(Lt,{settings:o,canSave:n,setSettings:i,setCanSave:r,onSaveSettings:b}),"offload_media"===e&&(0,s.createElement)(At,{settings:o,canSave:n,setSettings:i,setCanSave:r,onSaveSettings:b}),(0,s.createElement)("div",{className:"flex justify-start items-center gap-5 mt-8"},(0,s.createElement)(h.Button,{variant:"primary",isBusy:c,disabled:!n,className:"optml__button flex w-full justify-center rounded font-bold min-h-40 basis-1/5",onClick:b},optimoleDashboardApp.strings.options_strings.save_changes),"disabled"===o.autoquality&&"compression"===e&&(0,s.createElement)(h.Button,{variant:"default",disabled:c,onClick:()=>{p||(g(!0),_e({quality:o.quality},(()=>g(!1)))),m(!p)}},optimoleDashboardApp.strings.options_strings.view_sample_image))))},Dt=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{fillRule:"evenodd",d:"M17.375 15.656A6.47 6.47 0 0018.5 12a6.47 6.47 0 00-.943-3.374l-1.262.813c.448.749.705 1.625.705 2.561a4.977 4.977 0 01-.887 2.844l1.262.813zm-1.951 1.87l-.813-1.261A4.976 4.976 0 0112 17c-.958 0-1.852-.27-2.613-.736l-.812 1.261A6.47 6.47 0 0012 18.5a6.47 6.47 0 003.424-.974zm-8.8-1.87A6.47 6.47 0 015.5 12c0-1.235.344-2.39.943-3.373l1.261.812A4.977 4.977 0 007 12c0 1.056.328 2.036.887 2.843l-1.262.813zm2.581-7.803A4.977 4.977 0 0112 7c1.035 0 1.996.314 2.794.853l.812-1.262A6.47 6.47 0 0012 5.5a6.47 6.47 0 00-3.607 1.092l.812 1.261zM12 20a8 8 0 100-16 8 8 0 000 16zm0-4.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z",clipRule:"evenodd"})),Tt=(0,s.createElement)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"})),Mt=(0,s.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(p.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Ot=[{title:optimoleDashboardApp.strings.help.get_support_title,description:optimoleDashboardApp.strings.help.get_support_desc,cta:optimoleDashboardApp.strings.help.get_support_cta,link:"https://wordpress.org/support/plugin/optimole-wp/",icon:Dt},{title:optimoleDashboardApp.strings.help.feat_request_title,description:optimoleDashboardApp.strings.help.feat_request_desc,cta:optimoleDashboardApp.strings.help.feat_request_cta,link:"https://github.com/Codeinwp/optimole-wp/discussions",icon:Tt},{title:optimoleDashboardApp.strings.help.feedback_title,description:optimoleDashboardApp.strings.help.feedback_desc,cta:optimoleDashboardApp.strings.help.feedback_cta,link:"https://wordpress.org/plugins/optimole-wp/#developers",icon:Mt}],Ft=[{title:optimoleDashboardApp.strings.help.account_title,items:[{label:optimoleDashboardApp.strings.help.account_item_one,value:"https://docs.optimole.com/article/1134-how-optimole-counts-the-number-of-visitors"},{label:optimoleDashboardApp.strings.help.account_item_two,value:"https://docs.optimole.com/article/1008-what-happens-if-i-exceed-plan-limits"},{label:optimoleDashboardApp.strings.help.account_item_three,value:"https://docs.optimole.com/article/1133-visitors-based-plan"}]},{title:optimoleDashboardApp.strings.help.image_processing_title,items:[{label:optimoleDashboardApp.strings.help.image_processing_item_one,value:"https://docs.optimole.com/article/1173-how-to-get-started-with-optimole-in-just-3-steps"},{label:optimoleDashboardApp.strings.help.image_processing_item_two,value:"https://docs.optimole.com/article/1068-how-optimole-can-serve-webp-images"},{label:optimoleDashboardApp.strings.help.image_processing_item_three,value:"https://docs.optimole.com/article/1475-adding-watermarks-to-your-images"}]},{title:optimoleDashboardApp.strings.help.api_title,items:[{label:optimoleDashboardApp.strings.help.api_item_one,value:"https://docs.optimole.com/article/1323-cloud-library-browsing"},{label:optimoleDashboardApp.strings.help.api_item_two,value:"https://docs.optimole.com/article/1191-exclude-from-optimizing-or-lazy-loading"},{label:optimoleDashboardApp.strings.help.api_item_three,value:"https://docs.optimole.com/article/1307-custom-integration"}]}],Bt="flex p-6 border-2 border-solid border-grayish-blue rounded-md items-start gap-8 basis-1/3",Pt=()=>(0,s.createElement)("div",{className:"bg-white p-8 border-0 rounded-lg shadow-md"},(0,s.createElement)("p",{className:"font-bold text-base"},optimoleDashboardApp.strings.help.section_one_title),(0,s.createElement)("div",{className:"flex gap-5 flex-col md:flex-row"},Ot.map(((e,t)=>(0,s.createElement)("div",{key:t,className:Bt},(0,s.createElement)("div",{className:"flex w-full flex-col gap-2"},(0,s.createElement)(h.Icon,{icon:e.icon,className:"fill-info",size:42}),(0,s.createElement)("div",{className:"font-bold text-base py-2 text-gray-800"},e.title),(0,s.createElement)("div",{className:"not-italic font-normal text-s text-gray-800"},e.description),(0,s.createElement)(h.ExternalLink,{href:e.link},e.cta)))))),(0,s.createElement)("hr",{className:"my-8 border-grayish-blue"}),(0,s.createElement)("div",{className:"flex items-center justify-between"},(0,s.createElement)("p",{className:"font-bold text-base"},optimoleDashboardApp.strings.help.section_two_title),(0,s.createElement)(h.ExternalLink,{href:"https://docs.optimole.com/"},optimoleDashboardApp.strings.help.section_two_sub)),(0,s.createElement)("div",{className:"flex gap-5 flex-col md:flex-row"},Ft.map(((e,t)=>(0,s.createElement)("div",{key:t,className:Bt},(0,s.createElement)("div",{className:"flex w-full flex-col gap-2"},(0,s.createElement)("div",{className:"font-bold text-base py-2 text-gray-800"},e.title),e.items.map(((e,t)=>(0,s.createElement)("a",{key:t,href:e.value,target:"_blank"},e.label))))))))),Rt=[optimoleDashboardApp.strings.upgrade.reason_1,optimoleDashboardApp.strings.upgrade.reason_2,optimoleDashboardApp.strings.upgrade.reason_3,optimoleDashboardApp.strings.upgrade.reason_4],zt=()=>{const{name:e,domain:t,plan:n}=(0,d.useSelect)((e=>{const{getUserData:t}=e("optimole"),n=t();let s=n?.cdn_key+".i.optimole.com";return void 0!==n?.domain&&""!==n?.domain&&(s=n?.domain),{name:n?.display_name,domain:s,plan:n?.plan}}));return(0,s.createElement)("div",{className:"flex flex-col mt-8 mb-5 p-0 transition-all ease-in-out duration-700 gap-5 basis-3/12"},(0,s.createElement)("div",{className:"bg-white gap-5 flex flex-col text-gray-700 border-0 rounded-lg shadow-md p-8"},(0,s.createElement)(h.TextControl,{label:optimoleDashboardApp.strings.logged_in_as,value:e,className:"optml__placeholder",disabled:!0}),(0,s.createElement)(h.TextControl,{label:optimoleDashboardApp.strings.private_cdn_url,value:t,className:"optml__placeholder",disabled:!0}),(0,s.createElement)("hr",{className:"m-0 border-grayish-blue"}),(0,s.createElement)("p",{className:"font-semibold text-xs text-light-black m-0"},optimoleDashboardApp.strings.looking_for_api_key),(0,s.createElement)("p",{className:"m-0 -mt-3",dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.optml_dashboard}})),"free"===n?(0,s.createElement)("div",{className:"bg-info flex flex-col text-white border-0 rounded-lg shadow-md p-8 bg-promo bg-no-repeat",style:{backgroundImage:`url( ${optimoleDashboardApp.assets_url}/img/logo2.png )`}},(0,s.createElement)("h3",{className:"mt-0 text-white text-lg"},optimoleDashboardApp.strings.upgrade.title_long),(0,s.createElement)("ul",null,Rt.map(((e,t)=>(0,s.createElement)("li",{key:t,className:"flex items-center gap-2"},(0,s.createElement)(h.Icon,{icon:"yes-alt",className:"text-white"}),(0,s.createElement)("span",{className:"text-white font-normal text-base"},e))))),(0,s.createElement)(h.Button,{variant:"link",className:"optml__button flex w-full justify-center font-bold min-h-40 !no-underline !text-white !bg-opaque-black !rounded",href:"https://optimole.com/pricing",target:"_blank"},optimoleDashboardApp.strings.upgrade.cta)):(0,s.createElement)(h.Button,{variant:"default",className:"bg-white flex font-bold border-0 rounded-lg shadow-md p-8 text-sm justify-center",href:(0,S.addQueryArgs)("https://optimole.com/contact/",{contact_name:window.optimoleDashboardApp.user_data.display_name,contact_email:optimoleDashboardApp.user_data.user_email,contact_website:optimoleDashboardApp.home_url}),target:"_blank"},optimoleDashboardApp.strings.premium_support))},qt=({strings:e,onClose:t})=>(0,s.createElement)("div",{className:"flex justify-between px-8 pt-8"},(0,s.createElement)("p",{className:"text-purple-gray text-sm m-0 py-2"},e.title),(0,s.createElement)(h.Button,{label:e.close,icon:st,onClick:t,className:"text-gray-950"}));window.optimoleCSAT={hasSubmitted:!1,data:{}};const Zt=({id:e,show:t=!1,strings:n={},pages:r=[],onDismiss:o=(()=>{})})=>{const[i,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(0),[u,p]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)({});(0,a.useEffect)((()=>{const t=()=>{!window.optimoleCSAT.hasSubmitted&&window.optimoleCSAT.data?.score&&localStorage.setItem(`optimole_csat_data_${e}`,JSON.stringify(window.optimoleCSAT.data))};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[]),(0,a.useEffect)((()=>{t&&!u&&l(t)}),[t]),(0,a.useEffect)((()=>{window.optimoleCSAT={hasSubmitted:m,data:g}}),[m,g]);const _=(e=!1,t=g)=>{if(o(),m||!t?.score)return p(!0),null;const n={email:optimoleDashboardApp.user_data.user_email,product:"Optimole",site:optimoleDashboardApp.home_url,...t};try{fetch(`https://api.themeisle.com/tracking/csat/${t?.score}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, */*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify(n)})}catch(e){console.warn(e)}f(!0),c(r.length),e&&(l(!1),p(!0))};if((0,a.useEffect)((()=>{const t=localStorage.getItem(`optimole_csat_data_${e}`);t&&(_(!0,JSON.parse(t)),localStorage.removeItem(`optimole_csat_data_${e}`))}),[]),!i)return null;if(0===r.length)return null;const v=d<r.length,y=r[d]?.content;return(0,s.createElement)("div",{className:"bg-white fixed left-0 w-auto sm:right-0 sm:left-auto sm:w-full bottom-0 m-12 gap-2 max-w-lg flex flex-col text-gray-700 border-0 rounded-lg shadow-lg z-50"},r[d]&&(0,s.createElement)(s.Fragment,null,r[d]?.showHeader&&(0,s.createElement)(qt,{onClose:()=>{l(!1),p(!0),_()},strings:n}),(0,s.createElement)(y,{data:g,changeData:(e,t=!1)=>{b({...g,...e}),t&&c(d+1)},onSubmit:_})),!v&&(0,s.createElement)("div",{className:"flex flex-col gap-5 p-8 items-center"},(0,s.createElement)(h.Icon,{icon:Je,size:40,className:"bg-success rounded-full fill-white p-2"}),(0,s.createElement)("div",{className:"font-bold text-lg"},optimoleDashboardApp.strings.csat.heading_three),(0,s.createElement)("div",{className:"text-sm text-center"},optimoleDashboardApp.strings.csat.thank_you),(0,s.createElement)(h.Button,{variant:"primary",onClick:()=>l(!1),className:"optml__button basis-full justify-center rounded font-bold min-h-40"},optimoleDashboardApp.strings.csat.close)))},Ut=window.wp.api;var Ht=n.n(Ut);const $t=window.wp.i18n,Vt=()=>{const[e,t]=(0,a.useState)(!1),[n,r,o]=(()=>{const[e,t]=(0,a.useState)({}),[n,s]=(0,a.useState)("loading"),r=()=>{Ht().loadPromise.then((async()=>{try{const e=new(Ht().models.Settings),n=await e.fetch();t(n)}catch(e){s("error")}finally{s("loaded")}}))};return(0,a.useEffect)((()=>{r()}),[]),[t=>e?.[t],(e,t,n=(0,$t.__)("Settings saved.","textdomain"))=>{s("saving");const a=new(Ht().models.Settings)({[e]:t}).save();a.success(((e,t)=>{"success"===t&&s("loaded"),"error"===t&&s("error"),r()})),a.error((e=>{s("error")}))},n]})(),i="loaded"===o&&void 0!==n("optml_csat")&&JSON.parse(n("optml_csat")),{hasImages:l,isFirstSite:c}=(0,d.useSelect)((e=>{const{getUserData:t}=e("optimole");return{hasImages:0<t()?.images_number,isFirstSite:1===t()?.whitelist?.length}})),u=localStorage.getItem("optimole_settings_visits");return(0,a.useEffect)((()=>{t(l&&c&&3<=parseInt(u)&&!1!==i&&!0!==i?.firstImpressions)}),[u,i]),(0,s.createElement)(s.Fragment,null,(0,s.createElement)(Zt,{id:"first-impressions",show:e,onDismiss:()=>r("optml_csat",JSON.stringify({...i,firstImpressions:!0})),strings:{title:optimoleDashboardApp.strings.csat.title,close:optimoleDashboardApp.strings.csat.close},pages:[{showHeader:!0,content:e=>(0,s.createElement)("div",{className:"flex flex-col gap-5 px-8 pb-8"},(0,s.createElement)("div",{className:"font-bold text-lg"},optimoleDashboardApp.strings.csat.heading_one),(0,s.createElement)("div",{className:"flex gap-5"},[1,2,3,4,5].map((t=>(0,s.createElement)(h.Button,{key:t,onClick:()=>e.changeData({score:t},!0),className:"optml__button basis-full justify-center rounded font-bold min-h-40"},t)))),(0,s.createElement)("div",{className:"flex justify-between"},(0,s.createElement)("span",{className:"text-purple-gray text-sm"},optimoleDashboardApp.strings.csat.low),(0,s.createElement)("span",{className:"text-purple-gray text-sm"},optimoleDashboardApp.strings.csat.high)))},{showHeader:!0,content:e=>(0,s.createElement)("div",{className:"flex flex-col gap-5 px-8 pb-8"},(0,s.createElement)("div",{className:"font-bold text-lg"},optimoleDashboardApp.strings.csat.heading_two),(0,s.createElement)(h.TextareaControl,{label:optimoleDashboardApp.strings.csat.heading_two,hideLabelFromVision:!0,value:e.data?.feedback,placeholder:optimoleDashboardApp.strings.csat.feedback_placeholder,onChange:t=>e.changeData({feedback:t})}),(0,s.createElement)("div",{className:"flex justify-end"},(0,s.createElement)("div",{className:"flex gap-2"},(0,s.createElement)(h.Button,{onClick:()=>e.onSubmit(),className:"optml__button basis-full justify-center rounded font-bold min-h-40"},optimoleDashboardApp.strings.csat.skip),(0,s.createElement)(h.Button,{variant:"primary",onClick:()=>e.onSubmit(),className:"optml__button basis-full justify-center rounded font-bold min-h-40"},optimoleDashboardApp.strings.csat.submit))))}]}))},Wt=e=>({ok:!1,error:e});async function Kt(e,t,n,s){const a=new URL(t,e),r=JSON.stringify(s),o=(i=fetch,(...e)=>{try{return{ok:!0,data:i(...e)}}catch(e){return{ok:!1,error:e}}})(a.toString(),{method:n,headers:{"Content-Type":"application/json"},body:r});var i;if(!1===o.ok)return Wt(o.error);const l=await o.data,{data:d}=await l.json();return l.ok?(e=>({ok:!0,data:e}))(d):Wt({code:"network_error",message:l.statusText,status:l.status,url:a})}class Qt{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/actions`,"POST",e)}}class Gt{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/displays`,"POST",e)}async update(e,t){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/displays/${e}`,"PUT",t)}}class Yt{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/people`,"POST",{environmentId:this.environmentId,userId:e})}async update(e,t){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/people/${e}`,"POST",t)}}class Xt{constructor(e,t){this.apiHost=e,this.environmentId=t}async create(e){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/responses`,"POST",e)}async update({responseId:e,finished:t,data:n,ttc:s}){return Kt(this.apiHost,`/api/v1/client/${this.environmentId}/responses/${e}`,"PUT",{finished:t,data:n,ttc:s})}}class Jt{constructor(e,t){this.apiHost=e,this.environmentId=t}async uploadFile(e,{allowedFileExtensions:t,surveyId:n}={}){if(!(e instanceof Blob&&e instanceof File))throw new Error("Invalid file type. Expected Blob or File, but received "+typeof e);const s={fileName:e.name,fileType:e.type,allowedFileExtensions:t,surveyId:n},a=await fetch(`${this.apiHost}/api/v1/client/${this.environmentId}/storage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`Upload failed with status: ${a.status}`);const r=await a.json(),{data:o}=r,{signedUrl:i,fileUrl:l,signingData:d,presignedFields:c,updatedFileName:u}=o;let p={};if(d){const{signature:t,timestamp:s,uuid:a}=d;p={"X-File-Type":e.type,"X-File-Name":encodeURIComponent(u),"X-Survey-ID":n??"","X-Signature":t,"X-Timestamp":String(s),"X-UUID":a}}const m=new FormData;c&&Object.keys(c).forEach((e=>{m.append(e,c[e])})),m.append("file",e);const h=await fetch(i,{method:"POST",...d?{headers:p}:{},body:m});if(!h.ok){const e=await h.json();throw new Error(`${e.message}`)}return l}}class en{constructor(e){const{apiHost:t,environmentId:n}=e;this.response=new Xt(t,n),this.display=new Gt(t,n),this.action=new Qt(t,n),this.people=new Yt(t,n),this.storage=new Jt(t,n)}}class tn{constructor(e){this.client=new en(e)}}class nn{constructor(){this.logLevel="error"}static getInstance(){return nn.instance||(nn.instance=new nn),nn.instance}configure(e){e&&void 0!==e.logLevel&&(this.logLevel=e.logLevel)}logger(e,t){if("debug"===t&&"debug"!==this.logLevel)return;const n=` Formbricks - ${(new Date).toISOString()} [${t.toUpperCase()}] - ${e}`;"error"===t?console.error(n):console.log(n)}debug(e){this.logger(e,"debug")}error(e){this.logger(e,"error")}}const sn=e=>({ok:!0,value:e}),an=e=>({ok:!1,error:e}),rn=e=>(...t)=>{try{return{ok:!0,value:e(...t)}}catch(e){return{ok:!1,error:e}}},on=nn.getInstance(),ln=class e{constructor(e){this.customized=!1,e?(this.handleError=e,this.customized=!0):this.handleError=e=>nn.getInstance().error(JSON.stringify(e))}static getInstance(){return e.instance||(e.instance=new e),e.instance}static init(t){this.initialized=!0,e.instance=new e(t)}printStatus(){on.debug("Custom error handler: "+(this.customized?"yes":"no"))}handle(e){console.warn(" Formbricks - Global error: ",e),this.handleError(e)}};ln.initialized=!1;let dn=ln;const cn="formbricks-js";class un{constructor(){this.config=null;const e=this.loadFromLocalStorage();e.ok&&(this.config=e.value)}static getInstance(){return un.instance||(un.instance=new un),un.instance}update(e){if(e){const t=new Date((new Date).getTime()+9e5);this.config={...this.config,...e,expiresAt:t},this.saveToLocalStorage()}}get(){if(!this.config)throw new Error("config is null, maybe the init function was not called?");return this.config}loadFromLocalStorage(){if("undefined"!=typeof window){const e=localStorage.getItem(cn);if(e){const t=JSON.parse(e);return t.expiresAt&&new Date(t.expiresAt)<=new Date?an(new Error("Config in local storage has expired")):sn(JSON.parse(e))}}return an(new Error("No or invalid config in local storage"))}saveToLocalStorage(){return rn((()=>localStorage.setItem(cn,JSON.stringify(this.config))))()}resetConfig(){return this.config=null,rn((()=>localStorage.removeItem(cn)))()}}class pn{constructor(e,t){this.queue=[],this.isRequestInProgress=!1,this.config=e,this.surveyState=t,this.api=new tn({apiHost:e.apiHost,environmentId:e.environmentId})}add(e){this.surveyState.accumulateResponse(e),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState),this.queue.push(e),this.processQueue()}async processQueue(){if(this.isRequestInProgress)return;if(0===this.queue.length)return;this.isRequestInProgress=!0;const e=this.queue[0];let t=0;for(;t<this.config.retryAttempts;){if(await this.sendResponse(e)){this.queue.shift();break}console.error("Formbricks: Failed to send response. Retrying...",t),t++}t>=this.config.retryAttempts&&(console.error("Failed to send response after 2 attempts."),this.surveyState.responseAcc.finished&&this.config.onResponseSendingFailed&&this.config.onResponseSendingFailed(this.surveyState.responseAcc),this.queue.shift()),this.isRequestInProgress=!1,this.processQueue()}async sendResponse(e){try{if(null!==this.surveyState.responseId)await this.api.client.response.update({...e,responseId:this.surveyState.responseId});else{const t=await this.api.client.response.create({...e,surveyId:this.surveyState.surveyId,userId:this.surveyState.userId||null,singleUseId:this.surveyState.singleUseId||null});if(!t.ok)throw new Error("Could not create response");this.surveyState.displayId&&await this.api.client.display.update(this.surveyState.displayId,{responseId:t.data.id}),this.surveyState.updateResponseId(t.data.id),this.config.setSurveyState&&this.config.setSurveyState(this.surveyState)}return!0}catch(e){return console.error(e),!1}}updateSurveyState(e){this.surveyState=e}}class mn{constructor(e,t,n,s){this.responseId=null,this.displayId=null,this.userId=null,this.responseAcc={finished:!1,data:{},ttc:{}},this.surveyId=e,this.userId=s??null,this.singleUseId=t??null,this.responseId=n??null}setSurveyId(e){this.surveyId=e,this.clear()}copy(){const e=new mn(this.surveyId,this.singleUseId??void 0,this.responseId??void 0,this.userId??void 0);return e.responseId=this.responseId,e.responseAcc=this.responseAcc,e}updateResponseId(e){this.responseId=e}updateDisplayId(e){this.displayId=e}updateUserId(e){this.userId=e}accumulateResponse(e){this.responseAcc={finished:e.finished,ttc:e.ttc,data:{...this.responseAcc.data,...e.data}}}isResponseFinished(){return this.responseAcc.finished}clear(){this.responseId=null,this.responseAcc={finished:!1,data:{},ttc:{}}}}const hn=mn;var fn,gn,bn,vn,yn,wn,kn,xn={},En=[],Cn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Sn=Array.isArray;function jn(e,t){for(var n in t)e[n]=t[n];return e}function Nn(e){var t=e.parentNode;t&&t.removeChild(e)}function An(e,t,n){var s,a,r,o={};for(r in t)"key"==r?s=t[r]:"ref"==r?a=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?fn.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return Ln(e,o,s,a,null)}function Ln(e,t,n,s,a){var r={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==a?++bn:a,__i:-1,__u:0};return null==a&&null!=gn.vnode&&gn.vnode(r),r}function In(e){return e.children}function Dn(e,t){this.props=e,this.context=t}function Tn(e,t){if(null==t)return e.__?Tn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Tn(e):null}function Mn(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Mn(e)}}function On(e){(!e.__d&&(e.__d=!0)&&vn.push(e)&&!Fn.__r++||yn!==gn.debounceRendering)&&((yn=gn.debounceRendering)||wn)(Fn)}function Fn(){var e,t,n,s,a,r,o,i,l;for(vn.sort(kn);e=vn.shift();)e.__d&&(t=vn.length,s=void 0,r=(a=(n=e).__v).__e,i=[],l=[],(o=n.__P)&&((s=jn({},a)).__v=a.__v+1,gn.vnode&&gn.vnode(s),$n(o,s,a,n.__n,void 0!==o.ownerSVGElement,32&a.__u?[r]:null,i,null==r?Tn(a):r,!!(32&a.__u),l),s.__.__k[s.__i]=s,Vn(i,s,l),s.__e!=r&&Mn(s)),vn.length>t&&vn.sort(kn));Fn.__r=0}function Bn(e,t,n,s,a,r,o,i,l,d,c){var u,p,m,h,f,g=s&&s.__k||En,b=t.length;for(n.__d=l,function(e,t,n){var s,a,r,o,i,l=t.length,d=n.length,c=d,u=0;for(e.__k=[],s=0;s<l;s++)null!=(a=e.__k[s]=null==(a=t[s])||"boolean"==typeof a||"function"==typeof a?null:"string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?Ln(null,a,null,null,a):Sn(a)?Ln(In,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?Ln(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)?(a.__=e,a.__b=e.__b+1,i=zn(a,n,o=s+u,c),a.__i=i,r=null,-1!==i&&(c--,(r=n[i])&&(r.__u|=131072)),null==r||null===r.__v?(-1==i&&u--,"function"!=typeof a.type&&(a.__u|=65536)):i!==o&&(i===o+1?u++:i>o?c>l-o?u+=i-o:u--:u=i<o&&i==o-1?i-o:0,i!==s+u&&(a.__u|=65536))):(r=n[s])&&null==r.key&&r.__e&&(r.__e==e.__d&&(e.__d=Tn(r)),Kn(r,r,!1),n[s]=null,c--);if(c)for(s=0;s<d;s++)null!=(r=n[s])&&0==(131072&r.__u)&&(r.__e==e.__d&&(e.__d=Tn(r)),Kn(r,r))}(n,t,g),l=n.__d,u=0;u<b;u++)null!=(m=n.__k[u])&&"boolean"!=typeof m&&"function"!=typeof m&&(p=-1===m.__i?xn:g[m.__i]||xn,m.__i=u,$n(e,m,p,a,r,o,i,l,d,c),h=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&Wn(p.ref,null,m),c.push(m.ref,m.__c||h,m)),null==f&&null!=h&&(f=h),65536&m.__u||p.__k===m.__k?l=Pn(m,l,e):"function"==typeof m.type&&void 0!==m.__d?l=m.__d:h&&(l=h.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=l,n.__e=f}function Pn(e,t,n){var s,a;if("function"==typeof e.type){for(s=e.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=e,t=Pn(s[a],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Rn(e,t){return t=t||[],null==e||"boolean"==typeof e||(Sn(e)?e.some((function(e){Rn(e,t)})):t.push(e)),t}function zn(e,t,n,s){var a=e.key,r=e.type,o=n-1,i=n+1,l=t[n];if(null===l||l&&a==l.key&&r===l.type)return n;if(s>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&a==l.key&&r===l.type)return o;o--}if(i<t.length){if((l=t[i])&&0==(131072&l.__u)&&a==l.key&&r===l.type)return i;i++}}return-1}function qn(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Cn.test(t)?n:n+"px"}function Zn(e,t,n,s,a){var r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||qn(e.style,t,"");if(n)for(t in n)s&&n[t]===s[t]||qn(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?s?n.u=s.u:(n.u=Date.now(),e.addEventListener(t,r?Hn:Un,r)):e.removeEventListener(t,r?Hn:Un,r);else{if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function Un(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(gn.event?gn.event(e):e)}function Hn(e){return this.l[e.type+!0](gn.event?gn.event(e):e)}function $n(e,t,n,s,a,r,o,i,l,d){var c,u,p,m,h,f,g,b,_,v,y,w,k,x,E,C=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),r=[i=t.__e=n.__e]),(c=gn.__b)&&c(t);e:if("function"==typeof C)try{if(b=t.props,_=(c=C.contextType)&&s[c.__c],v=c?_?_.props.value:c.__:s,n.__c?g=(u=t.__c=n.__c).__=u.__E:("prototype"in C&&C.prototype.render?t.__c=u=new C(b,v):(t.__c=u=new Dn(b,v),u.constructor=C,u.render=Qn),_&&_.sub(u),u.props=b,u.state||(u.state={}),u.context=v,u.__n=s,p=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=C.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=jn({},u.__s)),jn(u.__s,C.getDerivedStateFromProps(b,u.__s))),m=u.props,h=u.state,u.__v=t,p)null==C.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==C.getDerivedStateFromProps&&b!==m&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(b,v),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(b,u.__s,v)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=b,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),y=0;y<u._sb.length;y++)u.__h.push(u._sb[y]);u._sb=[],u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(b,u.__s,v),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(m,h,f)}))}if(u.context=v,u.props=b,u.__P=e,u.__e=!1,w=gn.__r,k=0,"prototype"in C&&C.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[]}else do{u.__d=!1,w&&w(t),c=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++k<25);u.state=u.__s,null!=u.getChildContext&&(s=jn(jn({},s),u.getChildContext())),p||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(m,h)),Bn(e,Sn(E=null!=c&&c.type===In&&null==c.key?c.props.children:c)?E:[E],t,n,s,a,r,o,i,l,d),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),g&&(u.__E=u.__=null)}catch(e){t.__v=null,l||null!=r?(t.__e=i,t.__u|=l?160:32,r[r.indexOf(i)]=null):(t.__e=n.__e,t.__k=n.__k),gn.__e(e,t,n)}else null==r&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,s,a,r,o,i,l){var d,c,u,p,m,h,f,g=n.props,b=t.props,_=t.type;if("svg"===_&&(a=!0),null!=r)for(d=0;d<r.length;d++)if((m=r[d])&&"setAttribute"in m==!!_&&(_?m.localName===_:3===m.nodeType)){e=m,r[d]=null;break}if(null==e){if(null===_)return document.createTextNode(b);e=a?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,b.is&&b),r=null,i=!1}if(null===_)g===b||i&&e.data===b||(e.data=b);else{if(r=r&&fn.call(e.childNodes),g=n.props||xn,!i&&null!=r)for(g={},d=0;d<e.attributes.length;d++)g[(m=e.attributes[d]).name]=m.value;for(d in g)m=g[d],"children"==d||("dangerouslySetInnerHTML"==d?u=m:"key"===d||d in b||Zn(e,d,null,m,a));for(d in b)m=b[d],"children"==d?p=m:"dangerouslySetInnerHTML"==d?c=m:"value"==d?h=m:"checked"==d?f=m:"key"===d||i&&"function"!=typeof m||g[d]===m||Zn(e,d,m,g[d],a);if(c)i||u&&(c.__html===u.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(u&&(e.innerHTML=""),Bn(e,Sn(p)?p:[p],t,n,s,a&&"foreignObject"!==_,r,o,r?r[0]:n.__k&&Tn(n,0),i,l),null!=r)for(d=r.length;d--;)null!=r[d]&&Nn(r[d]);i||(d="value",void 0!==h&&(h!==e[d]||"progress"===_&&!h||"option"===_&&h!==g[d])&&Zn(e,d,h,g[d],!1),d="checked",void 0!==f&&f!==e[d]&&Zn(e,d,f,g[d],!1))}return e}(n.__e,t,n,s,a,r,o,l,d);(c=gn.diffed)&&c(t)}function Vn(e,t,n){t.__d=void 0;for(var s=0;s<n.length;s++)Wn(n[s],n[++s],n[++s]);gn.__c&&gn.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){gn.__e(e,t.__v)}}))}function Wn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){gn.__e(e,n)}}function Kn(e,t,n){var s,a;if(gn.unmount&&gn.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||Wn(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){gn.__e(e,t)}s.base=s.__P=null,e.__c=void 0}if(s=e.__k)for(a=0;a<s.length;a++)s[a]&&Kn(s[a],t,n||"function"!=typeof e.type);n||null==e.__e||Nn(e.__e),e.__=e.__e=e.__d=void 0}function Qn(e,t,n){return this.constructor(e,n)}fn=En.slice,gn={__e:function(e,t,n,s){for(var a,r,o;t=t.__;)if((a=t.__c)&&!a.__)try{if((r=a.constructor)&&null!=r.getDerivedStateFromError&&(a.setState(r.getDerivedStateFromError(e)),o=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,s||{}),o=a.__d),o)return a.__E=a}catch(t){e=t}throw e}},bn=0,Dn.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=jn({},this.state),"function"==typeof e&&(e=e(jn({},n),this.props)),e&&jn(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),On(this))},Dn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),On(this))},Dn.prototype.render=In,vn=[],wn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,kn=function(e,t){return e.__v.__b-t.__v.__b},Fn.__r=0;var Gn=0;function Yn(e,t,n,s,a,r){var o,i,l={};for(i in t)"ref"==i?o=t[i]:l[i]=t[i];var d={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Gn,__i:-1,__u:0,__source:a,__self:r};if("function"==typeof e&&(o=e.defaultProps))for(i in o)void 0===l[i]&&(l[i]=o[i]);return gn.vnode&&gn.vnode(d),d}function Xn(){return Yn("a",{href:"https://formbricks.com?utm_source=survey_branding",target:"_blank",tabIndex:-1,className:"mb-5 mt-2 flex justify-center",children:Yn("p",{className:"text-signature text-xs",children:["Powered by"," ",Yn("b",{children:Yn("span",{className:"text-info-text hover:text-heading",children:"Formbricks"})})]})})}const Jn=(...e)=>e.filter(Boolean).join(" "),es=e=>{for(let t=0;t<e.length;t++){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},ts=(e,t)=>{const n=[...e],s=n.findIndex((e=>"other"===e.id)),a=-1!==s?n.splice(s,1)[0]:null;if("all"===t)es(n);else if("exceptLast"===t){const e=n.pop();es(n),n.push(e)}return a&&n.push(a),n},ns=(e,t)=>{var n;const s=e.questions[t],a=e.questions.length,r=Math.floor(a/2),o=(null==(n=null==s?void 0:s.logic)?void 0:n.map((e=>e.destination)))||[];let i=t||.5;const l=(()=>{const t=e.questions.filter((e=>o.includes(e.id))).sort(((t,n)=>e.questions.indexOf(t)-e.questions.indexOf(n))).pop();return e.questions.findIndex((e=>e.id===(null==t?void 0:t.id)))})();return l>0&&(i=Math.min(r,l-1)),o.includes("end")&&(i=r),i};var ss,as,rs,os,is=0,ls=[],ds=[],cs=gn.__b,us=gn.__r,ps=gn.diffed,ms=gn.__c,hs=gn.unmount;function fs(e,t){gn.__h&&gn.__h(as,e,is||t),is=0;var n=as.__H||(as.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ds}),n.__[e]}function gs(e){return is=1,function(e,t,n){var s=fs(ss++,2);if(s.t=e,!s.__c&&(s.__=[js(void 0,t),function(e){var t=s.__N?s.__N[0]:s.__[0],n=s.t(t,e);t!==n&&(s.__N=[n,s.__[1]],s.__c.setState({}))}],s.__c=as,!as.u)){var a=function(e,t,n){if(!s.__c.__H)return!0;var a=s.__c.__H.__.filter((function(e){return e.__c}));if(a.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var o=!1;return a.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&s.__c.props===e)&&(!r||r.call(this,e,t,n))};as.u=!0;var r=as.shouldComponentUpdate,o=as.componentWillUpdate;as.componentWillUpdate=function(e,t,n){if(this.__e){var s=r;r=void 0,a(e,t,n),r=s}o&&o.call(this,e,t,n)},as.shouldComponentUpdate=a}return s.__N||s.__}(js,e)}function bs(e,t){var n=fs(ss++,3);!gn.__s&&Ss(n.__H,t)&&(n.__=e,n.i=t,as.__H.__h.push(n))}function _s(e){return is=5,vs((function(){return{current:e}}),[])}function vs(e,t){var n=fs(ss++,7);return Ss(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ys(e,t){return is=8,vs((function(){return e}),t)}function ws(){for(var e;e=ls.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Es),e.__H.__h.forEach(Cs),e.__H.__h=[]}catch(t){e.__H.__h=[],gn.__e(t,e.__v)}}gn.__b=function(e){as=null,cs&&cs(e)},gn.__r=function(e){us&&us(e),ss=0;var t=(as=e.__c).__H;t&&(rs===as?(t.__h=[],as.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=ds,e.__N=e.i=void 0}))):(t.__h.forEach(Es),t.__h.forEach(Cs),t.__h=[],ss=0)),rs=as},gn.diffed=function(e){ps&&ps(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ls.push(t)&&os===gn.requestAnimationFrame||((os=gn.requestAnimationFrame)||xs)(ws)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==ds&&(e.__=e.__V),e.i=void 0,e.__V=ds}))),rs=as=null},gn.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Es),e.__h=e.__h.filter((function(e){return!e.__||Cs(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],gn.__e(n,e.__v)}})),ms&&ms(e,t)},gn.unmount=function(e){hs&&hs(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Es(e)}catch(e){t=e}})),n.__H=void 0,t&&gn.__e(t,n.__v))};var ks="function"==typeof requestAnimationFrame;function xs(e){var t,n=function(){clearTimeout(s),ks&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(n,100);ks&&(t=requestAnimationFrame(n))}function Es(e){var t=as,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),as=t}function Cs(e){var t=as;e.__c=e.__(),as=t}function Ss(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function js(e,t){return"function"==typeof t?t(e):t}function Ns({progress:e}){return Yn("div",{className:"bg-accent-bg h-2 w-full overflow-hidden rounded-full",children:Yn("div",{className:"transition-width bg-brand z-20 h-2 rounded-full duration-500",style:{width:`${Math.floor(100*e)}%`}})})}function As({survey:e,questionId:t}){const n=vs((()=>e.questions.findIndex((e=>e.id===t))),[e,t]),s=ys(((e,t,n)=>{if(0===t.questions.length)return 0;let s=t.questions.findIndex((t=>t.id===e));-1===s&&(s=0);const a=ns(t,s)/t.questions.length;let r=n;return a>n?r=a:a<=n&&n+.1<=1&&(r=n+.1),r}),[]),a=vs((()=>{let t=0,n=[];return e.questions.forEach((a=>{t=s(a.id,e,t),n.push(t)})),n}),[s,e]);return Yn(Ns,{progress:"end"===t?1:a[n]})}function Ls({survey:e,onClose:t,children:n}){const[s,a]=gs(100),[r,o]=gs(!1),i=_s(performance.now()),l=_s(null),d=()=>{null!==l.current&&(o(!0),cancelAnimationFrame(l.current),l.current=null)};return bs((()=>{if(!e.autoClose)return;const n=()=>{const s=1e3*e.autoClose,r=performance.now()-i.current,o=Math.max(0,s-r);a(o/s),o>0?l.current=requestAnimationFrame(n):(d(),t())};return a(1),l.current=requestAnimationFrame(n),()=>d()}),[e.autoClose,t]),Yn(In,{children:[!r&&e.autoClose&&Yn(Ns,{progress:s}),Yn("div",{onClick:d,onMouseOver:d,className:"h-full w-full",children:n})]})}function Is(e,t){switch(e.condition){case"equals":return Array.isArray(t)&&1===t.length&&t.includes(e.value)||(null==t?void 0:t.toString())===e.value;case"notEquals":return t!==e.value;case"lessThan":return void 0!==e.value&&t<e.value;case"lessEqual":return void 0!==e.value&&t<=e.value;case"greaterThan":return void 0!==e.value&&t>e.value;case"greaterEqual":return void 0!==e.value&&t>=e.value;case"includesAll":return Array.isArray(t)&&Array.isArray(e.value)&&e.value.every((e=>t.includes(e)));case"includesOne":return Array.isArray(t)&&Array.isArray(e.value)&&e.value.some((e=>t.includes(e)));case"accepted":return"accepted"===t;case"clicked":return"clicked"===t;case"submitted":return"string"==typeof t?"dismissed"!==t&&""!==t&&null!==t:Array.isArray(t)?t.length>0:"number"==typeof t&&null!==t;case"skipped":return Array.isArray(t)&&0===t.length||""===t||null==t||"dismissed"===t;case"uploaded":return Array.isArray(t)?t.length>0:"skipped"!==t&&""!==t&&null!==t;case"notUploaded":return Array.isArray(t)&&0===t.length||""===t||null===t||"skipped"===t;default:return!1}}function Ds({onClick:e,backButtonLabel:t,tabIndex:n=2}){return Yn("button",{tabIndex:n,type:"button",className:Jn("border-back-button-border text-heading focus:ring-focus flex items-center rounded-md border px-3 py-3 text-base font-medium leading-4 shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2"),onClick:e,children:t||"Back"})}function Ts({buttonLabel:e,isLastQuestion:t,onClick:n,tabIndex:s=1,focus:a=!1,type:r="submit"}){return Yn("button",{ref:ys((e=>{e&&a&&setTimeout((()=>{e.focus()}),200)}),[a]),type:r,tabIndex:s,autoFocus:a,className:"bg-brand border-submit-button-border text-on-brand focus:ring-focus flex items-center rounded-md border px-3 py-3 text-base font-medium leading-4 shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:n,children:e||(t?"Finish":"Next")})}function Ms({headline:e,questionId:t,required:n=!0,alignTextCenter:s=!1}){return Yn("label",{htmlFor:t,className:"text-heading mb-1.5 block text-base font-semibold leading-6",children:Yn("div",{className:"flex items-center  "+(s?"justify-center":"justify-between"),children:[e,!n&&Yn("span",{className:"text-info-text ml-2 self-start text-sm font-normal leading-7",tabIndex:-1,children:"Optional"})]})})}function Os(e){function t(e,t){let n=t.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href","srcdoc"].includes(e)||!(n.includes("javascript:")||n.includes("data:")||n.includes("<script>")))||!!e.startsWith("on")}function n(e){let n=e.attributes;for(let s=n.length-1;s>=0;s--){let{name:a,value:r}=n[s];t(a,r)?e.removeAttribute(a):"srcdoc"===a&&e.setAttribute(a,Os(r))}}let s=(new DOMParser).parseFromString(e,"text/html").body||document.createElement("body");return s.querySelectorAll("script").forEach((e=>{e.remove()})),function e(t){let s=Array.from(t.children);for(let t of s)n(t),e(t)}(s),s.innerHTML}function Fs({htmlString:e,questionId:t}){return e?Yn("label",{htmlFor:t,className:"fb-htmlbody",dangerouslySetInnerHTML:{__html:Os(e)}}):null}function Bs({imgUrl:e,altText:t="Image"}){return Yn("div",{className:"mb-4 rounded-md",children:Yn("img",{src:e,alt:t,className:"mb-4 rounded-md"})})}function Ps(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var s in t)if("__source"!==s&&e[s]!==t[s])return!0;return!1}function Rs(e){this.props=e}(Rs.prototype=new Dn).isPureReactComponent=!0,Rs.prototype.shouldComponentUpdate=function(e,t){return Ps(this.props,e)||Ps(this.state,t)};var zs=gn.__b;gn.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),zs&&zs(e)};var qs=gn.__e;gn.__e=function(e,t,n,s){if(e.then)for(var a,r=t;r=r.__;)if((a=r.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t);qs(e,t,n,s)};var Zs=gn.unmount;function Us(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Us(e,t,n)}))),e}function Hs(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Hs(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function $s(){this.__u=0,this.t=null,this.__b=null}function Vs(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ws(){this.u=null,this.o=null}gn.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Zs&&Zs(e)},($s.prototype=new Dn).__c=function(e,t){var n=t.__c,s=this;null==s.t&&(s.t=[]),s.t.push(n);var a=Vs(s.__v),r=!1,o=function(){r||(r=!0,n.__R=null,a?a(i):i())};n.__R=o;var i=function(){if(!--s.__u){if(s.state.__a){var e=s.state.__a;s.__v.__k[0]=Hs(e,e.__c.__P,e.__c.__O)}var t;for(s.setState({__a:s.__b=null});t=s.t.pop();)t.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(o,o)},$s.prototype.componentWillUnmount=function(){this.t=[]},$s.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=Us(this.__b,n,s.__O=s.__P)}this.__b=null}var a=t.__a&&An(In,null,e.fallback);return a&&(a.__u&=-33),[An(In,null,t.__a?null:e.children),a]};var Ks=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(Ws.prototype=new Dn).__a=function(e){var t=this,n=Vs(t.__v),s=t.o.get(e);return s[0]++,function(a){var r=function(){t.props.revealOrder?(s.push(a),Ks(t,e,s)):a()};n?n(r):r()}},Ws.prototype.render=function(e){this.u=null,this.o=new Map;var t=Rn(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Ws.prototype.componentDidUpdate=Ws.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Ks(e,n,t)}))};var Qs="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Gs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ys=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Xs=/[A-Z0-9]/g,Js="undefined"!=typeof document,ea=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};Dn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(Dn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ta=gn.event;function na(){}function sa(){return this.cancelBubble}function aa(){return this.defaultPrevented}gn.event=function(e){return ta&&(e=ta(e)),e.persist=na,e.isPropagationStopped=sa,e.isDefaultPrevented=aa,e.nativeEvent=e};var ra={enumerable:!1,configurable:!0,get:function(){return this.class}},oa=gn.vnode;gn.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,s={};for(var a in t){var r=t[a];if(!("value"===a&&"defaultValue"in t&&null==r||Js&&"children"===a&&"noscript"===n||"class"===a||"className"===a)){var o=a.toLowerCase();"defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===r?r="":"ondoubleclick"===o?a="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||ea(t.type)?"onfocus"===o?a="onfocusin":"onblur"===o?a="onfocusout":Ys.test(a)?a=o:-1===n.indexOf("-")&&Gs.test(a)?a=a.replace(Xs,"-$&").toLowerCase():null===r&&(r=void 0):o=a="oninput","oninput"===o&&s[a=o]&&(a="oninputCapture"),s[a]=r}}"select"==n&&s.multiple&&Array.isArray(s.value)&&(s.value=Rn(t.children).forEach((function(e){e.props.selected=-1!=s.value.indexOf(e.props.value)}))),"select"==n&&null!=s.defaultValue&&(s.value=Rn(t.children).forEach((function(e){e.props.selected=s.multiple?-1!=s.defaultValue.indexOf(e.props.value):s.defaultValue==e.props.value}))),t.class&&!t.className?(s.class=t.class,Object.defineProperty(s,"className",ra)):(t.className&&!t.class||t.class&&t.className)&&(s.class=s.className=t.className),e.props=s}(e),e.$$typeof=Qs,oa&&oa(e)};var ia=gn.__r;gn.__r=function(e){ia&&ia(e),e.__c};var la=gn.diffed;gn.diffed=function(e){la&&la(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value)};const da=(e,t,n)=>e.hasOwnProperty(t)?{...e,[t]:e[t]+n}:{...e,[t]:n},ca=(e,t,n,s,a)=>{bs((()=>{a(performance.now())}),[e,a]),bs((()=>{const r=()=>{if("visible"===document.visibilityState)a(performance.now());else{const a=da(t,e,performance.now()-s);n(a)}};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}}),[e,a,n,s,t])};function ua({question:e,onSubmit:t,onBack:n,isFirstQuestion:s,isLastQuestion:a,ttc:r,setTtc:o}){const[i,l]=gs(performance.now());return ca(e.id,r,o,i,l),Yn("div",{children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(Fs,{htmlString:e.html,questionId:e.id}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!s&&Yn(Ds,{backButtonLabel:e.backButtonLabel,onClick:()=>{const s=da(r,e.id,performance.now()-i);o(s),t({[e.id]:""},s),n()}}),Yn("div",{className:"flex w-full justify-end",children:[!e.required&&Yn("button",{tabIndex:0,type:"button",onClick:()=>{const n=da(r,e.id,performance.now()-i);o(n),t({[e.id]:"dismissed"},n)},className:"text-heading focus:ring-focus mr-4 flex items-center rounded-md px-3 py-3 text-base font-medium leading-4 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2",children:e.dismissButtonLabel||"Skip"}),Yn(Ts,{buttonLabel:e.buttonLabel,isLastQuestion:a,focus:!0,onClick:()=>{var n;e.buttonExternal&&e.buttonUrl&&(null==(n=null==window?void 0:window.open(e.buttonUrl,"_blank"))||n.focus());const s=da(r,e.id,performance.now()-i);o(s),t({[e.id]:"clicked"},s)},type:"button"})]})]})]})}const pa="https://app.cal.com/embed/embed.js";function ma(e=pa){return function(e,t,n){let s=function(e,t){e.q.push(t)},a=e.document;e.Cal=e.Cal||function(){let n=e.Cal,r=arguments;if(n.loaded||(n.ns={},n.q=n.q||[],a.head.appendChild(a.createElement("script")).src=t,n.loaded=!0),"init"===r[0]){const e=function(){s(e,arguments)},t=r[1];return e.q=e.q||[],void("string"==typeof t?(n.ns[t]=e)&&s(e,r):s(n,r))}s(n,r)}}(window,e),window.Cal}function ha({question:e,onSuccessfulBooking:t}){const n=vs((()=>{const e=ma("https://cal.com/embed.js"),n={"cal-border-subtle":"transparent","cal-border-booker":"transparent"};return e("ui",{theme:"light",cssVarsPerTheme:{light:{...n},dark:{"cal-bg-muted":"transparent","cal-bg":"transparent",...n}}}),e("on",{action:"bookingSuccessful",callback:()=>{t()}}),e}),[t]);return bs((()=>{document.querySelectorAll("cal-inline").forEach((e=>e.remove())),n("inline",{elementOrSelector:"#fb-cal-embed",calLink:e.calUserName})}),[n,e.calUserName]),Yn("div",{className:"relative mt-4",children:Yn("div",{id:"fb-cal-embed",className:Jn("h-96 overflow-auto rounded-lg border border-slate-200")})})}function fa({subheader:e,questionId:t}){return Yn("label",{htmlFor:t,className:"text-subheading block text-sm font-normal leading-6",children:e})}function ga({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());ca(e.id,i,l,d,c);const[u,p]=gs(""),m=ys((()=>{n({[e.id]:"booked"});const t=da(i,e.id,performance.now()-d);l(t),s({[e.id]:"booked"},t)}),[n,s,e.id,l,d,i]);return Yn("form",{onSubmit:a=>{if(a.preventDefault(),e.required&&!t)return void p("Please book an appointment");const r=da(i,e.id,performance.now()-d);l(r),n({[e.id]:t}),s({[e.id]:t},r)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn(In,{children:[u&&Yn("span",{className:"text-red-500",children:u}),Yn(ha,{question:e,onSuccessfulBooking:m},e.id)]}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{backButtonLabel:e.backButtonLabel,onClick:()=>{a()}}),Yn("div",{}),!e.required&&Yn(Ts,{buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function ba({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());return ca(e.id,i,l,d,c),Yn("div",{children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(Fs,{htmlString:e.html||"",questionId:e.id}),Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(i,e.id,performance.now()-d);l(a),s({[e.id]:t},a)},children:[Yn("label",{tabIndex:1,onKeyDown:t=>{"Enter"==t.key&&n({[e.id]:"accepted"})},className:"border-border bg-survey-bg text-heading hover:bg-accent-bg focus:bg-accent-bg focus:ring-border-highlight relative z-10 mt-4 flex w-full cursor-pointer items-center rounded-md border p-4 text-sm focus:outline-none focus:ring-2 focus:ring-offset-2",children:[Yn("input",{type:"checkbox",id:e.id,name:e.id,value:e.label,onChange:t=>{t.target instanceof HTMLInputElement&&t.target.checked?n({[e.id]:"accepted"}):n({[e.id]:"dismissed"})},checked:"accepted"===t,className:"border-brand text-brand h-4 w-4 border focus:ring-0 focus:ring-offset-0","aria-labelledby":`${e.id}-label`,required:e.required}),Yn("span",{id:`${e.id}-label`,className:"ml-3 font-medium",children:e.label})]}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{tabIndex:3,backButtonLabel:e.backButtonLabel,onClick:()=>{const n=da(i,e.id,performance.now()-d);l(n),s({[e.id]:t},n),a()}}),Yn("div",{}),Yn(Ts,{tabIndex:2,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})]})}ma.toString();var _a={SURVEYS_PACKAGE_BUILD:"surveys",NVM_INC:"/Users/matthiasnannt/.nvm/versions/node/v20.10.0/include/node",MANPATH:"/Users/matthiasnannt/.nvm/versions/node/v20.10.0/share/man:/opt/homebrew/share/man:/usr/share/man:/usr/local/share/man:/Users/matthiasnannt/.nvm/versions/node/v20.10.0/share/man:/opt/homebrew/share/man::",npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"vscode",NODE:"/Users/matthiasnannt/Library/pnpm/pnpm",npm_package_homepage:"https://formbricks.com",INIT_CWD:"/Users/matthiasnannt/Developer/formbricks/packages/surveys",NVM_CD_FLAGS:"-q",TURBO_INVOCATION_DIR:"/Users/matthiasnannt/Developer/formbricks",_P9K_TTY:"/dev/ttys001",npm_package_devDependencies_vite:"^5.0.11",SHELL:"/bin/zsh",TERM:"xterm-256color",npm_config_shamefully_hoist:"true",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/zk/_n2g5c910zzccj1m8q1mg58h0000gn/T/",npm_package_devDependencies_eslint_config_turbo:"latest",npm_package_scripts_lint:"eslint . --ext .ts,.js,.tsx,.jsx",CONDA_SHLVL:"1",npm_package_devDependencies_concurrently:"8.2.2",CONDA_PROMPT_MODIFIER:"(base) ",TERM_PROGRAM_VERSION:"1.85.1",npm_package_scripts_dev:"SURVEYS_PACKAGE_MODE=development vite build --watch",MallocNanoZone:"0",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",ZDOTDIR:"/Users/matthiasnannt",npm_package_devDependencies__formbricks_types:"workspace:*",npm_config_registry:"https://registry.npmjs.org/",npm_package_sideEffects:"false",npm_package_devDependencies__formbricks_lib:"workspace:*",npm_package_repository_url:"https://github.com/formbricks/formbricks",PNPM_HOME:"/Users/matthiasnannt/Library/pnpm",ZSH:"/Users/matthiasnannt/.oh-my-zsh",npm_package_scripts_build_question_date:"tsc && SURVEYS_PACKAGE_BUILD=question-date vite build",npm_package_description:"Formbricks-surveys is a helper library to embed surveys into your application",NVM_DIR:"/Users/matthiasnannt/.nvm",USER:"matthiasnannt",npm_package_license:"MIT",COMMAND_MODE:"unix2003",npm_package_exports___import:"./dist/index.mjs",CONDA_EXE:"/Users/matthiasnannt/anaconda3/bin/conda",PNPM_SCRIPT_SRC_DIR:"/Users/matthiasnannt/Developer/formbricks/packages/surveys",npm_package_devDependencies_vite_tsconfig_paths:"^4.2.3",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.0aMot443u0/Listeners",npm_package_devDependencies_postcss:"^8.4.33",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/matthiasnannt/Library/pnpm/pnpm",npm_package_scripts_go:'concurrently "pnpm dev" "serve dist -p 3003"',npm_package_devDependencies_preact:"^10.19.3",npm_package_module:"./dist/index.mjs",PAGER:"less",npm_config_frozen_lockfile:"",LSCOLORS:"Gxfxcxdxbxegedabagacad",_CE_CONDA:"",npm_config_access:"public",npm_package_devDependencies_react_date_picker:"^10.6.0",npm_package_devDependencies__preact_preset_vite:"^2.8.1",PATH:"/Users/matthiasnannt/Developer/formbricks/packages/surveys/node_modules/.bin:/snapshot/dist/node-gyp-bin:/Users/matthiasnannt/Developer/formbricks/node_modules/.bin:/Users/matthiasnannt/Developer/formbricks/packages/surveys/node_modules/.bin:/snapshot/dist/node-gyp-bin:/Users/matthiasnannt/Developer/formbricks/node_modules/.bin:/Users/matthiasnannt/Developer/formbricks/node_modules/.bin:/snapshot/dist/node-gyp-bin:/Users/matthiasnannt/Developer/formbricks/node_modules/.bin:/Users/matthiasnannt/.docker/bin:/Users/matthiasnannt/Library/pnpm:/Users/matthiasnannt/.yarn/bin:/Users/matthiasnannt/.config/yarn/global/node_modules/.bin:/Users/matthiasnannt/anaconda3/bin:/Users/matthiasnannt/.nvm/versions/node/v20.10.0/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin",npm_config_auto_install_peers:"true",CONDA_PREFIX:"/Users/matthiasnannt/anaconda3",USER_ZDOTDIR:"/Users/matthiasnannt",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",npm_package_devDependencies_terser:"^5.26.0",npm_package_devDependencies_tailwindcss:"^3.4.1",PWD:"/Users/matthiasnannt/Developer/formbricks/packages/surveys",npm_package_scripts_preview:"vite preview",npm_lifecycle_event:"build:surveys",P9K_SSH:"0",npm_package_types:"./dist/index.d.ts",npm_package_repository_type:"git",npm_package_name:"@formbricks/surveys",LANG:"en_US.UTF-8",P9K_TTY:"old",npm_package_scripts_build:"pnpm run build:surveys && pnpm run build:question-date",npm_config_node_linker:"hoisted",TURBO_HASH:"bd6fc8e9c84178ce",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",XPC_FLAGS:"0x0",npm_package_devDependencies_vite_plugin_dts:"^3.7.0",npm_package_devDependencies_eslint_config_prettier:"^9.1.0",npm_package_main:"./dist/index.js",npm_package_version:"1.4.2",XPC_SERVICE_NAME:"0",_CE_M:"",npm_package_devDependencies_autoprefixer:"^10.4.16",VSCODE_INJECTION:"1",HOME:"/Users/matthiasnannt",SHLVL:"4",npm_package_source:"./src/index.ts",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_enable_pre_post_scripts:"true",npm_package_devDependencies__calcom_embed_snippet:"1.1.2",HOMEBREW_PREFIX:"/opt/homebrew",CONDA_PYTHON_EXE:"/Users/matthiasnannt/anaconda3/bin/python",LESS:"-R",LOGNAME:"matthiasnannt",npm_lifecycle_script:"tsc && SURVEYS_PACKAGE_BUILD=surveys vite build",npm_package_exports___require:"./dist/index.umd.js",VSCODE_GIT_IPC_HANDLE:"/var/folders/zk/_n2g5c910zzccj1m8q1mg58h0000gn/T/vscode-git-4d21f99dcc.sock",npm_config_shared_workspace_shrinkwrap:"true",npm_package_devDependencies__formbricks_tsconfig:"workspace:*",CONDA_DEFAULT_ENV:"base",NVM_BIN:"/Users/matthiasnannt/.nvm/versions/node/v20.10.0/bin",npm_config_user_agent:"pnpm/8.12.0 npm/? node/v18.5.0 darwin arm64",GIT_ASKPASS:"/Applications/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:",VSCODE_GIT_ASKPASS_NODE:"/Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",npm_config_link_workspace_packages:"true",npm_package_files_0:"dist",npm_config_init_author_name:"Matthias Nannt",npm_package_devDependencies_serve:"14.2.1",npm_package_scripts_clean:"rimraf .turbo node_modules dist",npm_package_scripts_build_surveys:"tsc && SURVEYS_PACKAGE_BUILD=surveys vite build",npm_node_execpath:"/Users/matthiasnannt/Library/pnpm/pnpm",COLORTERM:"truecolor",_:"/Users/matthiasnannt/Developer/formbricks/node_modules/.bin/vite",NODE_ENV:"production"};function va({question:e,value:t,onSubmit:n,onBack:s,isFirstQuestion:a,isLastQuestion:r,onChange:o,setTtc:i,ttc:l}){const[d,c]=gs(performance.now()),[u,p]=gs(""),[m,h]=gs(!0);ca(e.id,l,i,d,c);const f=t?new Date(t):void 0;return bs((()=>{if(!window.initDatePicker){const t=document.createElement("script");return t.src="development"===_a.SURVEYS_PACKAGE_MODE?"http://localhost:3003/question-date.umd.js":"https://unpkg.com/@formbricks/surveys@^1.4.0/dist/question-date.umd.js",t.async=!0,document.body.appendChild(t),t.onload=()=>{window.initDatePicker(document.getElementById("date-picker-root"),f,e.format),h(!1)},()=>{document.body.removeChild(t)}}{h(!1);const t=document.getElementById("datePickerContainer");t&&t.remove(),window.initDatePicker(document.getElementById("date-picker-root"),f,e.format)}return()=>{}}),[e.format,e.id]),bs((()=>{window.addEventListener("dateChange",(t=>{const n=t.detail,s=6e4*n.getTimezoneOffset(),a=new Date(n.getTime()-s).toISOString().split("T")[0];o({[e.id]:a})}))}),[o,e.id]),bs((()=>{t&&u&&p("")}),[t]),Yn("form",{onSubmit:s=>{if(s.preventDefault(),e.required&&!t)return void p("Please select a date.");const a=da(l,e.id,performance.now()-d);i(a),n({[e.id]:t},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"text-red-600",children:Yn("span",{children:u})}),Yn("div",{className:Jn("my-4",u&&"rounded-lg border-2 border-red-500"),id:"date-picker-root",children:m&&Yn("div",{className:"relative flex h-12 w-full cursor-pointer appearance-none items-center justify-center rounded-lg border border-slate-300 bg-white text-left text-base font-normal text-slate-900 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:ring-offset-1",children:Yn("span",{className:"h-6 w-6 animate-spin rounded-full border-b-2 border-neutral-900",style:{borderTopColor:"transparent"}})})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[Yn("div",{children:!a&&Yn(Ds,{backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(l,e.id,performance.now()-d);i(t),s()}})}),Yn(Ts,{isLastQuestion:r,onClick:()=>{},buttonLabel:e.buttonLabel})]})]})}const ya=e=>{const t=new URL(e).pathname.split("/").pop(),n=null==t?void 0:t.split(".").pop(),s=null==t?void 0:t.split("--fid--")[0];return(null==t?void 0:t.split("--fid--")[1])?s?decodeURIComponent(`${s}.${n}`||""):"":s?decodeURIComponent(s||""):""};function wa({allowedFileExtensions:e,surveyId:t,onUploadCallback:n,onFileUpload:s,fileUrls:a,maxSizeInMB:r,allowMultipleFiles:o}){const[i,l]=gs([]),[d,c]=gs(!1),u=vs((()=>!(d||!o&&a&&a.length>0)),[o,a,d]);return Yn("div",{className:"items-left relative mt-3 flex w-full cursor-pointer flex-col justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 hover:bg-slate-100 dark:border-slate-600 dark:bg-slate-700 dark:hover:border-slate-500 dark:hover:bg-slate-800",children:[Yn("div",{children:a&&(null==a?void 0:a.map(((e,t)=>{const s=ya(e);return Yn("div",{className:"relative m-2 rounded-md bg-slate-200",children:[Yn("div",{className:"absolute right-0 top-0 m-2",children:Yn("div",{className:"flex h-5 w-5 items-center justify-center rounded-md bg-slate-100 hover:bg-slate-50",children:Yn("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 26 26",strokeWidth:1,stroke:"currentColor",className:"h-5 text-slate-700 hover:text-slate-900",onClick:e=>((e,t)=>{if(t.stopPropagation(),a){const t=[...i];t.splice(e,1),l(t);const s=[...a];s.splice(e,1),n(s)}})(t,e),children:Yn("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10 10m0-10L9 19"})})})}),Yn("div",{className:"flex flex-col items-center justify-center p-2",children:[Yn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-file",className:"h-6 text-slate-500",children:[Yn("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),Yn("polyline",{points:"14 2 14 8 20 8"})]}),Yn("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:s})]})]},t)})))}),Yn("div",{children:[d&&Yn("div",{className:"inset-0 flex animate-pulse items-center justify-center rounded-lg bg-slate-100 py-4",children:Yn("label",{htmlFor:"selectedFile",className:"text-sm font-medium text-slate-500",children:"Uploading..."})}),Yn("label",{htmlFor:"selectedFile",onDragOver:e=>(e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"})(e),onDrop:d=>(async d=>{d.preventDefault(),d.stopPropagation();const u=Array.from(d.dataTransfer.files);if(!o&&u.length>1)alert("Only one file can be uploaded at a time.");else if(u.length>0){const o=u.filter((t=>!(e&&e.length>0)||e.includes(t.type.substring(t.type.lastIndexOf("/")+1))));if(o.length>0){const d=[];for(const n of o)if(r)if((await n.arrayBuffer()).byteLength/1024>1024*r)alert(`File should be less than ${r} MB`);else{c(!0);try{const a=await s(n,{allowedFileExtensions:e,surveyId:t});l([...i,n]),d.push(a)}catch(e){c(!1),"File size exceeds the 10 MB limit"===e.message?alert(e.message):alert("Upload failed! Please try again.")}}else{c(!0);try{const a=await s(n,{allowedFileExtensions:e,surveyId:t});l([...i,n]),d.push(a)}catch(e){c(!1),"File size exceeds the 10 MB limit"===e.message?alert(e.message):alert("Upload failed! Please try again.")}}c(!1),n(a?[...a,...d]:d)}else alert("no selected files are valid")}})(d),children:u&&Yn("div",{className:"flex flex-col items-center justify-center py-6",children:[Yn("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 text-slate-500",children:Yn("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Yn("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:Yn("span",{className:"font-medium",children:"Click or drag to upload files."})}),Yn("input",{type:"file",id:"selectedFile",name:"selectedFile",accept:null==e?void 0:e.map((e=>`.${e}`)).join(","),className:"hidden",onChange:o=>{const d=o.target;d.files&&(async o=>{if(o)if(r)if((await o.arrayBuffer()).byteLength/1024>1024*r)alert(`File should be less than ${r} MB`);else{c(!0);try{const r=await s(o,{allowedFileExtensions:e,surveyId:t});l([...i,o]),c(!1),n(a?[...a,r]:[r])}catch(e){c(!1),"File size exceeds the 10 MB limit"===e.message?alert(e.message):alert("Upload failed! Please try again.")}}else{c(!0);try{const r=await s(o,{allowedFileExtensions:e,surveyId:t});l([...i,o]),c(!1),n(a?[...a,r]:[r])}catch(e){c(!1),"File size exceeds the 10 MB limit"===e.message?alert(e.message):alert("Upload failed! Please try again.")}}else alert("Please select a file")})(d.files[0])}})]})})]})]})}function ka({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,surveyId:i,onFileUpload:l,ttc:d,setTtc:c}){const[u,p]=gs(performance.now());return ca(e.id,d,c,u,p),Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(d,e.id,performance.now()-u);c(a),e.required?t&&("string"==typeof t||Array.isArray(t))&&t.length>0?s({[e.id]:"string"==typeof t?[t]:t},a):alert("Please upload a file"):s(t?{[e.id]:"string"==typeof t?[t]:t}:{[e.id]:"skipped"},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn(wa,{surveyId:i,onFileUpload:l,onUploadCallback:t=>{n(t?{[e.id]:t}:{[e.id]:"skipped"})},fileUrls:t,allowMultipleFiles:e.allowMultipleFiles,...e.allowedFileExtensions?{allowedFileExtensions:e.allowedFileExtensions}:{},...e.maxSizeInMB?{maxSizeInMB:e.maxSizeInMB}:{}}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{backButtonLabel:e.backButtonLabel,onClick:()=>{a()}}),Yn("div",{}),Yn(Ts,{buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function xa({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());ca(e.id,i,l,d,c);const u=ys((()=>e.choices.filter((e=>"other"!==e.id)).map((e=>e.label))),[e]),[p,m]=gs(!1),[h,f]=gs("");bs((()=>{m(!!t&&(Array.isArray(t)?t:[t]).some((e=>!1===u().includes(e)))),f(Array.isArray(t)&&t.filter((t=>!e.choices.find((e=>e.label===t))))[0]||"")}),[e.id,u,e.choices,t]);const g=vs((()=>{if(!e.choices)return[];const t=e.choices.filter((e=>"other"!==e.id));return e.shuffleOption?ts(t,e.shuffleOption):t}),[e.choices,e.shuffleOption]),b=g.map((e=>e.label)),_=vs((()=>e.choices.find((e=>"other"===e.id))),[e.choices]),v=_s(null);bs((()=>{var e;p&&(null==(e=v.current)||e.focus())}),[p]);const y=s=>{const a=!b.includes(s);if(Array.isArray(t)){if(a){const a=t.filter((e=>b.includes(e)));return n({[e.id]:[...a,s]})}return n({[e.id]:[...t,s]})}return n({[e.id]:[s]})},w=s=>Array.isArray(t)?n({[e.id]:t.filter((e=>e!==s))}):n({[e.id]:[]});return Yn("form",{onSubmit:a=>{a.preventDefault();const r=null==t?void 0:t.filter((e=>u().includes(e)||e===h));n({[e.id]:r});const o=da(i,e.id,performance.now()-d);l(o),s({[e.id]:t},o)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"mt-4",children:Yn("fieldset",{children:[Yn("legend",{className:"sr-only",children:"Options"}),Yn("div",{className:"bg-survey-bg relative max-h-[42vh] space-y-2 overflow-y-auto rounded-md py-0.5 pr-2",children:[g.map(((n,s)=>Yn("label",{tabIndex:s+1,onKeyDown:e=>{"Enter"==e.key&&(Array.isArray(t)&&t.includes(n.label)?w(n.label):y(n.label))},className:Jn(t===n.label?"border-border-highlight bg-accent-selected-bg z-10":"border-border","text-heading focus-within:border-border-highlight hover:bg-accent-bg focus:bg-accent-bg relative flex cursor-pointer flex-col rounded-md border p-4 focus:outline-none"),children:Yn("span",{className:"flex items-center text-sm",children:[Yn("input",{type:"checkbox",id:n.id,name:e.id,tabIndex:-1,value:n.label,className:"border-brand text-brand h-4 w-4 border focus:ring-0 focus:ring-offset-0","aria-labelledby":`${n.id}-label`,onChange:e=>{var t;(null==(t=e.target)?void 0:t.checked)?y(n.label):w(n.label)},checked:Array.isArray(t)&&t.includes(n.label),required:!(e.required&&Array.isArray(t)&&t.length)&&e.required}),Yn("span",{id:`${n.id}-label`,className:"ml-3 font-medium",children:n.label})]})},n.id))),_&&Yn("label",{tabIndex:g.length+1,className:Jn(t===_.label?"border-border-highlight bg-accent-selected-bg z-10":"border-border","text-heading focus-within:border-border-highlight focus-within:bg-accent-bg hover:bg-accent-bg relative flex cursor-pointer flex-col rounded-md border p-4 focus:outline-none"),onKeyDown:e=>{"Enter"==e.key&&m(!p)},children:[Yn("span",{className:"flex items-center text-sm",children:[Yn("input",{type:"checkbox",tabIndex:-1,id:_.id,name:e.id,value:_.label,className:"border-brand text-brand h-4 w-4 border focus:ring-0 focus:ring-offset-0","aria-labelledby":`${_.id}-label`,onChange:e=>{var t;if(m(!p),null==(t=e.target)?void 0:t.checked){if(!h)return;y(h)}else w(h)},checked:p}),Yn("span",{id:`${_.id}-label`,className:"ml-3 font-medium",children:_.label})]}),p&&Yn("input",{ref:v,id:`${_.id}-label`,name:e.id,tabIndex:g.length+1,value:h,onChange:e=>{f(e.currentTarget.value),y(e.currentTarget.value)},onKeyDown:n=>{if("Enter"==n.key){const n=da(i,e.id,performance.now()-d);l(n),setTimeout((()=>{s({[e.id]:t},n)}),100)}},placeholder:"Please specify",className:"placeholder:text-placeholder border-border bg-survey-bg text-heading focus:ring-focus mt-3 flex h-10 w-full rounded-md border px-3 py-2 text-sm  focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:e.required,"aria-labelledby":`${_.id}-label`})]})]})]})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{tabIndex:g.length+3,backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(i,e.id,performance.now()-d);l(t),a()}}),Yn("div",{}),Yn(Ts,{tabIndex:g.length+2,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function Ea({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());ca(e.id,i,l,d,c);const[u,p]=gs(!1),m=vs((()=>{if(!e.choices)return[];const t=e.choices.filter((e=>"other"!==e.id));return e.shuffleOption?ts(t,e.shuffleOption):t}),[e.choices,e.shuffleOption]),h=vs((()=>e.choices.find((e=>"other"===e.id))),[e.choices]);bs((()=>{const n=void 0!==t&&!e.choices.some((e=>e.label===t));p(n)}),[e.id,e.choices,t]);const f=_s(null);return bs((()=>{var e;u&&(null==(e=f.current)||e.focus())}),[u]),Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(i,e.id,performance.now()-d);l(a),s({[e.id]:t},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"mt-4",children:Yn("fieldset",{children:[Yn("legend",{className:"sr-only",children:"Options"}),Yn("div",{className:"bg-survey-bg relative max-h-[42vh] space-y-2 overflow-y-auto rounded-md py-0.5 pr-2",role:"radiogroup",children:[m.map(((a,r)=>Yn("label",{tabIndex:r+1,onKeyDown:t=>{if("Enter"==t.key){n({[e.id]:a.label});const t=da(i,e.id,performance.now()-d);l(t),setTimeout((()=>{s({[e.id]:a.label},t)}),350)}},className:Jn(t===a.label?"border-border-highlight bg-accent-selected-bg z-10":"border-border","text-heading focus-within:border-border-highlight focus-within:bg-accent-bg hover:bg-accent-bg relative flex cursor-pointer flex-col rounded-md border p-4 focus:outline-none"),children:Yn("span",{className:"flex items-center text-sm",children:[Yn("input",{tabIndex:-1,type:"radio",id:a.id,name:e.id,value:a.label,className:"border-brand text-brand h-4 w-4 border focus:ring-0 focus:ring-offset-0","aria-labelledby":`${a.id}-label`,onChange:()=>{p(!1),n({[e.id]:a.label})},checked:t===a.label,required:e.required&&0===r}),Yn("span",{id:`${a.id}-label`,className:"ml-3 font-medium",children:a.label})]})},a.id))),h&&Yn("label",{tabIndex:m.length+1,className:Jn(t===h.label?"border-border-highlight bg-accent-selected-bg z-10":"border-border","text-heading focus-within:border-border-highlight focus-within:bg-accent-bg hover:bg-accent-bg relative flex cursor-pointer flex-col rounded-md border p-4 focus:outline-none"),onKeyDown:t=>{"Enter"==t.key&&(p(!u),u||n({[e.id]:""}))},children:[Yn("span",{className:"flex items-center text-sm",children:[Yn("input",{type:"radio",id:h.id,tabIndex:-1,name:e.id,value:h.label,className:"border-brand text-brand h-4 w-4 border focus:ring-0 focus:ring-offset-0","aria-labelledby":`${h.id}-label`,onChange:()=>{p(!u),n({[e.id]:""})},checked:u}),Yn("span",{id:`${h.id}-label`,className:"ml-3 font-medium",children:h.label})]}),u&&Yn("input",{ref:f,tabIndex:m.length+1,id:`${h.id}-label`,name:e.id,value:t,onChange:t=>{n({[e.id]:t.currentTarget.value})},onKeyDown:n=>{if("Enter"==n.key){const n=da(i,e.id,performance.now()-d);l(n),setTimeout((()=>{s({[e.id]:t},n)}),100)}},placeholder:"Please specify",className:"placeholder:text-placeholder border-border bg-survey-bg text-heading focus:ring-focus mt-3 flex h-10 w-full rounded-md border px-3 py-2 text-sm  focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:e.required,"aria-labelledby":`${h.id}-label`})]})]})]})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{backButtonLabel:e.backButtonLabel,tabIndex:m.length+3,onClick:()=>{const t=da(i,e.id,performance.now()-d);l(t),a()}}),Yn("div",{}),Yn(Ts,{tabIndex:m.length+2,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function Ca({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());return ca(e.id,i,l,d,c),Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(i,e.id,performance.now()-d);l(a),s({[e.id]:t},a)},children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"my-4",children:Yn("fieldset",{children:[Yn("legend",{className:"sr-only",children:"Options"}),Yn("div",{className:"flex",children:Array.from({length:11},((e,t)=>t)).map(((a,r)=>Yn("label",{tabIndex:r+1,onKeyDown:t=>{if("Enter"==t.key){const t=da(i,e.id,performance.now()-d);l(t),s({[e.id]:a},t)}},className:Jn(t===a?"border-border-highlight bg-accent-selected-bg z-10":"border-border","bg-survey-bg text-heading hover:bg-accent-bg relative h-10 flex-1 cursor-pointer border text-center text-sm leading-10 first:rounded-l-md last:rounded-r-md focus:outline-none"),children:[Yn("input",{type:"radio",name:"nps",value:a,checked:t===a,className:"absolute h-full w-full cursor-pointer opacity-0",onClick:()=>{if(e.required){const t=da(i,e.id,performance.now()-d);l(t),s({[e.id]:a},t)}n({[e.id]:a})},required:e.required}),a]},a)))}),Yn("div",{className:"text-info-text flex justify-between px-1.5 text-xs leading-6",children:[Yn("p",{children:e.lowerLabel}),Yn("p",{children:e.upperLabel})]})]})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{tabIndex:o?12:13,backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(i,e.id,performance.now()-d);l(t),a()}}),Yn("div",{}),!e.required&&Yn(Ts,{tabIndex:12,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function Sa({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,autoFocus:i=!0,ttc:l,setTtc:d}){const[c,u]=gs(performance.now());ca(e.id,l,d,c,u);const p=t=>{n({[e.id]:t})},m=ys((t=>{e.id&&t&&i&&t.focus()}),[e.id,i]);return Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(l,e.id,performance.now()-c);d(a),s({[e.id]:t,inputType:e.inputType},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"mt-4",children:!1===e.longAnswer?Yn("input",{ref:m,tabIndex:1,name:e.id,id:e.id,placeholder:e.placeholder,required:e.required,value:t||"",type:e.inputType,onInput:e=>p(e.currentTarget.value),autoFocus:i,className:"border-border bg-survey-bg focus:border-border-highlight block w-full rounded-md border p-2 shadow-sm focus:outline-none focus:ring-0 sm:text-sm",onKeyDown:n=>{if("Enter"===n.key&&(a=t,e.required&&!(null==a?void 0:a.trim())))n.preventDefault();else if("Enter"===n.key){const n=da(l,e.id,performance.now()-c);d(n),s({[e.id]:t,inputType:e.inputType},n)}var a},pattern:"phone"===e.inputType?"[+][0-9 ]+":".*",title:"phone"===e.inputType?"Enter a valid phone number":void 0}):Yn("textarea",{ref:m,rows:3,name:e.id,tabIndex:1,id:e.id,placeholder:e.placeholder,required:e.required,value:t,type:e.inputType,onInput:e=>p(e.currentTarget.value),autoFocus:i,className:"border-border bg-survey-bg text-subheading focus:border-border-highlight block w-full rounded-md border p-2 shadow-sm focus:ring-0 sm:text-sm",pattern:"phone"===e.inputType?"[+][0-9 ]+":".*",title:"phone"===e.inputType?"Please enter a valid phone number":void 0})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(l,e.id,performance.now()-c);d(t),a()}}),Yn("div",{}),Yn(Ts,{buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function ja({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(performance.now());ca(e.id,i,l,d,c);const u=s=>{Array.isArray(t)&&t.includes(s)?(s=>{let a=[];a=e.allowMulti&&Array.isArray(t)?t.filter((e=>e!==s)):[],n({[e.id]:a})})(s):(s=>{let a=[];a=e.allowMulti&&Array.isArray(t)?[...t,s]:[s],n({[e.id]:a})})(s)};bs((()=>{!e.allowMulti&&Array.isArray(t)&&t.length>1&&n({[e.id]:[]})}),[e.allowMulti]);const p=e.choices;return Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(i,e.id,performance.now()-d);l(a),s({[e.id]:t},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"mt-4",children:Yn("fieldset",{children:[Yn("legend",{className:"sr-only",children:"Options"}),Yn("div",{className:"rounded-m bg-survey-bg relative grid max-h-[42vh] grid-cols-2 gap-x-5 gap-y-4 overflow-y-auto pr-2.5",children:p.map(((n,s)=>Yn("label",{tabIndex:s+1,htmlFor:n.id,onKeyDown:e=>{"Enter"==e.key&&u(n.id)},onClick:()=>u(n.id),className:Jn(Array.isArray(t)&&t.includes(n.id)?"border-brand text-brand z-10 border-4 shadow-xl focus:border-4":"","border-border focus:border-border-highlight focus:bg-accent-selected-bg relative box-border inline-block h-28 w-full overflow-hidden rounded-xl border focus:outline-none"),children:[Yn("img",{src:n.imageUrl,id:n.id,alt:n.imageUrl.split("/").pop(),className:"h-full w-full object-cover"}),e.allowMulti?Yn("input",{id:`${n.id}-checked`,name:`${n.id}-checkbox`,type:"checkbox",tabIndex:-1,checked:Array.isArray(t)&&t.includes(n.id),className:Jn("border-border pointer-events-none absolute right-2 top-2 z-20 h-5 w-5 rounded border",Array.isArray(t)&&t.includes(n.id)?"border-brand text-brand":""),required:!(e.required&&Array.isArray(t)&&t.length)&&e.required}):Yn("input",{id:`${n.id}-radio`,name:`${n.id}-radio`,type:"radio",tabIndex:-1,checked:Array.isArray(t)&&t.includes(n.id),className:Jn("border-border pointer-events-none absolute right-2 top-2 z-20 h-5 w-5 rounded-full border",Array.isArray(t)&&t.includes(n.id)?"border-brand text-brand":""),required:!(e.required&&Array.isArray(t)&&t.length)&&e.required})]},n.id)))})]})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{tabIndex:p.length+3,backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(i,e.id,performance.now()-d);l(t),a()}}),Yn("div",{}),Yn(Ts,{tabIndex:p.length+2,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}const Na=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m21.88 23.92c5.102-0.06134 7.273-1.882 8.383-3.346"}),Yn("path",{stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",d:"m46.24 47.56c0-2.592-2.867-7.121-10.25-6.93-6.974 0.1812-10.22 4.518-10.22 7.111s4.271-1.611 10.05-1.492c6.317 0.13 10.43 3.903 10.43 1.311z"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m23.16 28.47c5.215 1.438 5.603 0.9096 8.204 1.207 1.068 0.1221-2.03 2.67-7.282 4.397"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m50.12 23.92c-5.102-0.06134-7.273-1.882-8.383-3.346"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m48.84 28.47c-5.215 1.438-5.603 0.9096-8.204 1.207-1.068 0.1221 2.03 2.67 7.282 4.397"})]})}),Aa=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m22.88 23.92c5.102-0.06134 7.273-1.882 8.383-3.346"}),Yn("path",{stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",d:"m46.24 47.56c0-2.592-2.867-7.121-10.25-6.93-6.974 0.1812-10.22 4.518-10.22 7.111s4.271-1.611 10.05-1.492c6.317 0.13 10.43 3.903 10.43 1.311z"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m49.12 23.92c-5.102-0.06134-7.273-1.882-8.383-3.346"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m48.24 30.51c-6.199 1.47-7.079 1.059-8.868-1.961"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"m23.76 30.51c6.199 1.47 7.079 1.059 8.868-1.961"})]})}),La=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("line",{x1:"44.5361",x2:"50.9214",y1:"21.4389",y2:"24.7158",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),Yn("line",{x1:"26.9214",x2:"20.5361",y1:"21.4389",y2:"24.7158",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M24,28c2.3334,1.3333,4.6666,2.6667,7,4c-2.3334,1.3333-4.6666,2.6667-7,4"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48,28c-2.3334,1.3333-4.6666,2.6667-7,4c2.3334,1.3333,4.6666,2.6667,7,4"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M28,51c0.2704-0.3562,1-8,8.4211-8.0038C43,42.9929,43.6499,50.5372,44,51C38.6667,51,33.3333,51,28,51z"})]})}),Ia=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M26.5,48c1.8768-3.8326,5.8239-6.1965,10-6c3.8343,0.1804,7.2926,2.4926,9,6"}),Yn("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),Yn("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),Da=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m44.7 43.92c-6.328-1.736-11.41-0.906-17.4 1.902"}),Yn("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),Yn("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),Ta=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2",...e}),Yn("line",{x1:"27",x2:"45",y1:"43",y2:"43",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"2"}),Yn("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),Yn("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),Ma=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M45.8149,44.9293 c-2.8995,1.6362-6.2482,2.5699-9.8149,2.5699s-6.9153-0.9336-9.8149-2.5699"}),Yn("path",{d:"M30,31c0,1.6568-1.3448,3-3,3c-1.6553,0-3-1.3433-3-3c0-1.6552,1.3447-3,3-3C28.6552,28,30,29.3448,30,31"}),Yn("path",{d:"M48,31c0,1.6568-1.3447,3-3,3s-3-1.3433-3-3c0-1.6552,1.3447-3,3-3S48,29.3448,48,31"})]})}),Oa=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M45.8147,45.2268a15.4294,15.4294,0,0,1-19.6294,0"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M31.6941,33.4036a4.7262,4.7262,0,0,0-8.6382,0"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48.9441,33.4036a4.7262,4.7262,0,0,0-8.6382,0"})]})}),Fa=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M50.595,41.64a11.5554,11.5554,0,0,1-.87,4.49c-12.49,3.03-25.43.34-27.49-.13a11.4347,11.4347,0,0,1-.83-4.36h.11s14.8,3.59,28.89.07Z"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49.7251,46.13c-1.79,4.27-6.35,7.23-13.69,7.23-7.41,0-12.03-3.03-13.8-7.36C24.2951,46.47,37.235,49.16,49.7251,46.13Z"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M31.6941,32.4036a4.7262,4.7262,0,0,0-8.6382,0"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M48.9441,32.4036a4.7262,4.7262,0,0,0-8.6382,0"})]})}),Ba=e=>Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48,children:Yn("g",{id:"line",children:[Yn("circle",{cx:"36",cy:"36",r:"23",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",...e}),Yn("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",points:"25.168 27.413 31.755 31.427 25.168 35.165"}),Yn("polyline",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",points:"46.832 27.413 40.245 31.427 46.832 35.165"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M50.595,41.64a11.5554,11.5554,0,0,1-.87,4.49c-12.49,3.03-25.43.34-27.49-.13a11.4347,11.4347,0,0,1-.83-4.36h.11s14.8,3.59,28.89.07Z"}),Yn("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M49.7251,46.13c-1.79,4.27-6.35,7.23-13.69,7.23-7.41,0-12.03-3.03-13.8-7.36C24.2951,46.47,37.235,49.16,49.7251,46.13Z"})]})});function Pa({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:i,setTtc:l}){const[d,c]=gs(0),[u,p]=gs(performance.now());ca(e.id,i,l,u,p);const m=t=>{if(n({[e.id]:t}),e.required){const n=da(i,e.id,performance.now()-u);l(n),s({[e.id]:t},n)}},h=({number:n})=>Yn("input",{type:"radio",name:"rating",value:n,className:"absolute left-0 h-full w-full cursor-pointer opacity-0",onChange:()=>m(n),required:e.required,checked:t===n});return Yn("form",{onSubmit:n=>{n.preventDefault();const a=da(i,e.id,performance.now()-u);l(a),s({[e.id]:t},a)},className:"w-full",children:[e.imageUrl&&Yn(Bs,{imgUrl:e.imageUrl}),Yn(Ms,{headline:e.headline,questionId:e.id,required:e.required}),Yn(fa,{subheader:e.subheader,questionId:e.id}),Yn("div",{className:"mb-4 mt-6 flex items-center justify-center",children:Yn("fieldset",{className:"w-full ",children:[Yn("legend",{className:"sr-only",children:"Choices"}),Yn("div",{className:"flex pb-2",children:Array.from({length:e.range},((e,t)=>t+1)).map(((n,s,a)=>Yn("span",{onMouseOver:()=>c(n),onMouseLeave:()=>c(0),className:"bg-survey-bg relative flex-1 cursor-pointer text-center text-sm leading-[2.8rem]",children:"number"===e.scale?Yn("label",{tabIndex:s+1,onKeyDown:e=>{"Enter"==e.key&&m(n)},className:Jn(t===n?"bg-accent-selected-bg border-border-highlight z-10":"",a.length===n?"rounded-r-md":"",1===n?"rounded-l-md":"","text-heading hover:bg-accent-bg focus:bg-accent-bg block h-full w-full border focus:outline-none"),children:[Yn(h,{number:n}),n]}):"star"===e.scale?Yn("label",{tabIndex:s+1,onKeyDown:e=>{"Enter"==e.key&&m(n)},className:Jn("flex h-full w-full justify-center focus:outline-none",n<=d?"text-amber-400":"text-slate-300","hover:text-amber-400"),onFocus:()=>c(n),onBlur:()=>c(0),children:[Yn(h,{number:n}),Yn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-14 max-h-full w-14",children:Yn("path",{fillRule:"evenodd",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})]}):Yn("label",{className:Jn("flex h-full w-full justify-center",t===n||d===n?"stroke-rating-selected text-rating-selected":"stroke-heading text-heading"),tabIndex:s+1,onKeyDown:e=>{"Enter"==e.key&&m(n)},onFocus:()=>c(n),onBlur:()=>c(0),children:[Yn(h,{number:n}),Yn(Ra,{active:t===n||d===n,idx:s,range:e.range})]})},n)))}),Yn("div",{className:"text-subheading flex justify-between px-1.5 text-xs leading-6",children:[Yn("p",{className:"w-1/2 text-left",children:e.lowerLabel}),Yn("p",{className:"w-1/2 text-right",children:e.upperLabel})]})]})}),Yn("div",{className:"mt-4 flex w-full justify-between",children:[!r&&Yn(Ds,{tabIndex:!e.required||t?e.range+2:e.range+1,backButtonLabel:e.backButtonLabel,onClick:()=>{const t=da(i,e.id,performance.now()-u);l(t),a()}}),Yn("div",{}),(!e.required||t)&&Yn(Ts,{tabIndex:e.range+1,buttonLabel:e.buttonLabel,isLastQuestion:o,onClick:()=>{}})]})]})}function Ra({active:e,idx:t,range:n}){const s="fill-rating-fill",a="fill-none";let r=[Yn(Na,{className:e?s:a}),Yn(Aa,{className:e?s:a}),Yn(La,{className:e?s:a}),Yn(Ia,{className:e?s:a}),Yn(Da,{className:e?s:a}),Yn(Ta,{className:e?s:a}),Yn(Ma,{className:e?s:a}),Yn(Oa,{className:e?s:a}),Yn(Fa,{className:e?s:a}),Yn(Ba,{className:e?s:a})];return 7==n?r=[r[1],r[3],r[4],r[5],r[6],r[8],r[9]]:5==n?r=[r[3],r[4],r[5],r[6],r[7]]:4==n?r=[r[4],r[5],r[6],r[7]]:3==n&&(r=[r[4],r[5],r[7]]),r[t]}var za,qa,Za;Yn("svg",{viewBox:"0 0 72 72",xmlns:"http://www.w3.org/2000/svg",width:48,height:48}),(qa=za||(za={})).assertEqual=e=>e,qa.assertIs=function(e){},qa.assertNever=function(_x){throw new Error},qa.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},qa.getValidEnumValues=e=>{const t=qa.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),n={};for(const s of t)n[s]=e[s];return qa.objectValues(n)},qa.objectValues=e=>qa.objectKeys(e).map((function(t){return e[t]})),qa.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},qa.find=(e,t)=>{for(const n of e)if(t(n))return n},qa.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,qa.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},qa.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(Za||(Za={})).mergeShapes=(e,t)=>({...e,...t});const Ua=za.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ha=e=>{switch(typeof e){case"undefined":return Ua.undefined;case"string":return Ua.string;case"number":return isNaN(e)?Ua.nan:Ua.number;case"boolean":return Ua.boolean;case"function":return Ua.function;case"bigint":return Ua.bigint;case"symbol":return Ua.symbol;case"object":return Array.isArray(e)?Ua.array:null===e?Ua.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ua.promise:"undefined"!=typeof Map&&e instanceof Map?Ua.map:"undefined"!=typeof Set&&e instanceof Set?Ua.set:"undefined"!=typeof Date&&e instanceof Date?Ua.date:Ua.object;default:return Ua.unknown}},$a=za.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Va extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},s=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(s);else if("invalid_return_type"===a.code)s(a.returnTypeError);else if("invalid_arguments"===a.code)s(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,s=0;for(;s<a.path.length;){const n=a.path[s];s===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,za.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Va.create=e=>new Va(e);const Wa=(e,t)=>{let n;switch(e.code){case $a.invalid_type:n=e.received===Ua.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case $a.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,za.jsonStringifyReplacer)}`;break;case $a.unrecognized_keys:n=`Unrecognized key(s) in object: ${za.joinValues(e.keys,", ")}`;break;case $a.invalid_union:n="Invalid input";break;case $a.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${za.joinValues(e.options)}`;break;case $a.invalid_enum_value:n=`Invalid enum value. Expected ${za.joinValues(e.options)}, received '${e.received}'`;break;case $a.invalid_arguments:n="Invalid function arguments";break;case $a.invalid_return_type:n="Invalid function return type";break;case $a.invalid_date:n="Invalid date";break;case $a.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:za.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case $a.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case $a.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case $a.custom:n="Invalid input";break;case $a.invalid_intersection_types:n="Intersection results could not be merged";break;case $a.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case $a.not_finite:n="Number must be finite";break;default:n=t.defaultError,za.assertNever(e)}return{message:n}};let Ka=Wa;function Qa(){return Ka}const Ga=e=>{const{data:t,path:n,errorMaps:s,issueData:a}=e,r=[...n,...a.path||[]],o={...a,path:r};let i="";const l=s.filter((e=>!!e)).slice().reverse();for(const e of l)i=e(o,{data:t,defaultError:i}).message;return{...a,path:r,message:a.message||i}};function Ya(e,t){const n=Ga({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Qa(),Wa].filter((e=>!!e))});e.common.issues.push(n)}class Xa{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if("aborted"===s.status)return Ja;"dirty"===s.status&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return Xa.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:t,value:a}=s;if("aborted"===t.status)return Ja;if("aborted"===a.status)return Ja;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!s.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Ja=Object.freeze({status:"aborted"}),er=e=>({status:"dirty",value:e}),tr=e=>({status:"valid",value:e}),nr=e=>"aborted"===e.status,sr=e=>"dirty"===e.status,ar=e=>"valid"===e.status,rr=e=>"undefined"!=typeof Promise&&e instanceof Promise;var or,ir;(ir=or||(or={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},ir.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class lr{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dr=(e,t)=>{if(ar(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Va(e.common.issues);return this._error=t,this._error}}};function cr(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:a}=e;if(t&&(n||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=s?s:t.defaultError}:{message:null!=n?n:t.defaultError},description:a}}class ur{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ha(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ha(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xa,ctx:{common:e.parent.common,data:e.data,parsedType:Ha(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(rr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const s={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ha(e)},a=this._parseSync({data:e,path:s.path,parent:s});return dr(s,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ha(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(rr(s)?s:Promise.resolve(s));return dr(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,s)=>{const a=e(t),r=()=>s.addIssue({code:$a.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(r(),!1))):!!a||(r(),!1)}))}refinement(e,t){return this._refinement(((n,s)=>!!e(n)||(s.addIssue("function"==typeof t?t(n,s):t),!1)))}_refinement(e){return new Xr({schema:this,typeName:uo.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Jr.create(this,this._def)}nullable(){return eo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tr.create(this,this._def)}promise(){return Yr.create(this,this._def)}or(e){return Fr.create([this,e],this._def)}and(e){return zr.create(this,e,this._def)}transform(e){return new Xr({...cr(this._def),schema:this,typeName:uo.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new to({...cr(this._def),innerType:this,defaultValue:t,typeName:uo.ZodDefault})}brand(){return new ro({typeName:uo.ZodBranded,type:this,...cr(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new no({...cr(this._def),innerType:this,catchValue:t,typeName:uo.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return oo.create(this,e)}readonly(){return io.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pr=/^c[^\s-]{8,}$/i,mr=/^[a-z][a-z0-9]*$/,hr=/^[0-9A-HJKMNP-TV-Z]{26}$/,fr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gr=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let br;const _r=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,vr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class yr extends ur{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ua.string){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.string,received:t.parsedType}),Ja}const t=new Xa;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(n=this._getOrReturnCtx(e,n),s?Ya(n,{code:$a.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Ya(n,{code:$a.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)gr.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"email",code:$a.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)br||(br=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),br.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"emoji",code:$a.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)fr.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"uuid",code:$a.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)pr.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"cuid",code:$a.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)mr.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"cuid2",code:$a.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)hr.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"ulid",code:$a.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(s){n=this._getOrReturnCtx(e,n),Ya(n,{validation:"url",code:$a.invalid_string,message:o.message}),t.dirty()}else"regex"===o.kind?(o.regex.lastIndex=0,o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"regex",code:$a.invalid_string,message:o.message}),t.dirty())):"trim"===o.kind?e.data=e.data.trim():"includes"===o.kind?e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty()):"toLowerCase"===o.kind?e.data=e.data.toLowerCase():"toUpperCase"===o.kind?e.data=e.data.toUpperCase():"startsWith"===o.kind?e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty()):"endsWith"===o.kind?e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty()):"datetime"===o.kind?((r=o).precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.invalid_string,validation:"datetime",message:o.message}),t.dirty()):"ip"===o.kind?(s=e.data,("v4"!==(a=o.version)&&a||!_r.test(s))&&("v6"!==a&&a||!vr.test(s))&&(n=this._getOrReturnCtx(e,n),Ya(n,{validation:"ip",code:$a.invalid_string,message:o.message}),t.dirty())):za.assertNever(o);var s,a,r;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:$a.invalid_string,...or.errToObj(n)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...or.errToObj(e)})}url(e){return this._addCheck({kind:"url",...or.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...or.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...or.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...or.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...or.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...or.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...or.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...or.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...or.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...or.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...or.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...or.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...or.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...or.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...or.errToObj(t)})}nonempty(e){return this.min(1,or.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function wr(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=n>s?n:s;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}yr.create=e=>{var t;return new yr({checks:[],typeName:uo.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...cr(e)})};class kr extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ua.number){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.number,received:t.parsedType}),Ja}let t;const n=new Xa;for(const s of this._def.checks)"int"===s.kind?za.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):"multipleOf"===s.kind?0!==wr(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.not_finite,message:s.message}),n.dirty()):za.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,or.toString(t))}gt(e,t){return this.setLimit("min",e,!1,or.toString(t))}lte(e,t){return this.setLimit("max",e,!0,or.toString(t))}lt(e,t){return this.setLimit("max",e,!1,or.toString(t))}setLimit(e,t,n,s){return new kr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:or.toString(s)}]})}_addCheck(e){return new kr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:or.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:or.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:or.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:or.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:or.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:or.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:or.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:or.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:or.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&za.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}kr.create=e=>new kr({checks:[],typeName:uo.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...cr(e)});class xr extends ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ua.bigint){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.bigint,received:t.parsedType}),Ja}let t;const n=new Xa;for(const s of this._def.checks)"min"===s.kind?(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):"max"===s.kind?(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ya(t,{code:$a.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):za.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,or.toString(t))}gt(e,t){return this.setLimit("min",e,!1,or.toString(t))}lte(e,t){return this.setLimit("max",e,!0,or.toString(t))}lt(e,t){return this.setLimit("max",e,!1,or.toString(t))}setLimit(e,t,n,s){return new xr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:or.toString(s)}]})}_addCheck(e){return new xr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:or.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:or.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:or.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:or.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:or.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}xr.create=e=>{var t;return new xr({checks:[],typeName:uo.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...cr(e)})};class Er extends ur{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Ua.boolean){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.boolean,received:t.parsedType}),Ja}return tr(e.data)}}Er.create=e=>new Er({typeName:uo.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...cr(e)});class Cr extends ur{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ua.date){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.date,received:t.parsedType}),Ja}if(isNaN(e.data.getTime()))return Ya(this._getOrReturnCtx(e),{code:$a.invalid_date}),Ja;const t=new Xa;let n;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),Ya(n,{code:$a.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):za.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:or.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:or.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Cr.create=e=>new Cr({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:uo.ZodDate,...cr(e)});class Sr extends ur{_parse(e){if(this._getType(e)!==Ua.symbol){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.symbol,received:t.parsedType}),Ja}return tr(e.data)}}Sr.create=e=>new Sr({typeName:uo.ZodSymbol,...cr(e)});class jr extends ur{_parse(e){if(this._getType(e)!==Ua.undefined){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.undefined,received:t.parsedType}),Ja}return tr(e.data)}}jr.create=e=>new jr({typeName:uo.ZodUndefined,...cr(e)});class Nr extends ur{_parse(e){if(this._getType(e)!==Ua.null){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.null,received:t.parsedType}),Ja}return tr(e.data)}}Nr.create=e=>new Nr({typeName:uo.ZodNull,...cr(e)});class Ar extends ur{constructor(){super(...arguments),this._any=!0}_parse(e){return tr(e.data)}}Ar.create=e=>new Ar({typeName:uo.ZodAny,...cr(e)});class Lr extends ur{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tr(e.data)}}Lr.create=e=>new Lr({typeName:uo.ZodUnknown,...cr(e)});class Ir extends ur{_parse(e){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.never,received:t.parsedType}),Ja}}Ir.create=e=>new Ir({typeName:uo.ZodNever,...cr(e)});class Dr extends ur{_parse(e){if(this._getType(e)!==Ua.undefined){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.void,received:t.parsedType}),Ja}return tr(e.data)}}Dr.create=e=>new Dr({typeName:uo.ZodVoid,...cr(e)});class Tr extends ur{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==Ua.array)return Ya(t,{code:$a.invalid_type,expected:Ua.array,received:t.parsedType}),Ja;if(null!==s.exactLength){const e=t.data.length>s.exactLength.value,a=t.data.length<s.exactLength.value;(e||a)&&(Ya(t,{code:e?$a.too_big:$a.too_small,minimum:a?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(Ya(t,{code:$a.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(Ya(t,{code:$a.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>s.type._parseAsync(new lr(t,e,t.path,n))))).then((e=>Xa.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>s.type._parseSync(new lr(t,e,t.path,n))));return Xa.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new Tr({...this._def,minLength:{value:e,message:or.toString(t)}})}max(e,t){return new Tr({...this._def,maxLength:{value:e,message:or.toString(t)}})}length(e,t){return new Tr({...this._def,exactLength:{value:e,message:or.toString(t)}})}nonempty(e){return this.min(1,e)}}function Mr(e){if(e instanceof Or){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Jr.create(Mr(s))}return new Or({...e._def,shape:()=>t})}return e instanceof Tr?new Tr({...e._def,type:Mr(e.element)}):e instanceof Jr?Jr.create(Mr(e.unwrap())):e instanceof eo?eo.create(Mr(e.unwrap())):e instanceof qr?qr.create(e.items.map((e=>Mr(e)))):e}Tr.create=(e,t)=>new Tr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:uo.ZodArray,...cr(t)});class Or extends ur{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=za.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Ua.object){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.object,received:t.parsedType}),Ja}const{status:t,ctx:n}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),r=[];if(!(this._def.catchall instanceof Ir&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||r.push(e);const o=[];for(const e of a){const t=s[e],a=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new lr(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Ir){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of r)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)r.length>0&&(Ya(n,{code:$a.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const s=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new lr(n,s,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Xa.mergeObjectSync(t,e))):Xa.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return or.errToObj,new Or({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var s,a,r,o;const i=null!==(r=null===(a=(s=this._def).errorMap)||void 0===a?void 0:a.call(s,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=or.errToObj(e).message)&&void 0!==o?o:i}:{message:i}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(e){return new Or({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Or({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:uo.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Or({...this._def,catchall:e})}pick(e){const t={};return za.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Or({...this._def,shape:()=>t})}omit(e){const t={};return za.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Or({...this._def,shape:()=>t})}deepPartial(){return Mr(this)}partial(e){const t={};return za.objectKeys(this.shape).forEach((n=>{const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()})),new Or({...this._def,shape:()=>t})}required(e){const t={};return za.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Jr;)e=e._def.innerType;t[n]=e}})),new Or({...this._def,shape:()=>t})}keyof(){return Kr(za.objectKeys(this.shape))}}Or.create=(e,t)=>new Or({shape:()=>e,unknownKeys:"strip",catchall:Ir.create(),typeName:uo.ZodObject,...cr(t)}),Or.strictCreate=(e,t)=>new Or({shape:()=>e,unknownKeys:"strict",catchall:Ir.create(),typeName:uo.ZodObject,...cr(t)}),Or.lazycreate=(e,t)=>new Or({shape:e,unknownKeys:"strip",catchall:Ir.create(),typeName:uo.ZodObject,...cr(t)});class Fr extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new Va(e.ctx.common.issues)));return Ya(t,{code:$a.invalid_union,unionErrors:n}),Ja}));{let e;const s=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&s.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=s.map((e=>new Va(e)));return Ya(t,{code:$a.invalid_union,unionErrors:a}),Ja}}get options(){return this._def.options}}Fr.create=(e,t)=>new Fr({options:e,typeName:uo.ZodUnion,...cr(t)});const Br=e=>e instanceof Vr?Br(e.schema):e instanceof Xr?Br(e.innerType()):e instanceof Wr?[e.value]:e instanceof Qr?e.options:e instanceof Gr?Object.keys(e.enum):e instanceof to?Br(e._def.innerType):e instanceof jr?[void 0]:e instanceof Nr?[null]:null;class Pr extends ur{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ua.object)return Ya(t,{code:$a.invalid_type,expected:Ua.object,received:t.parsedType}),Ja;const n=this.discriminator,s=t.data[n],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Ya(t,{code:$a.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ja)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const n of t){const t=Br(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of t){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,n)}}return new Pr({typeName:uo.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...cr(n)})}}function Rr(e,t){const n=Ha(e),s=Ha(t);if(e===t)return{valid:!0,data:e};if(n===Ua.object&&s===Ua.object){const n=za.objectKeys(t),s=za.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of s){const s=Rr(e[n],t[n]);if(!s.valid)return{valid:!1};a[n]=s.data}return{valid:!0,data:a}}if(n===Ua.array&&s===Ua.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const a=Rr(e[s],t[s]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Ua.date&&s===Ua.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class zr extends ur{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(e,s)=>{if(nr(e)||nr(s))return Ja;const a=Rr(e.value,s.value);return a.valid?((sr(e)||sr(s))&&t.dirty(),{status:t.value,value:a.data}):(Ya(n,{code:$a.invalid_intersection_types}),Ja)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>s(e,t))):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}zr.create=(e,t,n)=>new zr({left:e,right:t,typeName:uo.ZodIntersection,...cr(n)});class qr extends ur{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ua.array)return Ya(n,{code:$a.invalid_type,expected:Ua.array,received:n.parsedType}),Ja;if(n.data.length<this._def.items.length)return Ya(n,{code:$a.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ja;!this._def.rest&&n.data.length>this._def.items.length&&(Ya(n,{code:$a.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map(((e,t)=>{const s=this._def.items[t]||this._def.rest;return s?s._parse(new lr(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(s).then((e=>Xa.mergeArray(t,e))):Xa.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:e,typeName:uo.ZodTuple,rest:null,...cr(t)})};class Zr extends ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ua.object)return Ya(n,{code:$a.invalid_type,expected:Ua.object,received:n.parsedType}),Ja;const s=[],a=this._def.keyType,r=this._def.valueType;for(const e in n.data)s.push({key:a._parse(new lr(n,e,n.path,e)),value:r._parse(new lr(n,n.data[e],n.path,e))});return n.common.async?Xa.mergeObjectAsync(t,s):Xa.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return new Zr(t instanceof ur?{keyType:e,valueType:t,typeName:uo.ZodRecord,...cr(n)}:{keyType:yr.create(),valueType:e,typeName:uo.ZodRecord,...cr(t)})}}class Ur extends ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ua.map)return Ya(n,{code:$a.invalid_type,expected:Ua.map,received:n.parsedType}),Ja;const s=this._def.keyType,a=this._def.valueType,r=[...n.data.entries()].map((([e,t],r)=>({key:s._parse(new lr(n,e,n.path,[r,"key"])),value:a._parse(new lr(n,t,n.path,[r,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of r){const s=await n.key,a=await n.value;if("aborted"===s.status||"aborted"===a.status)return Ja;"dirty"!==s.status&&"dirty"!==a.status||t.dirty(),e.set(s.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of r){const s=n.key,a=n.value;if("aborted"===s.status||"aborted"===a.status)return Ja;"dirty"!==s.status&&"dirty"!==a.status||t.dirty(),e.set(s.value,a.value)}return{status:t.value,value:e}}}}Ur.create=(e,t,n)=>new Ur({valueType:t,keyType:e,typeName:uo.ZodMap,...cr(n)});class Hr extends ur{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ua.set)return Ya(n,{code:$a.invalid_type,expected:Ua.set,received:n.parsedType}),Ja;const s=this._def;null!==s.minSize&&n.data.size<s.minSize.value&&(Ya(n,{code:$a.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&n.data.size>s.maxSize.value&&(Ya(n,{code:$a.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function r(e){const n=new Set;for(const s of e){if("aborted"===s.status)return Ja;"dirty"===s.status&&t.dirty(),n.add(s.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map(((e,t)=>a._parse(new lr(n,e,n.path,t))));return n.common.async?Promise.all(o).then((e=>r(e))):r(o)}min(e,t){return new Hr({...this._def,minSize:{value:e,message:or.toString(t)}})}max(e,t){return new Hr({...this._def,maxSize:{value:e,message:or.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Hr.create=(e,t)=>new Hr({valueType:e,minSize:null,maxSize:null,typeName:uo.ZodSet,...cr(t)});class $r extends ur{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ua.function)return Ya(t,{code:$a.invalid_type,expected:Ua.function,received:t.parsedType}),Ja;function n(e,n){return Ga({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qa(),Wa].filter((e=>!!e)),issueData:{code:$a.invalid_arguments,argumentsError:n}})}function s(e,n){return Ga({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qa(),Wa].filter((e=>!!e)),issueData:{code:$a.invalid_return_type,returnTypeError:n}})}const a={errorMap:t.common.contextualErrorMap},r=t.data;if(this._def.returns instanceof Yr){const e=this;return tr((async function(...t){const o=new Va([]),i=await e._def.args.parseAsync(t,a).catch((e=>{throw o.addIssue(n(t,e)),o})),l=await Reflect.apply(r,this,i);return await e._def.returns._def.type.parseAsync(l,a).catch((e=>{throw o.addIssue(s(l,e)),o}))}))}{const e=this;return tr((function(...t){const o=e._def.args.safeParse(t,a);if(!o.success)throw new Va([n(t,o.error)]);const i=Reflect.apply(r,this,o.data),l=e._def.returns.safeParse(i,a);if(!l.success)throw new Va([s(i,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $r({...this._def,args:qr.create(e).rest(Lr.create())})}returns(e){return new $r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new $r({args:e||qr.create([]).rest(Lr.create()),returns:t||Lr.create(),typeName:uo.ZodFunction,...cr(n)})}}class Vr extends ur{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Vr.create=(e,t)=>new Vr({getter:e,typeName:uo.ZodLazy,...cr(t)});class Wr extends ur{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ya(t,{received:t.data,code:$a.invalid_literal,expected:this._def.value}),Ja}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Kr(e,t){return new Qr({values:e,typeName:uo.ZodEnum,...cr(t)})}Wr.create=(e,t)=>new Wr({value:e,typeName:uo.ZodLiteral,...cr(t)});class Qr extends ur{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ya(t,{expected:za.joinValues(n),received:t.parsedType,code:$a.invalid_type}),Ja}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ya(t,{received:t.data,code:$a.invalid_enum_value,options:n}),Ja}return tr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Qr.create(e)}exclude(e){return Qr.create(this.options.filter((t=>!e.includes(t))))}}Qr.create=Kr;class Gr extends ur{_parse(e){const t=za.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ua.string&&n.parsedType!==Ua.number){const e=za.objectValues(t);return Ya(n,{expected:za.joinValues(e),received:n.parsedType,code:$a.invalid_type}),Ja}if(-1===t.indexOf(e.data)){const e=za.objectValues(t);return Ya(n,{received:n.data,code:$a.invalid_enum_value,options:e}),Ja}return tr(e.data)}get enum(){return this._def.values}}Gr.create=(e,t)=>new Gr({values:e,typeName:uo.ZodNativeEnum,...cr(t)});class Yr extends ur{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ua.promise&&!1===t.common.async)return Ya(t,{code:$a.invalid_type,expected:Ua.promise,received:t.parsedType}),Ja;const n=t.parsedType===Ua.promise?t.data:Promise.resolve(t.data);return tr(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Yr.create=(e,t)=>new Yr({type:e,typeName:uo.ZodPromise,...cr(t)});class Xr extends ur{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===uo.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:e=>{Ya(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===s.type){const e=s.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===s.type){const e=e=>{const t=s.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?Ja:("dirty"===s.status&&t.dirty(),e(s.value),{status:t.value,value:s.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Ja:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===s.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ar(e))return e;const r=s.transform(e.value,a);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>ar(e)?Promise.resolve(s.transform(e.value,a)).then((e=>({status:t.value,value:e}))):e))}za.assertNever(s)}}Xr.create=(e,t,n)=>new Xr({schema:e,typeName:uo.ZodEffects,effect:t,...cr(n)}),Xr.createWithPreprocess=(e,t,n)=>new Xr({schema:t,effect:{type:"preprocess",transform:e},typeName:uo.ZodEffects,...cr(n)});class Jr extends ur{_parse(e){return this._getType(e)===Ua.undefined?tr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jr.create=(e,t)=>new Jr({innerType:e,typeName:uo.ZodOptional,...cr(t)});class eo extends ur{_parse(e){return this._getType(e)===Ua.null?tr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eo.create=(e,t)=>new eo({innerType:e,typeName:uo.ZodNullable,...cr(t)});class to extends ur{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ua.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}to.create=(e,t)=>new to({innerType:e,typeName:uo.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...cr(t)});class no extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rr(s)?s.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Va(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new Va(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}no.create=(e,t)=>new no({innerType:e,typeName:uo.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...cr(t)});class so extends ur{_parse(e){if(this._getType(e)!==Ua.nan){const t=this._getOrReturnCtx(e);return Ya(t,{code:$a.invalid_type,expected:Ua.nan,received:t.parsedType}),Ja}return{status:"valid",value:e.data}}}so.create=e=>new so({typeName:uo.ZodNaN,...cr(e)});const ao=Symbol("zod_brand");class ro extends ur{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class oo extends ur{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ja:"dirty"===e.status?(t.dirty(),er(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ja:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new oo({in:e,out:t,typeName:uo.ZodPipeline})}}class io extends ur{_parse(e){const t=this._def.innerType._parse(e);return ar(t)&&(t.value=Object.freeze(t.value)),t}}io.create=(e,t)=>new io({innerType:e,typeName:uo.ZodReadonly,...cr(t)});const lo=(e,t={},n)=>e?Ar.create().superRefine(((s,a)=>{var r,o;if(!e(s)){const e="function"==typeof t?t(s):"string"==typeof t?{message:t}:t,i=null===(o=null!==(r=e.fatal)&&void 0!==r?r:n)||void 0===o||o,l="string"==typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:i})}})):Ar.create(),co={object:Or.lazycreate};var uo,po;(po=uo||(uo={})).ZodString="ZodString",po.ZodNumber="ZodNumber",po.ZodNaN="ZodNaN",po.ZodBigInt="ZodBigInt",po.ZodBoolean="ZodBoolean",po.ZodDate="ZodDate",po.ZodSymbol="ZodSymbol",po.ZodUndefined="ZodUndefined",po.ZodNull="ZodNull",po.ZodAny="ZodAny",po.ZodUnknown="ZodUnknown",po.ZodNever="ZodNever",po.ZodVoid="ZodVoid",po.ZodArray="ZodArray",po.ZodObject="ZodObject",po.ZodUnion="ZodUnion",po.ZodDiscriminatedUnion="ZodDiscriminatedUnion",po.ZodIntersection="ZodIntersection",po.ZodTuple="ZodTuple",po.ZodRecord="ZodRecord",po.ZodMap="ZodMap",po.ZodSet="ZodSet",po.ZodFunction="ZodFunction",po.ZodLazy="ZodLazy",po.ZodLiteral="ZodLiteral",po.ZodEnum="ZodEnum",po.ZodEffects="ZodEffects",po.ZodNativeEnum="ZodNativeEnum",po.ZodOptional="ZodOptional",po.ZodNullable="ZodNullable",po.ZodDefault="ZodDefault",po.ZodCatch="ZodCatch",po.ZodPromise="ZodPromise",po.ZodBranded="ZodBranded",po.ZodPipeline="ZodPipeline",po.ZodReadonly="ZodReadonly";const mo=yr.create,ho=kr.create,fo=so.create,go=xr.create,bo=Er.create,_o=Cr.create,vo=Sr.create,yo=jr.create,wo=Nr.create,ko=Ar.create,xo=Lr.create,Eo=Ir.create,Co=Dr.create,So=Tr.create,jo=Or.create,No=Or.strictCreate,Ao=Fr.create,Lo=Pr.create,Io=zr.create,Do=qr.create,To=Zr.create,Mo=Ur.create,Oo=Hr.create,Fo=$r.create,Bo=Vr.create,Po=Wr.create,Ro=Qr.create,zo=Gr.create,qo=Yr.create,Zo=Xr.create,Uo=Jr.create,Ho=eo.create,$o=Xr.createWithPreprocess,Vo=oo.create,Wo={string:e=>yr.create({...e,coerce:!0}),number:e=>kr.create({...e,coerce:!0}),boolean:e=>Er.create({...e,coerce:!0}),bigint:e=>xr.create({...e,coerce:!0}),date:e=>Cr.create({...e,coerce:!0})},Ko=Ja;var Qo=Object.freeze({__proto__:null,defaultErrorMap:Wa,setErrorMap:function(e){Ka=e},getErrorMap:Qa,makeIssue:Ga,EMPTY_PATH:[],addIssueToContext:Ya,ParseStatus:Xa,INVALID:Ja,DIRTY:er,OK:tr,isAborted:nr,isDirty:sr,isValid:ar,isAsync:rr,get util(){return za},get objectUtil(){return Za},ZodParsedType:Ua,getParsedType:Ha,ZodType:ur,ZodString:yr,ZodNumber:kr,ZodBigInt:xr,ZodBoolean:Er,ZodDate:Cr,ZodSymbol:Sr,ZodUndefined:jr,ZodNull:Nr,ZodAny:Ar,ZodUnknown:Lr,ZodNever:Ir,ZodVoid:Dr,ZodArray:Tr,ZodObject:Or,ZodUnion:Fr,ZodDiscriminatedUnion:Pr,ZodIntersection:zr,ZodTuple:qr,ZodRecord:Zr,ZodMap:Ur,ZodSet:Hr,ZodFunction:$r,ZodLazy:Vr,ZodLiteral:Wr,ZodEnum:Qr,ZodNativeEnum:Gr,ZodPromise:Yr,ZodEffects:Xr,ZodTransformer:Xr,ZodOptional:Jr,ZodNullable:eo,ZodDefault:to,ZodCatch:no,ZodNaN:so,BRAND:ao,ZodBranded:ro,ZodPipeline:oo,ZodReadonly:io,custom:lo,Schema:ur,ZodSchema:ur,late:co,get ZodFirstPartyTypeKind(){return uo},coerce:Wo,any:ko,array:So,bigint:go,boolean:bo,date:_o,discriminatedUnion:Lo,effect:Zo,enum:Ro,function:Fo,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>lo((t=>t instanceof e),t),intersection:Io,lazy:Bo,literal:Po,map:Mo,nan:fo,nativeEnum:zo,never:Eo,null:wo,nullable:Ho,number:ho,object:jo,oboolean:()=>bo().optional(),onumber:()=>ho().optional(),optional:Uo,ostring:()=>mo().optional(),pipeline:Vo,preprocess:$o,promise:qo,record:To,set:Oo,strictObject:No,string:mo,symbol:vo,transformer:Zo,tuple:Do,undefined:yo,union:Ao,unknown:xo,void:Co,NEVER:Ko,ZodIssueCode:$a,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Va});Qo.string(),Qo.number(),Qo.number().optional();const Go=Qo.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/),Yo=Qo.enum(["bottomLeft","bottomRight","topLeft","topRight","center"]),Xo=Qo.enum(["png","jpeg","jpg","pdf","doc","docx","xls","xlsx","ppt","pptx","plain","csv","mp4","mov","avi","mkv","webm","zip","rar","7z","tar"]),Jo=Qo.object({enabled:Qo.boolean(),headline:Qo.optional(Qo.string()),subheader:Qo.optional(Qo.string())});var ei=(e=>(e.FileUpload="fileUpload",e.OpenText="openText",e.MultipleChoiceSingle="multipleChoiceSingle",e.MultipleChoiceMulti="multipleChoiceMulti",e.NPS="nps",e.CTA="cta",e.Rating="rating",e.Consent="consent",e.PictureSelection="pictureSelection",e.Cal="cal",e.Date="date",e))(ei||{});const ti=Qo.object({enabled:Qo.boolean(),headline:Qo.optional(Qo.string()),html:Qo.string().optional(),fileUrl:Qo.string().optional(),buttonLabel:Qo.string().optional(),timeToFinish:Qo.boolean().default(!0),showResponseCount:Qo.boolean().default(!1)}),ni=Qo.object({enabled:Qo.boolean(),fieldIds:Qo.optional(Qo.array(Qo.string()))}),si=Qo.object({brandColor:Go.nullish(),highlightBorderColor:Go.nullish(),placement:Yo.nullish(),clickOutsideClose:Qo.boolean().nullish(),darkOverlay:Qo.boolean().nullish()});Qo.enum(["animation","color","image"]);const ai=Qo.object({bg:Qo.string().nullish(),bgType:Qo.enum(["animation","color","image"]).nullish(),brightness:Qo.number().nullish()}),ri=Qo.object({background:ai.nullish(),hideProgressBar:Qo.boolean().nullish()}),oi=Qo.object({enabled:Qo.boolean().optional(),heading:Qo.string().optional(),subheading:Qo.string().optional()}).nullable().optional(),ii=Qo.object({enabled:Qo.boolean(),heading:Qo.optional(Qo.string()),subheading:Qo.optional(Qo.string()),isEncrypted:Qo.boolean()}).nullable(),li=Qo.object({name:Qo.optional(Qo.string()),subheading:Qo.optional(Qo.string())}).optional(),di=Qo.object({id:Qo.string(),label:Qo.string()}),ci=Qo.object({id:Qo.string(),imageUrl:Qo.string()}),ui=Qo.enum(["accepted","clicked","submitted","skipped","equals","notEquals","lessThan","lessEqual","greaterThan","greaterEqual","includesAll","includesOne","uploaded","notUploaded","booked"]),pi=Qo.object({condition:ui.optional(),value:Qo.union([Qo.string(),Qo.array(Qo.string())]).optional(),destination:Qo.union([Qo.string(),Qo.literal("end")]).optional()}),mi=pi.extend({condition:Qo.enum(["uploaded","notUploaded"]).optional(),value:Qo.undefined()}),hi=pi.extend({condition:Qo.enum(["submitted","skipped"]).optional(),value:Qo.undefined()}),fi=pi.extend({condition:Qo.enum(["skipped","accepted"]).optional(),value:Qo.undefined()}),gi=pi.extend({condition:Qo.enum(["submitted","skipped","equals","notEquals"]).optional(),value:Qo.string().optional()}),bi=pi.extend({condition:Qo.enum(["submitted","skipped","includesAll","includesOne","equals"]).optional(),value:Qo.union([Qo.array(Qo.string()),Qo.string()]).optional()}),_i=pi.extend({condition:Qo.enum(["equals","notEquals","lessThan","lessEqual","greaterThan","greaterEqual","submitted","skipped"]).optional(),value:Qo.union([Qo.string(),Qo.number()]).optional()}),vi=pi.extend({condition:Qo.enum(["clicked","submitted","skipped"]).optional(),value:Qo.undefined()}),yi=pi.extend({condition:Qo.enum(["equals","notEquals","lessThan","lessEqual","greaterThan","greaterEqual","submitted","skipped"]).optional(),value:Qo.union([Qo.string(),Qo.number()]).optional()}),wi=pi.extend({condition:Qo.enum(["submitted","skipped"]).optional(),value:Qo.undefined()}),ki=pi.extend({condition:Qo.enum(["booked","skipped"]).optional(),value:Qo.undefined()}),xi=Qo.union([hi,fi,gi,bi,_i,vi,yi,wi,mi,ki]),Ei=Qo.object({id:Qo.string(),type:Qo.string(),headline:Qo.string(),subheader:Qo.string().optional(),imageUrl:Qo.string().optional(),required:Qo.boolean(),buttonLabel:Qo.string().optional(),backButtonLabel:Qo.string().optional(),scale:Qo.enum(["number","smiley","star"]).optional(),range:Qo.union([Qo.literal(5),Qo.literal(3),Qo.literal(4),Qo.literal(7),Qo.literal(10)]).optional(),logic:Qo.array(xi).optional(),isDraft:Qo.boolean().optional()}),Ci=Qo.enum(["text","email","url","number","phone"]),Si=Ei.extend({type:Qo.literal("openText"),placeholder:Qo.string().optional(),longAnswer:Qo.boolean().optional(),logic:Qo.array(hi).optional(),inputType:Ci.optional().default("text")}),ji=Ei.extend({type:Qo.literal("consent"),html:Qo.string().optional(),label:Qo.string(),dismissButtonLabel:Qo.string().optional(),placeholder:Qo.string().optional(),logic:Qo.array(fi).optional()}),Ni=Ei.extend({type:Qo.literal("multipleChoiceSingle"),choices:Qo.array(di),logic:Qo.array(gi).optional(),shuffleOption:Qo.enum(["none","all","exceptLast"]).optional()}),Ai=Ei.extend({type:Qo.literal("multipleChoiceMulti"),choices:Qo.array(di),logic:Qo.array(bi).optional(),shuffleOption:Qo.enum(["none","all","exceptLast"]).optional()}),Li=Ei.extend({type:Qo.literal("nps"),lowerLabel:Qo.string(),upperLabel:Qo.string(),logic:Qo.array(_i).optional()}),Ii=Ei.extend({type:Qo.literal("cta"),html:Qo.string().optional(),buttonUrl:Qo.string().optional(),buttonExternal:Qo.boolean(),dismissButtonLabel:Qo.string().optional(),logic:Qo.array(vi).optional()}),Di=Ei.extend({type:Qo.literal("rating"),scale:Qo.enum(["number","smiley","star"]),range:Qo.union([Qo.literal(5),Qo.literal(3),Qo.literal(4),Qo.literal(7),Qo.literal(10)]),lowerLabel:Qo.string(),upperLabel:Qo.string(),logic:Qo.array(yi).optional()}),Ti=Ei.extend({type:Qo.literal("date"),html:Qo.string().optional(),format:Qo.enum(["M-d-y","d-M-y","y-M-d"])}),Mi=Ei.extend({type:Qo.literal("pictureSelection"),allowMulti:Qo.boolean().optional().default(!1),choices:Qo.array(ci),logic:Qo.array(wi).optional()}),Oi=Ei.extend({type:Qo.literal("fileUpload"),allowMultipleFiles:Qo.boolean(),maxSizeInMB:Qo.number().optional(),allowedFileExtensions:Qo.array(Xo).optional(),logic:Qo.array(mi).optional()}),Fi=Ei.extend({type:Qo.literal("cal"),calUserName:Qo.string(),logic:Qo.array(ki).optional()}),Bi=Qo.union([Si,ji,Ni,Ai,Li,Ii,Di,Mi,Ti,Oi,Fi]),Pi=Qo.array(Bi),Ri=Qo.object({attributeClassId:Qo.string().cuid2(),condition:Qo.enum(["equals","notEquals"]),value:Qo.string()}),zi=Qo.enum(["displayOnce","displayMultiple","respondMultiple"]),qi=Qo.enum(["web","email","link","mobile"]),Zi=Qo.enum(["draft","inProgress","paused","completed"]);function Ui({question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,autoFocus:i=!0,ttc:l,setTtc:d,surveyId:c,onFileUpload:u}){return e.type===ei.OpenText?Yn(Sa,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,autoFocus:i,ttc:l,setTtc:d}):e.type===ei.MultipleChoiceSingle?Yn(Ea,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.MultipleChoiceMulti?Yn(xa,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.NPS?Yn(Ca,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.CTA?Yn(ua,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.Rating?Yn(Pa,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.Consent?Yn(ba,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.Date?Yn(va,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.PictureSelection?Yn(ja,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):e.type===ei.FileUpload?Yn(ka,{surveyId:c,question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,onFileUpload:u,ttc:l,setTtc:d}):e.type===ei.Cal?Yn(ga,{question:e,value:t,onChange:n,onSubmit:s,onBack:a,isFirstQuestion:r,isLastQuestion:o,ttc:l,setTtc:d}):null}Qo.object({id:Qo.string().cuid2(),createdAt:Qo.date(),updatedAt:Qo.date(),name:Qo.string(),type:qi,environmentId:Qo.string(),status:Zi,attributeFilters:Qo.array(Ri),displayOption:zi,autoClose:Qo.number().nullable(),triggers:Qo.array(Qo.string()),redirectUrl:Qo.string().url().nullable(),recontactDays:Qo.number().nullable(),welcomeCard:ti,questions:Pi,thankYouCard:Jo,hiddenFields:ni,delay:Qo.number(),autoComplete:Qo.number().nullable(),closeOnDate:Qo.date().nullable(),productOverwrites:si.nullable(),styling:ri.nullable(),surveyClosedMessage:oi.nullable(),singleUse:ii.nullable(),verifyEmail:li.nullable(),pin:Qo.string().nullable().optional(),resultShareKey:Qo.string().nullable()}),Qo.object({name:Qo.string(),type:qi.optional(),status:Zi.optional(),displayOption:zi.optional(),autoClose:Qo.number().optional(),redirectUrl:Qo.string().url().optional(),recontactDays:Qo.number().optional(),welcomeCard:ti.optional(),questions:Pi.optional(),thankYouCard:Jo.optional(),hiddenFields:ni,delay:Qo.number().optional(),autoComplete:Qo.number().optional(),closeOnDate:Qo.date().optional(),surveyClosedMessage:oi.optional(),verifyEmail:li.optional(),attributeFilters:Qo.array(Ri).optional(),triggers:Qo.array(Qo.string()).optional()}),Qo.union([Qo.literal("fileUpload"),Qo.literal("openText"),Qo.literal("multipleChoiceSingle"),Qo.literal("multipleChoiceMulti"),Qo.literal("nps"),Qo.literal("cta"),Qo.literal("rating"),Qo.literal("consent"),Qo.literal("pictureSelection"),Qo.literal("cal"),Qo.literal("date")]);const Hi=5;function $i({redirectUrl:e,isRedirectDisabled:t}){const[n,s]=gs(Hi);return bs((()=>{if(e){const n=setInterval((()=>{s((s=>s<=0?(clearInterval(n),t||(window.location.href=e),0):s-1))}),1e3)}return()=>clearInterval(void 0)}),[e,t]),e?Yn("div",{children:Yn("div",{className:"bg-accent-bg text-subheading mt-10 rounded-md p-2 text-sm",children:[Yn("span",{children:"You're redirected in "}),Yn("span",{children:n})]})}):null}function Vi({headline:e,subheader:t,redirectUrl:n,isRedirectDisabled:s}){return Yn("div",{className:"text-center",children:[Yn("div",{className:"text-brand flex items-center justify-center",children:Yn("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-24 w-24",children:Yn("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Yn("span",{className:"bg-shadow mb-[10px] inline-block h-1 w-16 rounded-[100%]"}),Yn("div",{children:[Yn(Ms,{alignTextCenter:!0,headline:e,questionId:"thankYouCard"}),Yn(fa,{subheader:t,questionId:"thankYouCard"}),Yn($i,{redirectUrl:n,isRedirectDisabled:s})]})]})}const Wi=()=>Yn("div",{className:"mr-1",children:Yn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-stopwatch",viewBox:"0 0 16 16",children:[Yn("path",{d:"M8.5 5.6a.5.5 0 1 0-1 0v2.9h-3a.5.5 0 0 0 0 1H8a.5.5 0 0 0 .5-.5V5.6z"}),Yn("path",{d:"M6.5 1A.5.5 0 0 1 7 .5h2a.5.5 0 0 1 0 1v.57c1.36.196 2.594.78 3.584 1.64a.715.715 0 0 1 .012-.013l.354-.354-.354-.353a.5.5 0 0 1 .707-.708l1.414 1.415a.5.5 0 1 1-.707.707l-.353-.354-.354.354a.512.512 0 0 1-.013.012A7 7 0 1 1 7 2.071V1.5a.5.5 0 0 1-.5-.5zM8 3a6 6 0 1 0 .001 12A6 6 0 0 0 8 3z"})]})}),Ki=()=>Yn("div",{className:"mr-1",children:Yn("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4",children:Yn("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})})});function Qi({headline:e,html:t,fileUrl:n,buttonLabel:s,onSubmit:a,survey:r,responseCount:o}){const i=()=>{let e=ns(r,0);.5===e&&(e=1);const t=r.questions.length/e*15;if(t>360)return"6+ minutes";const n=Math.floor(t/60);return t%60>0?0===n?"less than 1 minute":`less than ${n+1} minutes`:`${n} minutes`},l=r.welcomeCard.timeToFinish,d=r.welcomeCard.showResponseCount;return Yn("div",{children:[n&&Yn("img",{src:n,className:"mb-8 max-h-96 w-1/3 rounded-lg object-contain",alt:"Company Logo"}),Yn(Ms,{headline:e,questionId:"welcomeCard"}),Yn(Fs,{htmlString:t,questionId:"welcomeCard"}),Yn("div",{className:"mt-10 flex w-full justify-between",children:Yn("div",{className:"flex w-full justify-start gap-4",children:[Yn(Ts,{buttonLabel:s,isLastQuestion:!1,focus:!0,onClick:()=>{a({welcomeCard:"clicked"},{})},type:"button"}),Yn("div",{className:"text-subheading flex items-center text-xs",children:"Press Enter "})]})}),l&&!d?Yn("div",{className:"item-center mt-4 flex text-slate-500",children:[Yn(Wi,{}),Yn("p",{className:"pt-1 text-xs",children:Yn("span",{children:[" Takes ",i()," "]})})]}):d&&!l&&o&&o>3?Yn("div",{className:"item-center mt-4 flex text-slate-500",children:[Yn(Ki,{}),Yn("p",{className:"pt-1 text-xs",children:Yn("span",{children:`${o} people responded`})})]}):l&&d?Yn("div",{className:"item-center mt-4 flex text-slate-500",children:[Yn(Wi,{}),Yn("p",{className:"pt-1 text-xs",children:[Yn("span",{children:[" Takes ",i()," "]}),Yn("span",{children:o&&o>3?` ${o} people responded`:""})]})]}):null]})}function Gi({survey:e,isBrandingEnabled:t,activeQuestionId:n,onDisplay:s=(()=>{}),onActiveQuestionChange:a=(()=>{}),onResponse:r=(()=>{}),onClose:o=(()=>{}),onFinished:i=(()=>{}),isRedirectDisabled:l=!1,prefillResponseData:d,onFileUpload:c,responseCount:u}){var p,m;const[h,f]=gs(n||(e.welcomeCard.enabled?"start":null==(p=null==e?void 0:e.questions[0])?void 0:p.id)),[g,b]=gs(!1),[_,v]=gs([]),[y,w]=gs({}),k=e.questions.findIndex((e=>e.id===h)),x=e.questions[k],E=_s(null),C=!(null==(m=e.styling)?void 0:m.hideProgressBar),[S,j]=gs({});bs((()=>{var t,s;"hidden"!==n&&("start"!==n||e.welcomeCard.enabled?f(n||(e.welcomeCard.enabled?"start":null==(s=null==e?void 0:e.questions[0])?void 0:s.id)):f(null==(t=null==e?void 0:e.questions[0])?void 0:t.id))}),[n,e.questions,e.welcomeCard.enabled]),bs((()=>{E.current&&(E.current.scrollTop=0)}),[h]),bs((()=>{s(),d&&I(d,{},!0)}),[]);let N=k,A=x;const L=e=>{const t={...y,...e};w(t)},I=(t,n,s=!1)=>{const o=Object.keys(t)[0];b(!0);const l=function(t,n=!1){var s,a;const r=e.questions,o=t[h];if("start"===h){if(!n)return(null==(s=r[0])?void 0:s.id)||"end";N=0,A=r[0]}if(-1===N)throw new Error("Question not found");if((null==A?void 0:A.logic)&&(null==A?void 0:A.logic.length)>0)for(let e of A.logic)if(e.destination&&Is(e,o))return e.destination;return(null==(a=r[N+1])?void 0:a.id)||"end"}(t,s),d="end"===l;r({data:t,ttc:n,finished:d}),d&&i(),f(l),v([..._,o]),b(!1),a(l)},D=()=>{var t;let n;if((null==_?void 0:_.length)>0){const t=[..._];if(n=t.pop(),d&&n===e.questions[0].id)return;v(t)}else n=null==(t=e.questions[N-1])?void 0:t.id;if(!n)throw new Error("Question not found");f(n),a(n)};return Yn(In,{children:Yn(Ls,{survey:e,onClose:o,children:Yn("div",{className:"no-scrollbar flex h-full w-full flex-col justify-between rounded-lg bg-[--fb-survey-background-color] px-6 pb-3 pt-6",children:[Yn("div",{ref:E,className:Jn(g?"animate-pulse opacity-60":"","my-auto"),children:0!==e.questions.length||e.welcomeCard.enabled||e.thankYouCard.enabled?function(){var t;if("start"===h&&e.welcomeCard.enabled)return Yn(Qi,{headline:e.welcomeCard.headline,html:e.welcomeCard.html,fileUrl:e.welcomeCard.fileUrl,buttonLabel:e.welcomeCard.buttonLabel,onSubmit:I,survey:e,responseCount:u});if("end"===h&&e.thankYouCard.enabled)return Yn(Vi,{headline:e.thankYouCard.headline,subheader:e.thankYouCard.subheader,redirectUrl:e.redirectUrl,isRedirectDisabled:l});{const n=e.questions.find((e=>e.id===h));return n&&Yn(Ui,{surveyId:e.id,question:n,value:y[n.id],onChange:L,onSubmit:I,onBack:D,ttc:S,setTtc:j,onFileUpload:c,isFirstQuestion:_&&d?_[_.length-1]===e.questions[0].id:n.id===(null==(t=null==e?void 0:e.questions[0])?void 0:t.id),isLastQuestion:n.id===e.questions[e.questions.length-1].id})}}():Yn("div",{children:"No questions available."})}),Yn("div",{className:"mt-8",children:[t&&Yn(Xn,{}),C&&Yn(As,{survey:e,questionId:h})]})]})})})}function Yi({children:e,isOpen:t,placement:n,clickOutside:s,darkOverlay:a,highlightBorderColor:r,onClose:o}){const[i,l]=gs(!1),d="center"===n,c=_s(null);bs((()=>{l(t)}),[t]),bs((()=>{if(d)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)};function e(e){s&&i&&c.current&&!c.current.contains(e.target)&&o()}}),[i,s,o,d]);const u=vs((()=>r?{borderRadius:"8px",border:"2px solid",borderColor:r}:{overflow:"visible"}),[r]);return i?Yn("div",{"aria-live":"assertive",className:Jn(d?"pointer-events-auto":"pointer-events-none","z-999999 fixed inset-0 flex items-end"),children:Yn("div",{className:Jn("relative h-full w-full",d?a?"bg-gray-700/80":"bg-white/50":"bg-none transition-all duration-500 ease-in-out"),children:Yn("div",{ref:c,className:Jn((e=>{switch(e){case"bottomRight":default:return"sm:bottom-3 sm:right-3";case"topRight":return"sm:top-3 sm:right-3 sm:bottom-3";case"topLeft":return"sm:top-3 sm:left-3 sm:bottom-3";case"bottomLeft":return"sm:bottom-3 sm:left-3";case"center":return"sm:top-1/2 sm:left-1/2 sm:transform sm:-translate-x-1/2 sm:-translate-y-1/2"}})(n),i?"opacity-100":"opacity-0","border-border pointer-events-auto absolute bottom-0 h-fit w-full overflow-visible rounded-lg border bg-white shadow-lg transition-all duration-500 ease-in-out sm:m-4 sm:max-w-sm"),children:[!d&&Yn("div",{class:"absolute right-0 top-0 block pr-2 pt-2",children:Yn("button",{type:"button",onClick:o,class:"text-close-button hover:text-close-button-focus focus:ring-close-button-focus relative h-5 w-5 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2",children:[Yn("span",{class:"sr-only",children:"Close survey"}),Yn("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true",children:Yn("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4L20 20M4 20L20 4"})})]})}),Yn("div",{style:u,children:e})]})})}):null}function Xi({survey:e,isBrandingEnabled:t,activeQuestionId:n,placement:s,clickOutside:a,darkOverlay:r,highlightBorderColor:o,onDisplay:i=(()=>{}),onActiveQuestionChange:l=(()=>{}),onResponse:d=(()=>{}),onClose:c=(()=>{}),onFinished:u=(()=>{}),onFileUpload:p,isRedirectDisabled:m=!1,responseCount:h}){const[f,g]=gs(!0),b=()=>{g(!1),setTimeout((()=>{c()}),1e3)};return Yn("div",{id:"fbjs",className:"formbricks-form",children:Yn(Yi,{placement:s,clickOutside:a,darkOverlay:r,highlightBorderColor:o,isOpen:f,onClose:b,children:Yn(Gi,{survey:e,isBrandingEnabled:t,activeQuestionId:n,onDisplay:i,onActiveQuestionChange:l,onResponse:d,onClose:b,onFinished:()=>{u(),setTimeout((()=>{e.redirectUrl||b()}),4e3)},onFileUpload:p,isRedirectDisabled:m,responseCount:h})})})}const Ji=e=>{(()=>{if(null===document.getElementById("formbricks__css")){const e=document.createElement("style");e.id="formbricks__css",e.innerHTML='#fbjs *,#fbjs :before,#fbjs :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}#fbjs :before,#fbjs :after{--tw-content: ""}#fbjs html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal}#fbjs body{margin:0;line-height:inherit}#fbjs hr{height:0;color:inherit;border-top-width:1px}#fbjs abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}#fbjs h1,#fbjs h2,#fbjs h3,#fbjs h4,#fbjs h5,#fbjs h6{font-size:inherit;font-weight:inherit}#fbjs a{color:inherit;text-decoration:inherit}#fbjs b,#fbjs strong{font-weight:bolder}#fbjs code,#fbjs kbd,#fbjs samp,#fbjs pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}#fbjs small{font-size:80%}#fbjs sub,#fbjs sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#fbjs sub{bottom:-.25em}#fbjs sup{top:-.5em}#fbjs table{text-indent:0;border-color:inherit;border-collapse:collapse}#fbjs button,#fbjs input,#fbjs optgroup,#fbjs select,#fbjs textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}#fbjs button,#fbjs select{text-transform:none}#fbjs button,#fbjs [type=button],#fbjs [type=reset],#fbjs [type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}#fbjs :-moz-focusring{outline:auto}#fbjs :-moz-ui-invalid{box-shadow:none}#fbjs progress{vertical-align:baseline}#fbjs ::-webkit-inner-spin-button,#fbjs ::-webkit-outer-spin-button{height:auto}#fbjs [type=search]{-webkit-appearance:textfield;outline-offset:-2px}#fbjs ::-webkit-search-decoration{-webkit-appearance:none}#fbjs ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#fbjs summary{display:list-item}#fbjs blockquote,#fbjs dl,#fbjs dd,#fbjs h1,#fbjs h2,#fbjs h3,#fbjs h4,#fbjs h5,#fbjs h6,#fbjs hr,#fbjs figure,#fbjs p,#fbjs pre{margin:0}#fbjs fieldset{margin:0;padding:0}#fbjs legend{padding:0}#fbjs ol,#fbjs ul,#fbjs menu{list-style:none;margin:0;padding:0}#fbjs textarea{resize:vertical}#fbjs input::-moz-placeholder,#fbjs textarea::-moz-placeholder{opacity:1;color:#9ca3af}#fbjs input::placeholder,#fbjs textarea::placeholder{opacity:1;color:#9ca3af}#fbjs button,#fbjs [role=button]{cursor:pointer}#fbjs :disabled{cursor:default}#fbjs img,#fbjs svg,#fbjs video,#fbjs canvas,#fbjs audio,#fbjs iframe,#fbjs embed,#fbjs object{display:block;vertical-align:middle}#fbjs img,#fbjs video{max-width:100%;height:auto}#fbjs [hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}#fbjs :is(.sr-only){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}#fbjs :is(.pointer-events-none){pointer-events:none}#fbjs :is(.pointer-events-auto){pointer-events:auto}#fbjs :is(.visible){visibility:visible}#fbjs :is(.fixed){position:fixed}#fbjs :is(.absolute){position:absolute}#fbjs :is(.relative){position:relative}#fbjs :is(.inset-0){top:0;right:0;bottom:0;left:0}#fbjs :is(.bottom-0){bottom:0}#fbjs :is(.left-0){left:0}#fbjs :is(.right-0){right:0}#fbjs :is(.right-2){right:.5em}#fbjs :is(.top-0){top:0}#fbjs :is(.top-2){top:.5em}#fbjs :is(.z-10){z-index:10}#fbjs :is(.z-20){z-index:20}#fbjs :is(.z-999999){z-index:999999}#fbjs :is(.m-2){margin:.5em}#fbjs :is(.my-4){margin-top:1em;margin-bottom:1em}#fbjs :is(.my-auto){margin-top:auto;margin-bottom:auto}#fbjs :is(.mb-1){margin-bottom:.25em}#fbjs :is(.mb-1\\.5){margin-bottom:.375em}#fbjs :is(.mb-4){margin-bottom:1em}#fbjs :is(.mb-5){margin-bottom:1.25em}#fbjs :is(.mb-8){margin-bottom:2em}#fbjs :is(.mb-\\[10px\\]){margin-bottom:10px}#fbjs :is(.ml-2){margin-left:.5em}#fbjs :is(.ml-3){margin-left:.75em}#fbjs :is(.mr-1){margin-right:.25em}#fbjs :is(.mr-4){margin-right:1em}#fbjs :is(.mt-1){margin-top:.25em}#fbjs :is(.mt-10){margin-top:2.5em}#fbjs :is(.mt-2){margin-top:.5em}#fbjs :is(.mt-3){margin-top:.75em}#fbjs :is(.mt-4){margin-top:1em}#fbjs :is(.mt-6){margin-top:1.5em}#fbjs :is(.mt-8){margin-top:2em}#fbjs :is(.box-border){box-sizing:border-box}#fbjs :is(.block){display:block}#fbjs :is(.inline-block){display:inline-block}#fbjs :is(.inline){display:inline}#fbjs :is(.flex){display:flex}#fbjs :is(.grid){display:grid}#fbjs :is(.hidden){display:none}#fbjs :is(.h-1){height:.25em}#fbjs :is(.h-10){height:2.5em}#fbjs :is(.h-12){height:3em}#fbjs :is(.h-14){height:3.5em}#fbjs :is(.h-2){height:.5em}#fbjs :is(.h-24){height:6em}#fbjs :is(.h-28){height:7em}#fbjs :is(.h-4){height:1em}#fbjs :is(.h-40){height:10em}#fbjs :is(.h-5){height:1.25em}#fbjs :is(.h-6){height:1.5em}#fbjs :is(.h-9){height:2.25em}#fbjs :is(.h-96){height:24em}#fbjs :is(.h-fit){height:-moz-fit-content;height:fit-content}#fbjs :is(.h-full){height:100%}#fbjs :is(.max-h-96){max-height:24em}#fbjs :is(.max-h-\\[42vh\\]){max-height:42vh}#fbjs :is(.max-h-full){max-height:100%}#fbjs :is(.w-1\\/2){width:50%}#fbjs :is(.w-1\\/3){width:33.333333%}#fbjs :is(.w-14){width:3.5em}#fbjs :is(.w-16){width:4em}#fbjs :is(.w-24){width:6em}#fbjs :is(.w-4){width:1em}#fbjs :is(.w-5){width:1.25em}#fbjs :is(.w-6){width:1.5em}#fbjs :is(.w-80){width:20em}#fbjs :is(.w-full){width:100%}#fbjs :is(.flex-1){flex:1 1 0%}@keyframes pulse{50%{opacity:.5}}#fbjs :is(.animate-pulse){animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}#fbjs :is(.animate-spin){animation:spin 1s linear infinite}#fbjs :is(.cursor-pointer){cursor:pointer}#fbjs :is(.appearance-none){-webkit-appearance:none;-moz-appearance:none;appearance:none}#fbjs :is(.grid-cols-2){grid-template-columns:repeat(2,minmax(0,1fr))}#fbjs :is(.flex-col){flex-direction:column}#fbjs :is(.items-end){align-items:flex-end}#fbjs :is(.items-center){align-items:center}#fbjs :is(.justify-start){justify-content:flex-start}#fbjs :is(.justify-end){justify-content:flex-end}#fbjs :is(.justify-center){justify-content:center}#fbjs :is(.justify-between){justify-content:space-between}#fbjs :is(.gap-2){gap:.5em}#fbjs :is(.gap-4){gap:1em}#fbjs :is(.gap-x-5){-moz-column-gap:1.25em;column-gap:1.25em}#fbjs :is(.gap-y-4){row-gap:1em}#fbjs :is(.space-y-2>:not([hidden])~:not([hidden])){--tw-space-y-reverse: 0;margin-top:calc(.5em * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5em * var(--tw-space-y-reverse))}#fbjs :is(.self-start){align-self:flex-start}#fbjs :is(.overflow-auto){overflow:auto}#fbjs :is(.overflow-hidden){overflow:hidden}#fbjs :is(.overflow-visible){overflow:visible}#fbjs :is(.overflow-y-auto){overflow-y:auto}#fbjs :is(.rounded){border-radius:.25em}#fbjs :is(.rounded-\\[100\\%\\]){border-radius:100%}#fbjs :is(.rounded-full){border-radius:9999px}#fbjs :is(.rounded-lg){border-radius:.5em}#fbjs :is(.rounded-md){border-radius:.375em}#fbjs :is(.rounded-xl){border-radius:.75em}#fbjs :is(.rounded-l-md){border-top-left-radius:.375em;border-bottom-left-radius:.375em}#fbjs :is(.rounded-r-md){border-top-right-radius:.375em;border-bottom-right-radius:.375em}#fbjs :is(.border){border-width:1px}#fbjs :is(.border-2){border-width:2px}#fbjs :is(.border-4){border-width:4px}#fbjs :is(.border-b-2){border-bottom-width:2px}#fbjs :is(.border-dashed){border-style:dashed}#fbjs :is(.border-\\[\\#e5e7eb\\]){--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}#fbjs :is(.border-back-button-border){border-color:var(--fb-back-btn-border)}#fbjs :is(.border-border){border-color:var(--fb-border-color)}#fbjs :is(.border-border-highlight){border-color:var(--fb-border-color-highlight)}#fbjs :is(.border-brand){border-color:var(--fb-brand-color)}#fbjs :is(.border-neutral-900){--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity))}#fbjs :is(.border-red-500){--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}#fbjs :is(.border-slate-200){--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}#fbjs :is(.border-slate-300){--tw-border-opacity: 1;border-color:rgb(203 213 225 / var(--tw-border-opacity))}#fbjs :is(.border-submit-button-border){border-color:var(--fb-submit-btn-border)}#fbjs :is(.\\!bg-slate-900){--tw-bg-opacity: 1 !important;background-color:rgb(15 23 42 / var(--tw-bg-opacity))!important}#fbjs :is(.bg-\\[--fb-survey-background-color\\]){background-color:var(--fb-survey-background-color)}#fbjs :is(.bg-accent-bg){background-color:var(--fb-accent-background-color)}#fbjs :is(.bg-accent-selected-bg){background-color:var(--fb-accent-background-color-selected)}#fbjs :is(.bg-brand){background-color:var(--fb-brand-color)}#fbjs :is(.bg-gray-700\\/80){background-color:#374151cc}#fbjs :is(.bg-shadow){background-color:var(--fb-shadow-color)}#fbjs :is(.bg-slate-100){--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}#fbjs :is(.bg-slate-200){--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}#fbjs :is(.bg-slate-50){--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}#fbjs :is(.bg-survey-bg){background-color:var(--fb-survey-background-color)}#fbjs :is(.bg-white){--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}#fbjs :is(.bg-white\\/50){background-color:#ffffff80}#fbjs :is(.bg-none){background-image:none}#fbjs :is(.fill-none){fill:none}#fbjs :is(.fill-rating-fill){fill:var(--fb-rating-fill)}#fbjs :is(.stroke-heading){stroke:var(--fb-heading-color)}#fbjs :is(.stroke-rating-selected){stroke:var(--fb-rating-selected)}#fbjs :is(.object-contain){-o-object-fit:contain;object-fit:contain}#fbjs :is(.object-cover){-o-object-fit:cover;object-fit:cover}#fbjs :is(.p-0){padding:0}#fbjs :is(.p-2){padding:.5em}#fbjs :is(.p-3){padding:.75em}#fbjs :is(.p-4){padding:1em}#fbjs :is(.px-1){padding-left:.25em;padding-right:.25em}#fbjs :is(.px-1\\.5){padding-left:.375em;padding-right:.375em}#fbjs :is(.px-3){padding-left:.75em;padding-right:.75em}#fbjs :is(.px-6){padding-left:1.5em;padding-right:1.5em}#fbjs :is(.py-0){padding-top:0;padding-bottom:0}#fbjs :is(.py-0\\.5){padding-top:.125em;padding-bottom:.125em}#fbjs :is(.py-2){padding-top:.5em;padding-bottom:.5em}#fbjs :is(.py-3){padding-top:.75em;padding-bottom:.75em}#fbjs :is(.py-4){padding-top:1em;padding-bottom:1em}#fbjs :is(.py-6){padding-top:1.5em;padding-bottom:1.5em}#fbjs :is(.pb-2){padding-bottom:.5em}#fbjs :is(.pb-3){padding-bottom:.75em}#fbjs :is(.pr-2){padding-right:.5em}#fbjs :is(.pr-2\\.5){padding-right:.625em}#fbjs :is(.pt-1){padding-top:.25em}#fbjs :is(.pt-2){padding-top:.5em}#fbjs :is(.pt-6){padding-top:1.5em}#fbjs :is(.text-left){text-align:left}#fbjs :is(.text-center){text-align:center}#fbjs :is(.text-right){text-align:right}#fbjs :is(.text-base){font-size:1em;line-height:1.5em}#fbjs :is(.text-sm){font-size:.875em;line-height:1.25em}#fbjs :is(.text-xs){font-size:.75em;line-height:1em}#fbjs :is(.font-medium){font-weight:500}#fbjs :is(.font-normal){font-weight:400}#fbjs :is(.font-semibold){font-weight:600}#fbjs :is(.leading-10){line-height:2.5em}#fbjs :is(.leading-4){line-height:1em}#fbjs :is(.leading-6){line-height:1.5em}#fbjs :is(.leading-7){line-height:1.75em}#fbjs :is(.leading-\\[2\\.8rem\\]){line-height:2.8em}#fbjs :is(.\\!text-slate-100){--tw-text-opacity: 1 !important;color:rgb(241 245 249 / var(--tw-text-opacity))!important}#fbjs :is(.text-amber-400){--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity))}#fbjs :is(.text-brand){color:var(--fb-brand-color)}#fbjs :is(.text-close-button){color:var(--fb-close-btn-color)}#fbjs :is(.text-heading){color:var(--fb-heading-color)}#fbjs :is(.text-info-text){color:var(--fb-info-text-color)}#fbjs :is(.text-on-brand){color:var(--fb-brand-text-color)}#fbjs :is(.text-rating-selected){color:var(--fb-rating-selected)}#fbjs :is(.text-red-500){--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}#fbjs :is(.text-red-600){--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}#fbjs :is(.text-signature){color:var(--fb-signature-text-color)}#fbjs :is(.text-slate-300){--tw-text-opacity: 1;color:rgb(203 213 225 / var(--tw-text-opacity))}#fbjs :is(.text-slate-500){--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}#fbjs :is(.text-slate-600){--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity))}#fbjs :is(.text-slate-700){--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}#fbjs :is(.text-slate-900){--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}#fbjs :is(.text-subheading){color:var(--fb-subheading-color)}#fbjs :is(.opacity-0){opacity:0}#fbjs :is(.opacity-100){opacity:1}#fbjs :is(.opacity-60){opacity:.6}#fbjs :is(.shadow-lg){--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs :is(.shadow-md){--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs :is(.shadow-sm){--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs :is(.shadow-xl){--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}#fbjs :is(.filter){filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}#fbjs :is(.transition-all){transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}#fbjs :is(.duration-500){transition-duration:.5s}#fbjs :is(.ease-in-out){transition-timing-function:cubic-bezier(.4,0,.2,1)}#fbjs{font-size:16px}#fbjs *{scrollbar-width:thin;scrollbar-color:#e2e8f0}#fbjs *::-webkit-scrollbar{width:8px;border-radius:99px}#fbjs *::-webkit-scrollbar-track{background:#e2e8f0;border-radius:99px}#fbjs *::-webkit-scrollbar-thumb{background-color:#cbd5e1;border:3px solid #cbd5e1;border-radius:99px}.fb-htmlbody{display:block;font-size:.875em;font-weight:400;line-height:1.5em;color:var(--fb-subheading-color)!important}p.fb-editor-paragraph{color:var(--fb-subheading-color)!important}:root{--slate-50: rgb(248 250 252);--slate-100: rgb(241 245 249);--slate-200: rgb(226 232 240);--slate-300: rgb(203 213 225);--slate-400: rgb(148 163 184);--slate-500: rgb(100 116 139);--slate-600: rgb(71 85 105);--slate-700: rgb(51 65 85);--slate-800: rgb(30 41 59);--slate-900: rgb(15 23 42);--gray-100: rgb(243 244 246);--gray-200: rgb(229 231 235);--yellow-300: rgb(253 224 71);--yellow-500: rgb(234 179 8);--fb-brand-color: rgb(255, 255, 255);--fb-brand-text-color: black;--fb-border-color: var(--slate-300);--fb-border-color-highlight: var(--slate-500);--fb-focus-color: var(--slate-500);--fb-heading-color: var(--slate-900);--fb-subheading-color: var(--slate-700);--fb-info-text-color: var(--slate-500);--fb-signature-text-color: var(--slate-400);--fb-survey-background-color: white;--fb-accent-background-color: var(--slate-200);--fb-accent-background-color-selected: var(--slate-100);--fb-placeholder-color: var(--slate-400);--fb-shadow-color: var(--slate-300);--fb-rating-fill: var(--yellow-300);--fb-rating-hover: var(--yellow-500);--fb-back-btn-border: transparent;--fb-submit-btn-border: transparent;--fb-rating-selected: black;--fb-close-btn-color: var(--slate-500);--fb-close-btn-color-hover: var(--slate-700)}#fbjs :is(.placeholder\\:text-placeholder)::-moz-placeholder{color:var(--fb-placeholder-color)}#fbjs :is(.placeholder\\:text-placeholder)::placeholder{color:var(--fb-placeholder-color)}#fbjs :is(.first\\:rounded-l-md:first-child){border-top-left-radius:.375em;border-bottom-left-radius:.375em}#fbjs :is(.last\\:rounded-r-md:last-child){border-top-right-radius:.375em;border-bottom-right-radius:.375em}#fbjs :is(.focus-within\\:border-border-highlight:focus-within){border-color:var(--fb-border-color-highlight)}#fbjs :is(.focus-within\\:bg-accent-bg:focus-within){background-color:var(--fb-accent-background-color)}#fbjs :is(.hover\\:bg-accent-bg:hover){background-color:var(--fb-accent-background-color)}#fbjs :is(.hover\\:bg-slate-100:hover){--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}#fbjs :is(.hover\\:bg-slate-200:hover){--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}#fbjs :is(.hover\\:bg-slate-50:hover){--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}#fbjs :is(.hover\\:text-amber-400:hover){--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity))}#fbjs :is(.hover\\:text-close-button-focus:hover){color:var(--fb-close-btn-hover-color)}#fbjs :is(.hover\\:text-heading:hover){color:var(--fb-heading-color)}#fbjs :is(.hover\\:text-slate-900:hover){--tw-text-opacity: 1;color:rgb(15 23 42 / var(--tw-text-opacity))}#fbjs :is(.hover\\:opacity-90:hover){opacity:.9}#fbjs :is(.focus\\:border-4:focus){border-width:4px}#fbjs :is(.focus\\:border-border-highlight:focus){border-color:var(--fb-border-color-highlight)}#fbjs :is(.focus\\:bg-accent-bg:focus){background-color:var(--fb-accent-background-color)}#fbjs :is(.focus\\:bg-accent-selected-bg:focus){background-color:var(--fb-accent-background-color-selected)}#fbjs :is(.focus\\:outline-none:focus){outline:2px solid transparent;outline-offset:2px}#fbjs :is(.focus\\:ring-0:focus){--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}#fbjs :is(.focus\\:ring-2:focus){--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}#fbjs :is(.focus\\:ring-border-highlight:focus){--tw-ring-color: var(--fb-border-color-highlight)}#fbjs :is(.focus\\:ring-close-button-focus:focus){--tw-ring-color: var(--fb-close-btn-hover-color)}#fbjs :is(.focus\\:ring-focus:focus){--tw-ring-color: var(--fb-focus-color)}#fbjs :is(.focus\\:ring-neutral-900:focus){--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity))}#fbjs :is(.focus\\:ring-offset-0:focus){--tw-ring-offset-width: 0px}#fbjs :is(.focus\\:ring-offset-1:focus){--tw-ring-offset-width: 1px}#fbjs :is(.focus\\:ring-offset-2:focus){--tw-ring-offset-width: 2px}#fbjs :is(.disabled\\:cursor-not-allowed:disabled){cursor:not-allowed}#fbjs :is(.disabled\\:opacity-50:disabled){opacity:.5}#fbjs :is(.aria-selected\\:opacity-100[aria-selected=true]){opacity:1}#fbjs :is(.dark .dark\\:border-slate-600){--tw-border-opacity: 1;border-color:rgb(71 85 105 / var(--tw-border-opacity))}#fbjs :is(.dark .dark\\:bg-slate-700){--tw-bg-opacity: 1;background-color:rgb(51 65 85 / var(--tw-bg-opacity))}#fbjs :is(.dark .dark\\:text-slate-400){--tw-text-opacity: 1;color:rgb(148 163 184 / var(--tw-text-opacity))}#fbjs :is(.dark .dark\\:hover\\:border-slate-500:hover){--tw-border-opacity: 1;border-color:rgb(100 116 139 / var(--tw-border-opacity))}#fbjs :is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}@media (min-width: 640px){#fbjs :is(.sm\\:bottom-3){bottom:.75em}#fbjs :is(.sm\\:left-1\\/2){left:50%}#fbjs :is(.sm\\:left-3){left:.75em}#fbjs :is(.sm\\:right-3){right:.75em}#fbjs :is(.sm\\:top-1\\/2){top:50%}#fbjs :is(.sm\\:top-3){top:.75em}#fbjs :is(.sm\\:m-4){margin:1em}#fbjs :is(.sm\\:max-w-sm){max-width:24em}#fbjs :is(.sm\\:-translate-x-1\\/2){--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs :is(.sm\\:-translate-y-1\\/2){--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs :is(.sm\\:transform){transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#fbjs :is(.sm\\:text-sm){font-size:.875em;line-height:1.25em}}.fb-editor-text-bold{font-weight:700!important}.fb-editor-text-italic{font-style:italic!important}.fb-editor-link{color:#334155!important;text-decoration:underline!important}.editor-tokenFunction{color:#dd4a68!important}.fb-editor-paragraph{margin:0!important;position:relative!important;color:#334155!important}.fb-editor-paragraph:last-child{margin-bottom:0!important}.fb-editor-heading-h1{font-size:25px!important;font-weight:400!important;margin-bottom:20px!important;font-weight:700!important}.fb-editor-heading-h2{font-size:20px!important;font-weight:700!important;margin-bottom:20px!important}.fb-editor-list-ul,.fb-editor-list-ol{margin-bottom:12px!important}.fb-editor-listitem{margin:0 32px!important}.fb-editor-nested-listitem{list-style-type:none!important}',document.head.appendChild(e)}})(),(({brandColor:e})=>{if(null===document.getElementById("formbricks__css"))return;const t=document.createElement("style");t.id="formbricks__css__custom",t.innerHTML=`\n    :root {\n      --fb-brand-color: ${e};\n      ${function(e){let t,n,s;if(4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),s=parseInt(e[3]+e[3],16)):7===e.length&&(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),s=parseInt(e[5]+e[6],16)),void 0===t||void 0===n||void 0===s)throw new Error("Invalid color");return.299*t+.587*n+.114*s>128}(e)?"--fb-brand-text-color: black;":"--fb-brand-text-color: white;"}\n    }\n  `,document.head.appendChild(t)})({brandColor:e.brandColor});const t=document.createElement("div");var n,s,a,r,o,i;t.id="formbricks-modal-container",document.body.appendChild(t),n=An(Xi,e),s=t,gn.__&&gn.__(n,s),r=(a=!1)?null:s.__k,o=[],i=[],$n(s,n=s.__k=An(In,null,[n]),r||xn,xn,void 0!==s.ownerSVGElement,r?null:s.firstChild?fn.call(s.childNodes):null,o,r?r.__e:s.firstChild,a,i),Vn(o,n,i)},el=(e,t)=>{const n=Math.abs(t.getTime()-e.getTime());return Math.floor(n/864e5)},tl=un.getInstance(),nl=nn.getInstance();let sl=null;const al=async e=>{try{const t=await(async({apiHost:e,environmentId:t,userId:n})=>{const s=`${e}/api/v1/client/${t}/in-app/sync/${n}`,a=`${e}/api/v1/client/${t}/in-app/sync`;if(!n){const e=await fetch(a);if(!e.ok){const t=await e.json();return an({code:"network_error",status:e.status,message:"Error syncing with backend",url:s,responseMessage:t.message})}return sn((await e.json()).data)}const r=await fetch(s);if(!r.ok){const e=await r.json();return an({code:"network_error",status:r.status,message:"Error syncing with backend",url:s,responseMessage:e.message})}const o=await r.json(),{data:i}=o;return sn(i)})(e);if(!0!==(null==t?void 0:t.ok))throw nl.error(`Sync failed: ${JSON.stringify(t.error)}`),t.error;let n;try{n=tl.get().state}catch(e){}let s={surveys:t.value.surveys,noCodeActionClasses:t.value.noCodeActionClasses,product:t.value.product,attributes:(null==n?void 0:n.attributes)||{}};if(e.userId){const e=s.surveys.map((e=>e.name));nl.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}else{s={...s,displays:(null==n?void 0:n.displays)||[]},s=rl(s);const e=s.surveys.map((e=>e.name));nl.debug("Fetched "+e.length+" surveys during sync: "+e.join(", "))}tl.update({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId,state:s})}catch(e){throw nl.error(`Error during sync: ${e}`),e}},rl=e=>{const{displays:t,product:n}=e;let{surveys:s}=e;if(!t)return e;let a=s.filter((e=>{if("respondMultiple"===e.displayOption)return!0;if("displayOnce"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id)).length;if("displayMultiple"===e.displayOption)return 0===t.filter((t=>t.surveyId===e.id&&t.responded)).length;throw Error("Invalid displayOption")}));const r=t.length>0?t[t.length-1]:void 0;return a=a.filter((e=>{if(r){if(null!==e.recontactDays){const n=t.filter((t=>t.surveyId===e.id))[0];return!n||el(new Date,new Date(n.createdAt))>=e.recontactDays}return null===n.recontactDays||el(new Date,new Date(r.createdAt))>=n.recontactDays}return!0})),{...e,surveys:a}},ol="formbricks-web-container",il=un.getInstance(),ll=nn.getInstance(),dl=dn.getInstance();let cl=!1;const ul=e=>{if(cl)return void ll.debug("A survey is already running. Skipping.");cl=!0,e.delay&&ll.debug(`Delaying survey by ${e.delay} seconds.`);const t=il.get().state.product,n=new hn(e.id,null,null,il.get().userId),s=new pn({apiHost:il.get().apiHost,environmentId:il.get().environmentId,retryAttempts:2,onResponseSendingFailed:e=>{alert(`Failed to send response: ${JSON.stringify(e,null,2)}`)}},n),a=e.productOverwrites??{},r=a.brandColor??t.brandColor,o=a.highlightBorderColor??t.highlightBorderColor,i=a.clickOutsideClose??t.clickOutsideClose,l=a.darkOverlay??t.darkOverlay,d=a.placement??t.placement,c=t.inAppSurveyBranding;setTimeout((()=>{Ji({survey:e,brandColor:r,isBrandingEnabled:c,clickOutside:i,darkOverlay:l,highlightBorderColor:o,placement:d,onDisplay:async()=>{const{userId:t}=il.get();if(!t){const t={createdAt:new Date,surveyId:e.id,responded:!1},n=il.get().state.displays,s=n?[...n,t]:[t],a=il.get();let r=rl({...a.state,displays:s});il.update({...a,state:r})}const a=new tn({apiHost:il.get().apiHost,environmentId:il.get().environmentId}),r=await a.client.display.create({surveyId:e.id,userId:t});if(!r.ok)throw new Error("Could not create display");const{id:o}=r.data;n.updateDisplayId(o),s.updateSurveyState(n)},onResponse:e=>{const{userId:t}=il.get();if(!t){const e=il.get().state.displays,t=e&&e[e.length-1];if(!t)throw new Error("No lastDisplay found");if(!t.responded){t.responded=!0;const n=il.get();let s=rl({...n.state,displays:e});il.update({...n,state:s})}}t&&n.updateUserId(t),s.updateSurveyState(n),s.add({data:e.data,ttc:e.ttc,finished:e.finished})},onClose:pl,onFileUpload:async(e,t)=>{const n=new tn({apiHost:il.get().apiHost,environmentId:il.get().environmentId});return await n.client.storage.uploadFile(e,t)}})}),1e3*e.delay)},pl=async()=>{var e;if(null==(e=document.getElementById(ol))||e.remove(),ml(),!il.get().userId){const e=il.get().state,t=rl(e);return il.update({...il.get(),state:t}),void(cl=!1)}try{await al({apiHost:il.get().apiHost,environmentId:il.get().environmentId,userId:il.get().userId}),cl=!1}catch(e){dl.handle(e)}},ml=()=>{const e=document.createElement("div");e.id=ol,document.body.appendChild(e)},hl=nn.getInstance(),fl=un.getInstance(),gl=["Exit Intent (Desktop)","50% Scroll"],bl=async(e,t={})=>{var n;const{userId:s}=fl.get(),a={environmentId:fl.get().environmentId,userId:s,name:e,properties:t||{}};if(s&&!gl.includes(e)){hl.debug(`Sending action "${e}" to backend`);const t=new tn({apiHost:fl.get().apiHost,environmentId:fl.get().environmentId}),n=await t.client.action.create({...a,userId:s});if(!n.ok)return an({code:"network_error",message:`Error tracking action ${e}`,status:500,url:`${fl.get().apiHost}/api/v1/client/${fl.get().environmentId}/actions`,responseMessage:n.error.message})}hl.debug(`Formbricks: Action "${e}" tracked`);const r=null==(n=fl.get().state)?void 0:n.surveys;return r&&r.length>0?_l(e,r):hl.debug("No active surveys to display"),{ok:!0,value:void 0}},_l=(e,t)=>{for(const n of t)for(const t of n.triggers)if(t===e)return hl.debug(`Formbricks: survey ${n.id} triggered by action "${e}"`),void ul(n)},vl=e=>async(...t)=>{try{return{ok:!0,data:await e(...t)}}catch(e){return{ok:!1,error:e}}};let yl=!1,wl=async function(e){if(e.clientY<=0){const e=await bl("Exit Intent (Desktop)");if(!0!==e.ok)return an(e.error)}};let kl=!1,xl=!1,El=async()=>{const e=window.scrollY,t=window.innerHeight,n=document.documentElement.scrollHeight;if(0===e&&(xl=!1),!xl&&e/(n-t)>=.5){xl=!0;const e=await bl("50% Scroll");if(!0!==e.ok)return an(e.error)}};const Cl=un.getInstance(),Sl=nn.getInstance(),jl=dn.getInstance(),Nl=async()=>{var e;Sl.debug(`Checking page url: ${window.location.href}`);const{state:t}=Cl.get();if(void 0===(null==t?void 0:t.noCodeActionClasses))return{ok:!0,value:void 0};const n=((null==t?void 0:t.noCodeActionClasses)||[]).filter((e=>{const{innerHtml:t,cssSelector:n,pageUrl:s}=e.noCodeConfig||{};return s&&!t&&!n}));if(0===n.length)return{ok:!0,value:void 0};for(const t of n){if(!(null==(e=t.noCodeConfig)?void 0:e.pageUrl))continue;const{noCodeConfig:{pageUrl:n}}=t,s=Il(window.location.href,n.value,n.rule);if(!0!==s.ok)return an(s.error);if(!1===s.value)continue;const a=await bl(t.name);if(!0!==a.ok)return an(a.error)}return{ok:!0,value:void 0}};let Al=!1;const Ll=()=>Nl();function Il(e,t,n){switch(n){case"exactMatch":return sn(e===t);case"contains":return sn(e.includes(t));case"startsWith":return sn(e.startsWith(t));case"endsWith":return sn(e.endsWith(t));case"notMatch":return sn(e!==t);case"notContains":return sn(!e.includes(t));default:return an({code:"invalid_match_type",message:"Invalid match type"})}}let Dl=!1;const Tl=e=>(e=>{const{state:t}=Cl.get();if(!t)return;const n=e.target;((null==t?void 0:t.noCodeActionClasses)||[]).forEach((e=>{var t,s,a,r,o,i,l,d;const c=null==(s=null==(t=e.noCodeConfig)?void 0:t.innerHtml)?void 0:s.value,u=null==(r=null==(a=e.noCodeConfig)?void 0:a.cssSelector)?void 0:r.value,p=null==(i=null==(o=e.noCodeConfig)?void 0:o.pageUrl)?void 0:i.value,m=null==(d=null==(l=e.noCodeConfig)?void 0:l.pageUrl)?void 0:d.rule;if((c||u||p)&&(!c||n.innerHTML===c)){if(u){const e=u.split(/\s*(?=[.#])/);for(let t of e)if(!n.matches(t))return}if(p&&m){const e=Il(window.location.href,p,m);if(!e.ok||!e.value)return}bl(e.name).then((e=>{var t,n;n=e=>{jl.handle(e)},!0===(t=e).ok?t.value:n(t.error)}))}}))})(e);let Ml=!1;const Ol=un.getInstance(),Fl=nn.getInstance(),Bl=un.getInstance(),Pl=nn.getInstance();let Rl=!1;const zl=async e=>{if(Rl)return Pl.debug("Already initialized, skipping initialization."),{ok:!0,value:void 0};if((e=>{e.debug&&(Pl.debug("Setting log level to debug"),Pl.configure({logLevel:"debug"}))})(e),dn.getInstance().printStatus(),Pl.debug("Start initialize"),!e.environmentId)return Pl.debug("No environmentId provided"),an({code:"missing_field",field:"environmentId"});if(!e.apiHost)return Pl.debug("No apiHost provided"),an({code:"missing_field",field:"apiHost"});if(Pl.debug("Adding widget container to DOM"),ml(),!e.userId&&e.attributes)return Pl.error("No userId provided but attributes. Cannot update attributes without userId."),an({code:"missing_field",field:"userId"});let t,n=null;if(e.userId&&e.attributes){const t=await(async(e,t,n,s)=>{var a,r;if(!n)return an({code:"missing_person",message:"Unable to update attribute. User identification deactivated. No userId set."});const o={...s};try{const e=null==(r=null==(a=Ol.get())?void 0:a.state)?void 0:r.attributes;if(e)for(const[t,n]of Object.entries(e))o[t]===n&&delete o[t]}catch(e){Fl.debug("config not set; sending all attributes to backend")}if(0===Object.keys(o).length)return Fl.debug("No attributes to update. Skipping update."),sn(o);Fl.debug("Updating attributes: "+JSON.stringify(o));const i={attributes:o},l=new tn({apiHost:e,environmentId:t}),d=await l.client.people.update(n,i);return d.ok?sn(o):an({code:"network_error",status:500,message:`Error updating person with userId ${n}`,url:`${e}/api/v1/client/${t}/people/${n}`,responseMessage:d.error.message})})(e.apiHost,e.environmentId,e.userId,e.attributes);if(!0!==t.ok)return an(t.error);n=t.value}try{t=Bl.get()}catch(e){Pl.debug("No existing configuration found.")}return t&&t.state&&t.environmentId===e.environmentId&&t.apiHost===e.apiHost&&t.userId===e.userId&&t.expiresAt?(Pl.debug("Found existing configuration."),t.expiresAt<new Date?(Pl.debug("Configuration expired."),await al({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId})):(Pl.debug("Configuration not expired. Extending expiration."),Bl.update(t))):(Pl.debug("No valid configuration found or it has been expired. Creating new config."),Pl.debug("Syncing."),await al({apiHost:e.apiHost,environmentId:e.environmentId,userId:e.userId}),await bl("New Session")),n&&Object.keys(n).length>0&&Bl.update({environmentId:Bl.get().environmentId,apiHost:Bl.get().apiHost,userId:Bl.get().userId,state:{...Bl.get().state,attributes:{...Bl.get().state.attributes,...e.attributes}}}),Pl.debug("Adding event listeners"),"undefined"!=typeof window&&null===sl&&(sl=window.setInterval((async()=>{tl.get().expiresAt&&new Date(tl.get().expiresAt)>=new Date||(nl.debug("Config has expired. Starting sync."),await al({apiHost:tl.get().apiHost,environmentId:tl.get().environmentId,userId:tl.get().userId}))}),6e4)),"undefined"==typeof window||Al||(window.addEventListener("hashchange",Ll),window.addEventListener("popstate",Ll),window.addEventListener("pushstate",Ll),window.addEventListener("replacestate",Ll),window.addEventListener("load",Ll),Al=!0),"undefined"==typeof window||Dl||(document.addEventListener("click",Tl),Dl=!0),"undefined"==typeof document||yl||(document.querySelector("body").addEventListener("mouseleave",wl),yl=!0),"undefined"==typeof window||kl||(window.addEventListener("load",(()=>{window.addEventListener("scroll",El)})),kl=!0),Ml||(window.addEventListener("beforeunload",(()=>{"undefined"!=typeof window&&null!==sl&&(window.clearInterval(sl),sl=null),"undefined"!=typeof window&&Al&&(window.removeEventListener("hashchange",Ll),window.removeEventListener("popstate",Ll),window.removeEventListener("pushstate",Ll),window.removeEventListener("replacestate",Ll),window.removeEventListener("load",Ll),Al=!1),Dl&&(document.removeEventListener("click",Tl),Dl=!1),yl&&(document.removeEventListener("mouseleave",wl),yl=!1),kl&&(window.removeEventListener("scroll",El),kl=!1)})),Ml=!0),Rl=!0,Pl.debug("Initialized"),Nl(),{ok:!0,value:void 0}};nn.getInstance().debug("Create command queue");const ql=new class{constructor(){this.queue=[],this.running=!1,this.resolvePromise=null,this.commandPromise=null}add(e=!0,t,...n){this.queue.push({command:t,checkInitialized:e,commandArgs:n}),this.running||(this.commandPromise=new Promise((e=>{this.resolvePromise=e,this.run()})))}async wait(){this.running&&await this.commandPromise}async run(){for(this.running=!0;this.queue.length>0;){const e=dn.getInstance(),t=this.queue.shift();if(!t)continue;if(t.checkInitialized){const t=(Pl.debug("Check if initialized"),Rl&&dn.initialized?{ok:!0,value:void 0}:an({code:"not_initialized",message:"Formbricks not initialized. Call initialize() first."}));t&&!0!==t.ok&&e.handle(t.error)}const n=async()=>await(null==t?void 0:t.command.apply(null,null==t?void 0:t.commandArgs)),s=await vl(n)();s&&(s.ok&&(s.data.ok||e.handle(s.data.error)),!0!==s.ok&&e.handle(s.error))}this.running=!1,this.resolvePromise&&(this.resolvePromise(),this.resolvePromise=null,this.commandPromise=null)}};function Zl(e,t=1){const n=Math.round(e/t);return 0===n||1===n?0:1<n&&8>n?7:8<=n&&31>n?30:30<n&&90>n?90:90<n?91:void 0}"undefined"!=typeof window&&optimoleDashboardApp.user_data.plan&&(async e=>{dn.init(e.errorHandler),ql.add(!1,zl,e),await ql.wait()})({environmentId:"clo8wxwzj44orpm0gjchurujm",apiHost:"https://app.formbricks.com",userId:"optml_"+optimoleDashboardApp.user_data.id,attributes:{plan:optimoleDashboardApp.user_data.plan,status:optimoleDashboardApp.user_data.status,cname_assigned:optimoleDashboardApp.user_data.is_cname_assigned||"no",connected_websites:optimoleDashboardApp.user_data.whitelist.length,traffic:Zl(optimoleDashboardApp.user_data.traffic,500),images_number:Zl(optimoleDashboardApp.user_data.images_number,100),days_since_install:Zl(optimoleDashboardApp.days_since_install)}});const Ul=({tab:e,setTab:t})=>{const{isConnected:n,hasApplication:r,hasConflicts:o,siteSettings:i,extraVisits:l}=(0,d.useSelect)((e=>{const{isConnected:t,hasApplication:n,getConflicts:s,getSiteSettings:a}=e("optimole"),r=s(),o=a();return{isConnected:t(),hasApplication:n(),hasConflicts:0<r.count||0,siteSettings:o,extraVisits:o.banner_frontend}})),{setQueryArgs:c}=(0,d.useDispatch)("optimole"),[u,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)("general"),[f,g]=(0,a.useState)(!1),[b,_]=(0,a.useState)(i);return(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search),n=Object.fromEntries(e.entries());let s=[];if(Object.prototype.hasOwnProperty.call(n,"optimole_action")){for(let e=0;20>e;e++)Object.prototype.hasOwnProperty.call(n,e)&&(isNaN(n[e])||(s[e]=parseInt(n[e],10)));n.images=s,n.url=window.location.href.split("?")[0]+(Object.prototype.hasOwnProperty.call(n,"paged")?"?paged="+n.paged:""),c(n),t("settings"),h("offload_media")}}),[]),(0,a.useEffect)((()=>{n&&r&&(D(!0),C()({path:optimoleDashboardApp.routes.poll_conflicts,method:"GET",parse:!1}).then((e=>200<=e.status&&300>e.status?e.json():(console.log(`%c Request failed with status ${e.status}`,"color: #E7602A"),Promise.resolve()))).then((e=>{D(!1),e&&q(e.data)})))}),[]),(0,a.useEffect)((()=>{o&&p(!0)}),[o]),(0,a.useEffect)((()=>{_({...b,banner_frontend:l})}),[l]),(0,a.useEffect)((()=>{window.onbeforeunload=f?()=>!0:null}),[f]),(0,s.createElement)(s.Fragment,null,(0,s.createElement)("div",{className:"optml-connected max-w-screen-xl flex flex-col lg:flex-row mx-auto gap-5"},(0,s.createElement)("div",{className:"flex flex-col justify-between mt-8 mb-5 p-0 transition-all ease-in-out duration-700 relative text-gray-700 basis-9/12"},"dashboard"===e&&(0,s.createElement)(Ue,null),"conflicts"===e&&u&&(0,s.createElement)($e,null),"settings"===e&&(0,s.createElement)(It,{tab:m,setTab:h,canSave:f,setCanSave:g,settings:b,setSettings:_}),"help"===e&&(0,s.createElement)(Pt,null)),(0,s.createElement)(zt,null)),(0,s.createElement)(Vt,null))},Hl=[{label:optimoleDashboardApp.strings.optimole+" "+optimoleDashboardApp.strings.version,href:"https://optimole.com/"},{label:optimoleDashboardApp.strings.terms_menu,href:"https://optimole.com/terms/"},{label:optimoleDashboardApp.strings.privacy_menu,href:"https://optimole.com/privacy-policy/"},{label:optimoleDashboardApp.strings.testdrive_menu,href:"https://optimole.com/test-drive?url="+optimoleDashboardApp.home_url}],$l=()=>(0,s.createElement)("footer",{className:"max-w-screen-xl gap-3 md:gap-0 mx-auto my-5 flex justify-between text-base flex-col md:flex-row"},(0,s.createElement)("div",{dangerouslySetInnerHTML:{__html:optimoleDashboardApp.strings.account_needed_subtitle_3}}),(0,s.createElement)("nav",{className:"flex gap-0 sm:gap-3 flex-wrap md:flex-nowrap"},Hl.map(((e,t)=>(0,s.createElement)(h.ExternalLink,{key:t,href:e.href,className:"basis-1/2 sm:basis-auto"},e.label))))),Vl=window.lodash;function Wl(){const e=(0,d.useSelect)((e=>e(j.store).getNotices()),[]),{removeNotice:t}=(0,d.useDispatch)(j.store),n=(0,Vl.filter)(e,{type:"snackbar"});return(0,s.createElement)(h.SnackbarList,{notices:n,className:"px-2 bottom-4 fixed",onRemove:t})}(0,a.render)((0,s.createElement)((()=>{const e=window.location.hash.replace("#","");let t=["dashboard","settings","help"].includes(e)?e:"dashboard";const[n,r]=(0,a.useState)(t),o=e=>{e.preventDefault(),r("settings")},i=e=>{e.preventDefault(),r("dashboard")},{showDisconnect:l,isConnected:c,hasApplication:u,hasDashboardLoaded:p}=(0,d.useSelect)((e=>{const{showDisconnect:t,isConnected:n,hasApplication:s,hasDashboardLoaded:a}=e("optimole");return{showDisconnect:t(),isConnected:n(),hasApplication:s(),hasDashboardLoaded:a()}}));return(0,a.useEffect)((()=>{c&&(window.location.hash=`#${n}`,N.forEach((e=>{const t=document.querySelector(`a[href="${e.href}"]`);if(!t)return;const n=t.parentNode;if(e.hash&&e.hash===window.location.hash)return t.classList.add("current"),void n.classList.add("current");t.classList.remove("current"),n.classList.remove("current")})))}),[n]),(0,a.useEffect)((()=>{if(!c)return;const e=document.querySelector('a[href*="page=optimole"]'),t=document.querySelector('a[href*="page=optimole#settings"]');return e&&t?(e.addEventListener("click",i),t.addEventListener("click",o),()=>{e&&t&&(e.removeEventListener("click",i),t.removeEventListener("click",o))}):void 0}),[]),(0,s.createElement)("div",{className:"antialiased"},(0,s.createElement)(ke,{tab:n,setTab:r}),!(c&&u)&&(0,s.createElement)(s.Fragment,null,(0,s.createElement)(Ne,null),(0,s.createElement)($l,null)),c&&u&&!p&&(0,s.createElement)(Ie,null),c&&l&&(0,s.createElement)(xe,null),c&&u&&p&&(0,s.createElement)(Ul,{tab:n,setTab:r}),(0,s.createElement)(Wl,null))}),null),document.getElementById("optimole-app"))},184:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)s.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},864:(e,t,n)=>{(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},s={};t.r(s),t.d(s,{default:()=>d});const a=n(196);var r=t.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=e=>{const{aspectRatio:t="taller",handle:n=null,handleSize:s=40,hover:o=!1,leftImage:l,leftImageAlt:d="",leftImageCss:c={},leftImageLabel:u=null,onSliderPositionChange:p=(()=>{}),rightImage:m,rightImageAlt:h="",rightImageCss:f={},rightImageLabel:g=null,skeleton:b=null,sliderLineColor:_="#ffffff",sliderLineWidth:v=2,sliderPositionPercentage:y=.5,vertical:w=!1}=e,k=!w,[x,E]=(0,a.useState)(y),[C,S]=(0,a.useState)(0),[j,N]=(0,a.useState)(0),[A,L]=(0,a.useState)(!1),[I,D]=(0,a.useState)(!1),[T,M]=(0,a.useState)(!1),O=(0,a.useRef)(null),F=(0,a.useRef)(null),B=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=O.current,t=new ResizeObserver((e=>{let[t,...n]=e;const s=t.target.getBoundingClientRect().width;S(s)}));return t.observe(e),()=>t.disconnect()}),[]),(0,a.useEffect)((()=>(B.current.complete&&L(!0),()=>{L(!1)})),[l]),(0,a.useEffect)((()=>(F.current.complete&&D(!0),()=>{D(!1)})),[m]);const P=I&&A;(0,a.useEffect)((()=>{const e=e=>{const t=e||window.event,n=t.touches?t.touches[0].pageX:t.pageX,s=t.touches?t.touches[0].pageY:t.pageY,a=n-window.pageXOffset,r=s-window.pageYOffset,o=F.current.getBoundingClientRect();let i=k?a-o.left:r-o.top;const l=0+v/2,d=k?C-v/2:j-v/2;i<l&&(i=l),i>d&&(i=d),E(k?i/C:i/j),p&&p(k?i/C:i/j)},n=t=>{M(!0),"touches"in t||t.preventDefault(),e(t),window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)},s=()=>{M(!1),window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e)},a=O.current;if(P){a.addEventListener("touchstart",n),window.addEventListener("touchend",s),o?(a.addEventListener("mousemove",e),a.addEventListener("mouseleave",s)):(a.addEventListener("mousedown",n),window.addEventListener("mouseup",s));const r=B.current.naturalHeight/B.current.naturalWidth,i=F.current.naturalHeight/F.current.naturalWidth,l="taller"===t?Math.max(r,i):Math.min(r,i);N(C*l)}return()=>{a.removeEventListener("touchstart",n),window.removeEventListener("touchend",s),a.removeEventListener("mousemove",e),a.removeEventListener("mouseleave",s),a.removeEventListener("mousedown",n),window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e)}}),[P,t,j,C,k,o,v,w]);const R={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${j}px`,overflow:"hidden"},rightImage:i({clip:k?`rect(auto, auto, auto, ${C*x}px)`:`rect(${j*x}px, auto, auto, auto)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%"},f),leftImage:i({clip:k?`rect(auto, ${C*x}px, auto, auto)`:`rect(auto, auto, ${j*x}px, auto)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%"},c),slider:{alignItems:"center",cursor:!o&&k?"ew-resize":!o&&!k&&"ns-resize",display:"flex",flexDirection:k?"column":"row",height:k?"100%":`${s}px`,justifyContent:"center",left:k?C*x-s/2+"px":0,position:"absolute",top:k?0:j*x-s/2+"px",width:k?`${s}px`:"100%"},line:{background:_,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:k?"100%":`${v}px`,width:k?`${v}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${v}px solid ${_}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${s}px`,justifyContent:"center",width:`${s}px`,transform:k?"none":"rotate(90deg)"},leftArrow:{border:`inset ${.15*s}px rgba(0,0,0,0)`,borderRight:`${.15*s}px solid ${_}`,height:"0px",marginLeft:`-${.25*s}px`,marginRight:.25*s+"px",width:"0px"},rightArrow:{border:`inset ${.15*s}px rgba(0,0,0,0)`,borderLeft:`${.15*s}px solid ${_}`,height:"0px",marginRight:`-${.25*s}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:k?"5%":"50%",opacity:T?0:1,padding:"10px 20px",position:"absolute",top:k?"50%":"3%",transform:k?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:T?0:1,padding:"10px 20px",position:"absolute",left:k?null:"50%",right:k?"5%":null,top:k?"50%":null,bottom:k?null:"3%",transform:k?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},leftLabelContainer:{clip:k?`rect(auto, ${C*x}px, auto, auto)`:`rect(auto, auto, ${j*x}px, auto)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clip:k?`rect(auto, auto, auto, ${C*x}px)`:`rect(${j*x}px, auto, auto, auto)`,height:"100%",position:"absolute",width:"100%"}};return r().createElement(r().Fragment,null,b&&!P&&r().createElement("div",{style:i({},R.container)},b),r().createElement("div",{style:i(i({},R.container),{},{display:P?"block":"none"}),ref:O,"data-testid":"container"},r().createElement("img",{onLoad:()=>D(!0),alt:h,"data-testid":"right-image",ref:F,src:m,style:R.rightImage}),r().createElement("img",{onLoad:()=>L(!0),alt:d,"data-testid":"left-image",ref:B,src:l,style:R.leftImage}),r().createElement("div",{style:R.slider},r().createElement("div",{style:R.line}),n?r().createElement("div",{style:R.handleCustom},n):r().createElement("div",{style:R.handleDefault},r().createElement("div",{style:R.leftArrow}),r().createElement("div",{style:R.rightArrow})),r().createElement("div",{style:R.line})),u&&r().createElement("div",{style:R.leftLabelContainer},r().createElement("div",{style:R.leftLabel},u)),g&&r().createElement("div",{style:R.rightLabelContainer},r().createElement("div",{style:R.rightLabel},g))))};e.exports=s})()},196:e=>{"use strict";e.exports=window.React}},n={};function s(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,n,a,r)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,a,r]=e[c],i=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[o,i,l]=n,d=0;if(o.some((t=>0!==e[t]))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var c=l(s)}for(t&&t(n);d<o.length;d++)r=o[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},n=globalThis.webpackChunkoptimole_wp=globalThis.webpackChunkoptimole_wp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=s.O(void 0,[431],(()=>s(646)));a=s.O(a)})();